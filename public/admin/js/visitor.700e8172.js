(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["visitor"],{"0b26":function(e,t,a){"use strict";var i=a("808b"),n=a.n(i);n.a},"1ab3":function(e,t,a){var i=a("6d8b"),n=a("2306"),r=a("e887");function o(e,t,a,i){var n=t.getData(),r=this.dataIndex,o=n.getName(r),s=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:o,seriesId:t.id}),n.each((function(e){l(n.getItemGraphicEl(e),n.getItemLayout(e),t.isSelected(n.getName(e)),s,a)}))}function l(e,t,a,i,n){var r=(t.startAngle+t.endAngle)/2,o=Math.cos(r),l=Math.sin(r),s=a?i:0,c=[o*s,l*s];n?e.animate().when(200,{position:c}).start("bounceOut"):e.attr("position",c)}function s(e,t){n.Group.call(this);var a=new n.Sector({z2:2}),i=new n.Polyline,r=new n.Text;this.add(a),this.add(i),this.add(r),this.updateData(e,t,!0)}var c=s.prototype;c.updateData=function(e,t,a){var r=this.childAt(0),o=this.childAt(1),s=this.childAt(2),c=e.hostModel,g=e.getItemModel(t),u=e.getItemLayout(t),h=i.extend({},u);h.label=null;var d=c.getShallow("animationTypeUpdate");if(a){r.setShape(h);var p=c.getShallow("animationType");"scale"===p?(r.shape.r=u.r0,n.initProps(r,{shape:{r:u.r}},c,t)):(r.shape.endAngle=u.startAngle,n.updateProps(r,{shape:{endAngle:u.endAngle}},c,t))}else"expansion"===d?r.setShape(h):n.updateProps(r,{shape:h},c,t);var f=e.getItemVisual(t,"color");r.useStyle(i.defaults({lineJoin:"bevel",fill:f},g.getModel("itemStyle").getItemStyle())),r.hoverStyle=g.getModel("emphasis.itemStyle").getItemStyle();var m=g.getShallow("cursor");m&&r.attr("cursor",m),l(this,e.getItemLayout(t),c.isSelected(e.getName(t)),c.get("selectedOffset"),c.get("animation"));var v=!a&&"transition"===d;this._updateLabel(e,t,v),this.highDownOnUpdate=g.get("hoverAnimation")&&c.isAnimationEnabled()?function(e,t){"emphasis"===t?(o.ignore=o.hoverIgnore,s.ignore=s.hoverIgnore,r.stopAnimation(!0),r.animateTo({shape:{r:u.r+c.get("hoverOffset")}},300,"elasticOut")):(o.ignore=o.normalIgnore,s.ignore=s.normalIgnore,r.stopAnimation(!0),r.animateTo({shape:{r:u.r}},300,"elasticOut"))}:null,n.setHoverStyle(this)},c._updateLabel=function(e,t,a){var i=this.childAt(1),r=this.childAt(2),o=e.hostModel,l=e.getItemModel(t),s=e.getItemLayout(t),c=s.label,g=e.getItemVisual(t,"color");if(!c||isNaN(c.x)||isNaN(c.y))r.ignore=r.normalIgnore=r.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var u={points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]},h={x:c.x,y:c.y};a?(n.updateProps(i,{shape:u},o,t),n.updateProps(r,{style:h},o,t)):(i.attr({shape:u}),r.attr({style:h})),r.attr({rotation:c.rotation,origin:[c.x,c.y],z2:10});var d=l.getModel("label"),p=l.getModel("emphasis.label"),f=l.getModel("labelLine"),m=l.getModel("emphasis.labelLine");g=e.getItemVisual(t,"color");n.setLabelStyle(r.style,r.hoverStyle={},d,p,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:c.text,autoColor:g,useInsideStyle:!!c.inside},{textAlign:c.textAlign,textVerticalAlign:c.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!d.get("show"),r.hoverIgnore=!p.get("show"),i.ignore=i.normalIgnore=!f.get("show"),i.hoverIgnore=!m.get("show"),i.setStyle({stroke:g,opacity:e.getItemVisual(t,"opacity")}),i.setStyle(f.getModel("lineStyle").getLineStyle()),i.hoverStyle=m.getModel("lineStyle").getLineStyle();var v=f.get("smooth");v&&!0===v&&(v=.4),i.setShape({smooth:v})}},i.inherits(s,n.Group);var g=r.extend({type:"pie",init:function(){var e=new n.Group;this._sectorGroup=e},render:function(e,t,a,n){if(!n||n.from!==this.uid){var r=e.getData(),l=this._data,c=this.group,g=t.get("animation"),u=!l,h=e.get("animationType"),d=e.get("animationTypeUpdate"),p=i.curry(o,this.uid,e,g,a),f=e.get("selectedMode");if(r.diff(l).add((function(e){var t=new s(r,e);u&&"scale"!==h&&t.eachChild((function(e){e.stopAnimation(!0)})),f&&t.on("click",p),r.setItemGraphicEl(e,t),c.add(t)})).update((function(e,t){var a=l.getItemGraphicEl(t);u||"transition"===d||a.eachChild((function(e){e.stopAnimation(!0)})),a.updateData(r,e),a.off("click"),f&&a.on("click",p),c.add(a),r.setItemGraphicEl(e,a)})).remove((function(e){var t=l.getItemGraphicEl(e);c.remove(t)})).execute(),g&&r.count()>0&&(u?"scale"!==h:"transition"!==d)){for(var m=r.getItemLayout(0),v=1;isNaN(m.startAngle)&&v<r.count();++v)m=r.getItemLayout(v);var b=Math.max(a.getWidth(),a.getHeight())/2,y=i.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(m.cx,m.cy,b,m.startAngle,m.clockwise,y,e,u))}else c.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(e,t,a,i,r,o,l,s){var c=new n.Sector({shape:{cx:e,cy:t,r0:0,r:a,startAngle:i,endAngle:i,clockwise:r}}),g=s?n.initProps:n.updateProps;return g(c,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},l,o),c},containPoint:function(e,t){var a=t.getData(),i=a.getItemLayout(0);if(i){var n=e[0]-i.cx,r=e[1]-i.cy,o=Math.sqrt(n*n+r*r);return o<=i.r&&o>=i.r0}}}),u=g;e.exports=u},"292e":function(e,t,a){var i=a("3842"),n=i.parsePercent,r=i.linearMap,o=a("f934"),l=a("bb70"),s=a("6d8b"),c=2*Math.PI,g=Math.PI/180;function u(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function h(e,t,a,i){t.eachSeriesByType(e,(function(e){var t=e.getData(),i=t.mapDimension("value"),o=u(e,a),h=e.get("center"),d=e.get("radius");s.isArray(d)||(d=[0,d]),s.isArray(h)||(h=[h,h]);var p=n(o.width,a.getWidth()),f=n(o.height,a.getHeight()),m=Math.min(p,f),v=n(h[0],p)+o.x,b=n(h[1],f)+o.y,y=n(d[0],m/2),x=n(d[1],m/2),w=-e.get("startAngle")*g,S=e.get("minAngle")*g,A=0;t.each(i,(function(e){!isNaN(e)&&A++}));var M=t.getSum(i),I=Math.PI/(M||A)*2,L=e.get("clockwise"),D=e.get("roseType"),N=e.get("stillShowZeroSum"),P=t.getDataExtent(i);P[0]=0;var _=c,T=0,O=w,k=L?1:-1;if(t.each(i,(function(e,a){var i;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:L,cx:v,cy:b,r0:y,r:D?NaN:x,viewRect:o});else{i="area"!==D?0===M&&N?I:e*I:c/A,i<S?(i=S,_-=S):T+=e;var n=O+k*i;t.setItemLayout(a,{angle:i,startAngle:O,endAngle:n,clockwise:L,cx:v,cy:b,r0:y,r:D?r(e,P,[y,x]):x,viewRect:o}),O=n}})),_<c&&A)if(_<=.001){var C=c/A;t.each(i,(function(e,a){if(!isNaN(e)){var i=t.getItemLayout(a);i.angle=C,i.startAngle=w+k*a*C,i.endAngle=w+k*(a+1)*C}}))}else I=_/T,O=w,t.each(i,(function(e,a){if(!isNaN(e)){var i=t.getItemLayout(a),n=i.angle===S?S:e*I;i.startAngle=O,i.endAngle=O+k*n,O+=k*n}}));l(e,x,o.width,o.height,o.x,o.y)}))}e.exports=h},6434:function(e,t,a){"use strict";var i=a("7d6f"),n=a.n(i);n.a},7023:function(e,t,a){var i=a("6d8b"),n={updateSelectedMap:function(e){this._targetList=i.isArray(e)?e.slice():[],this._selectTargetMap=i.reduce(e||[],(function(e,t){return e.set(t.name,t),e}),i.createHashMap())},select:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e),i=this.get("selectedMode");"single"===i&&this._selectTargetMap.each((function(e){e.selected=!1})),a&&(a.selected=!0)},unSelect:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);a&&(a.selected=!1)},toggleSelected:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=a)return this[a.selected?"unSelect":"select"](e,t),a.selected},isSelected:function(e,t){var a=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return a&&a.selected}};e.exports=n},7782:function(e,t,a){var i=a("3eba"),n=a("6d8b");function r(e,t){n.each(t,(function(t){t.update="updateView",i.registerAction(t,(function(a,i){var n={};return i.eachComponent({mainType:"series",subType:e,query:a},(function(e){e[t.method]&&e[t.method](a.name,a.dataIndex);var i=e.getData();i.each((function(t){var a=i.getName(t);n[a]=e.isSelected(a)||!1}))})),{name:a.name,selected:n,seriesId:a.seriesId}}))}))}e.exports=r},"7d6f":function(e,t,a){},"808b":function(e,t,a){},"98e7":function(e,t,a){var i=a("6d8b"),n=i.createHashMap;function r(e){return{getTargetSeries:function(t){var a={},i=n();return t.eachSeriesByType(e,(function(e){e.__paletteScope=a,i.set(e.uid,e)})),i},reset:function(e,t){var a=e.getRawData(),i={},n=e.getData();n.each((function(e){var t=n.getRawIndex(e);i[t]=e})),a.each((function(t){var r,o=i[t],l=null!=o&&n.getItemVisual(o,"color",!0),s=null!=o&&n.getItemVisual(o,"borderColor",!0);if(l&&s||(r=a.getItemModel(t)),!l){var c=r.get("itemStyle.color")||e.getColorFromPalette(a.getName(t)||t+"",e.__paletteScope,a.count());null!=o&&n.setItemVisual(o,"color",c)}if(!s){var g=r.get("itemStyle.borderColor");null!=o&&n.setItemVisual(o,"borderColor",g)}}))}}}e.exports=r},bb70:function(e,t,a){var i=a("e86a"),n=a("3842"),r=n.parsePercent,o=Math.PI/180;function l(e,t,a,i,n,r,o,l,s,c){function g(t,a,i,n){for(var r=t;r<a;r++){if(e[r].y+i>s+o)break;if(e[r].y+=i,r>t&&r+1<a&&e[r+1].y>e[r].y+e[r].height)return void u(r,i/2)}u(a-1,i/2)}function u(t,a){for(var i=t;i>=0;i--){if(e[i].y-a<s)break;if(e[i].y-=a,i>0&&e[i].y>e[i-1].y+e[i-1].height)break}}function h(e,t,a,i,n,r){for(var o=t?Number.MAX_VALUE:0,l=0,s=e.length;l<s;l++)if("none"===e[l].labelAlignTo){var c=Math.abs(e[l].y-i),g=e[l].len,u=e[l].len2,h=c<n+g?Math.sqrt((n+g+u)*(n+g+u)-c*c):Math.abs(e[l].x-a);t&&h>=o&&(h=o-10),!t&&h<=o&&(h=o+10),e[l].x=a+h*r,o=h}}e.sort((function(e,t){return e.y-t.y}));for(var d,p=0,f=e.length,m=[],v=[],b=0;b<f;b++){if("outer"===e[b].position&&"labelLine"===e[b].labelAlignTo){var y=e[b].x-c;e[b].linePoints[1][0]+=y,e[b].x=c}d=e[b].y-p,d<0&&g(b,f,-d,n),p=e[b].y+e[b].height}o-p<0&&u(f-1,p-o);for(b=0;b<f;b++)e[b].y>=a?v.push(e[b]):m.push(e[b]);h(m,!1,t,a,i,n),h(v,!0,t,a,i,n)}function s(e,t,a,n,r,o,s,g){for(var u=[],h=[],d=Number.MAX_VALUE,p=-Number.MAX_VALUE,f=0;f<e.length;f++)c(e[f])||(e[f].x<t?(d=Math.min(d,e[f].x),u.push(e[f])):(p=Math.max(p,e[f].x),h.push(e[f])));l(h,t,a,n,1,r,o,s,g,p),l(u,t,a,n,-1,r,o,s,g,d);for(f=0;f<e.length;f++){var m=e[f];if(!c(m)){var v=m.linePoints;if(v){var b,y="edge"===m.labelAlignTo,x=m.textRect.width;b=y?m.x<t?v[2][0]-m.labelDistance-s-m.labelMargin:s+r-m.labelMargin-v[2][0]-m.labelDistance:m.x<t?m.x-s-m.bleedMargin:s+r-m.x-m.bleedMargin,b<m.textRect.width&&(m.text=i.truncateText(m.text,b,m.font),"edge"===m.labelAlignTo&&(x=i.getWidth(m.text,m.font)));var w=v[1][0]-v[2][0];y?m.x<t?v[2][0]=s+m.labelMargin+x+m.labelDistance:v[2][0]=s+r-m.labelMargin-x-m.labelDistance:(m.x<t?v[2][0]=m.x+m.labelDistance:v[2][0]=m.x-m.labelDistance,v[1][0]=v[2][0]+w),v[1][1]=v[2][1]=m.y}}}}function c(e){return"center"===e.position}function g(e,t,a,n,l,c){var g,u,h=e.getData(),d=[],p=!1,f=(e.get("minShowLabelAngle")||0)*o;h.each((function(n){var o=h.getItemLayout(n),s=h.getItemModel(n),c=s.getModel("label"),m=c.get("position")||s.get("emphasis.label.position"),v=c.get("distanceToLabelLine"),b=c.get("alignTo"),y=r(c.get("margin"),a),x=c.get("bleedMargin"),w=c.getFont(),S=s.getModel("labelLine"),A=S.get("length");A=r(A,a);var M=S.get("length2");if(M=r(M,a),!(o.angle<f)){var I,L,D,N,P=(o.startAngle+o.endAngle)/2,_=Math.cos(P),T=Math.sin(P);g=o.cx,u=o.cy;var O,k=e.getFormattedLabel(n,"normal")||h.getName(n),C=i.getBoundingRect(k,w,N,"top"),E="inside"===m||"inner"===m;if("center"===m)I=o.cx,L=o.cy,N="center";else{var V=(E?(o.r+o.r0)/2*_:o.r*_)+g,R=(E?(o.r+o.r0)/2*T:o.r*T)+u;if(I=V+3*_,L=R+3*T,!E){var G=V+_*(A+t-o.r),U=R+T*(A+t-o.r),B=G+(_<0?-1:1)*M,H=U;I="edge"===b?_<0?l+y:l+a-y:B+(_<0?-v:v),L=H,D=[[V,R],[G,U],[B,H]]}N=E?"center":"edge"===b?_>0?"right":"left":_>0?"left":"right"}var z=c.get("rotate");O="number"===typeof z?z*(Math.PI/180):z?_<0?-P+Math.PI:-P:0,p=!!O,o.label={x:I,y:L,position:m,height:C.height,len:A,len2:M,linePoints:D,textAlign:N,verticalAlign:"middle",rotation:O,inside:E,labelDistance:v,labelAlignTo:b,labelMargin:y,bleedMargin:x,textRect:C,text:k,font:w},E||d.push(o.label)}})),!p&&e.get("avoidLabelOverlap")&&s(d,g,u,t,a,n,l,c)}e.exports=g},c037:function(e,t,a){var i=a("3eba"),n=a("6d8b");a("f7c6"),a("1ab3");var r=a("7782"),o=a("98e7"),l=a("292e"),s=a("d3f4");r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),i.registerVisual(o("pie")),i.registerLayout(n.curry(l,"pie")),i.registerProcessor(s("pie"))},c4a3:function(e,t){function a(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){var a=t();return a.indexOfName(e)>=0},this.indexOfName=function(t){var a=e();return a.indexOfName(t)},this.getItemVisual=function(t,a){var i=e();return i.getItemVisual(t,a)}}var i=a;e.exports=i},c7e4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),a("visitor-pie",{attrs:{pieData:e.pieData}})],1)},n=[],r=(a("96cf"),a("1da1")),o=a("b9b3"),l=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"visitorpie"},[a("div",{staticStyle:{width:"90%",height:"450px"},attrs:{id:"visitorpie"}})])}],c=a("3eba"),g=a.n(c),u=(a("c037"),a("627c"),a("d28f"),{mounted:function(){this.myChart=g.a.init(document.getElementById("visitorpie")),this.initData()},props:["pieData"],methods:{initData:function(){var e={title:{text:"用户分布",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["北京","上海","深圳","杭州","其他"]},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.pieData.beijing,name:"北京"},{value:this.pieData.shanghai,name:"上海"},{value:this.pieData.shenzhen,name:"深圳"},{value:this.pieData.hangzhou,name:"杭州"},{value:this.pieData.qita,name:"其他"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.myChart.setOption(e)}},watch:{pieData:function(){this.initData()}}}),h=u,d=(a("0b26"),a("2877")),p=Object(d["a"])(h,l,s,!1,null,null,null),f=p.exports,m=a("bdaa"),v={data:function(){return{pieData:{}}},components:{headTop:o["a"],visitorPie:f},mounted:function(){this.initData()},methods:{initData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m["w"])().then((function(e){return e.data}));case 3:if(a=t.sent,1!=a.status){t.next=8;break}e.pieData=a.user_city,t.next=9;break;case 8:throw new Error(a);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),console.log("获取用户分布信息失败",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}},b=v,y=(a("6434"),Object(d["a"])(b,i,n,!1,null,null,null));t["default"]=y.exports},d3f4:function(e,t){function a(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var i=e.getData();i.filterSelf((function(e){for(var t=i.getName(e),n=0;n<a.length;n++)if(!a[n].isSelected(t))return!1;return!0}))}}}}e.exports=a},e46b:function(e,t,a){var i=a("b1d4"),n=a("6179"),r=a("6d8b"),o=r.extend,l=r.isArray;function s(e,t,a){t=l(t)&&{coordDimensions:t}||o({},t);var r=e.getSource(),s=i(r,t),c=new n(s,e);return c.initData(r,a),c}e.exports=s},f7c6:function(e,t,a){var i=a("3eba"),n=a("e46b"),r=a("6d8b"),o=a("e0d3"),l=a("3842"),s=l.getPercentWithPrecision,c=a("7023"),g=a("2b17"),u=g.retrieveRawAttr,h=a("0f99"),d=h.makeSeriesEncodeForNameBased,p=a("c4a3"),f=i.extendSeriesModel({type:"series.pie",init:function(e){f.superApply(this,"init",arguments),this.legendVisualProvider=new p(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){f.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return n(this,{coordDimensions:["value"],encodeDefaulter:r.curry(d,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),a=[],i=0,n=e.count();i<n;i++)a.push({name:e.getName(i),value:e.get(t,i),selected:u(e,i,"selected")});return a},getDataParams:function(e){var t=this.getData(),a=f.superCall(this,"getDataParams",e),i=[];return t.each(t.mapDimension("value"),(function(e){i.push(e)})),a.percent=s(i,e,t.hostModel.get("percentPrecision")),a.$vars.push("percent"),a},_defaultLabelLine:function(e){o.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(f,c);var m=f;e.exports=m}}]);
//# sourceMappingURL=visitor.700e8172.js.map