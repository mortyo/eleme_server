{"version":3,"sources":["webpack:///./node_modules/echarts/lib/component/tooltip.js","webpack:///./node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack:///./node_modules/echarts/lib/component/gridSimple.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipContent.js","webpack:///./node_modules/echarts/lib/component/axisPointer/findPointFromSeries.js","webpack:///./node_modules/echarts/lib/chart/helper/Symbol.js","webpack:///./node_modules/echarts/lib/chart/bar/BarSeries.js","webpack:///./node_modules/echarts/lib/component/axisPointer/globalListener.js","webpack:///./node_modules/echarts/lib/component/toolbox/featureManager.js","webpack:///./node_modules/echarts/lib/chart/line/LineSeries.js","webpack:///./node_modules/echarts/lib/component/marker/MarkerModel.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack:///./node_modules/echarts/lib/chart/bar/BaseBarSeries.js","webpack:///./node_modules/time-formater/lib/timeformater.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipView.js","webpack:///./node_modules/echarts/lib/component/axisPointer/AxisPointerModel.js","webpack:///./node_modules/echarts/lib/coord/cartesian/AxisModel.js","webpack:///./node_modules/echarts/lib/component/axisPointer/CartesianAxisPointer.js","webpack:///./node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","webpack:///./node_modules/echarts/lib/component/dataZoom/helper.js","webpack:///./node_modules/echarts/lib/component/axis/axisSplitHelper.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Grid.js","webpack:///./node_modules/echarts/lib/component/axis/AxisView.js","webpack:///./node_modules/echarts/lib/chart/bar/BarView.js","webpack:///./node_modules/echarts/lib/component/dataZoom/typeDefaulter.js","webpack:///./src/page/home.vue?c1db","webpack:///./node_modules/echarts/lib/component/dataZoom/history.js","webpack:///./node_modules/echarts/lib/coord/axisDefault.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/DataView.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","webpack:///./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack:///./node_modules/echarts/lib/visual/symbol.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","webpack:///./node_modules/echarts/lib/component/marker/MarkPointView.js","webpack:///./node_modules/echarts/lib/layout/points.js","webpack:///./node_modules/echarts/lib/component/marker/MarkerView.js","webpack:///./node_modules/echarts/lib/component/toolbox/ToolboxModel.js","webpack:///./node_modules/echarts/lib/coord/cartesian/GridModel.js","webpack:///./node_modules/echarts/lib/component/marker/markerHelper.js","webpack:///./node_modules/echarts/lib/chart/bar.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/echarts/lib/coord/axisModelCreator.js","webpack:///./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack:///./node_modules/echarts/lib/chart/line/helper.js","webpack:///./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/echarts/lib/component/marker/MarkPointModel.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipModel.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/echarts/lib/component/axis.js","webpack:///./node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/echarts/lib/component/toolbox.js","webpack:///./node_modules/echarts/lib/chart/bar/barItemStyle.js","webpack:///./node_modules/echarts/lib/component/helper/BrushTargetManager.js","webpack:///./node_modules/echarts/lib/util/shape/sausage.js","webpack:///./node_modules/echarts/lib/component/helper/cursorHelper.js","webpack:///./node_modules/echarts/lib/chart/helper/labelHelper.js","webpack:///./node_modules/echarts/lib/component/axisPointer.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","webpack:///./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack:///./node_modules/echarts/lib/component/axisPointer/modelHelper.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Cartesian.js","webpack:///./src/page/home.vue?fd79","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/components/tendency.vue?e918","webpack:///src/components/tendency.vue","webpack:///./src/components/tendency.vue?1216","webpack:///./src/components/tendency.vue","webpack:///src/page/home.vue","webpack:///./src/page/home.vue?a8f6","webpack:///./src/page/home.vue","webpack:///./src/components/tendency.vue?ae42","webpack:///./node_modules/echarts/lib/component/toolbox/feature/MagicType.js","webpack:///./node_modules/echarts/lib/component/axisPointer/AxisPointerView.js","webpack:///./node_modules/echarts/lib/chart/line/poly.js","webpack:///./node_modules/echarts/lib/component/markPoint.js","webpack:///./node_modules/echarts/lib/component/toolbox/ToolboxView.js","webpack:///./node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js","webpack:///./node_modules/echarts/lib/component/dataZoomSelect.js","webpack:///./node_modules/echarts/lib/component/toolbox/feature/Restore.js","webpack:///./node_modules/echarts/lib/chart/bar/helper.js","webpack:///./node_modules/echarts/lib/component/axisPointer/axisTrigger.js","webpack:///./node_modules/echarts/lib/coord/cartesian/Axis2D.js","webpack:///./node_modules/echarts/lib/component/helper/sliderMove.js","webpack:///./node_modules/echarts/lib/chart/line.js","webpack:///./node_modules/echarts/lib/chart/line/lineAnimationDiff.js","webpack:///./node_modules/echarts/lib/chart/line/LineView.js","webpack:///./node_modules/echarts/lib/component/axis/CartesianAxisView.js","webpack:///./node_modules/echarts/lib/component/helper/brushHelper.js","webpack:///./node_modules/echarts/lib/chart/helper/SymbolDraw.js","webpack:///./node_modules/echarts/lib/component/axis/AxisBuilder.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/echarts/lib/component/helper/BrushController.js","webpack:///./node_modules/echarts/lib/processor/dataSample.js","webpack:///./node_modules/echarts/lib/component/axisPointer/viewHelper.js"],"names":["echarts","registerAction","type","event","update","zrUtil","layout","gridModel","axisModel","opt","grid","coordinateSystem","axis","otherAxisOnZeroOf","getAxesOnZeroOf","rawAxisPosition","position","axisPosition","axisDim","dim","rect","getRect","rectBound","x","width","y","height","idx","left","right","top","bottom","onZero","axisOffset","get","posBound","onZeroCoord","toGlobalCoord","dataToCoord","Math","max","min","rotation","PI","dirMap","labelDirection","tickDirection","nameDirection","labelOffset","retrieve","labelInside","labelRotate","z2","exports","graphic","extendComponentView","render","ecModel","this","group","removeAll","add","Rect","shape","style","defaults","fill","getItemStyle","silent","registerPreprocessor","option","xAxis","yAxis","zrColor","eventUtil","domUtil","env","formatUtil","each","toCamelCase","vendors","gCssText","assembleTransition","duration","transitionCurve","transitionText","map","vendorPrefix","join","assembleFont","textStyleModel","cssText","fontSize","color","getTextColor","push","getFont","round","name","val","assembleCssText","tooltipModel","transitionDuration","backgroundColor","getModel","padding","canvasSupported","toHex","borderName","camelCase","normalizeCssArray","makeStyleCoord","out","zr","appendToBody","zrX","zrY","zrPainter","painter","zrViewportRoot","getViewportRoot","transformLocalCoord","document","body","viewportRootOffset","getViewportRootOffset","offsetLeft","offsetTop","TooltipContent","container","api","wxa","el","createElement","domBelongToZr","_zr","getZr","_appendToBody","_styleCoord","getWidth","getHeight","appendChild","_container","_show","_hideTimeout","self","onmouseenter","_enterable","clearTimeout","_inContent","onmousemove","e","window","handler","normalizeEvent","dispatch","onmouseleave","hideLater","_hideDelay","prototype","constructor","stl","currentStyle","defaultView","getComputedStyle","domStyle","show","styleCoord","display","innerHTML","pointerEvents","setContent","content","setEnterable","enterable","getSize","clientWidth","clientHeight","moveTo","hide","time","setTimeout","bind","isShow","dispose","parentNode","removeChild","getOuterSize","parseInt","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","_default","module","modelUtil","finder","seriesModel","point","seriesIndex","getSeriesByIndex","data","getData","dataIndex","queryDataIndex","isArray","getItemGraphicEl","coordSys","getTooltipPosition","dataToPoint","getValues","dimensions","mapDimension","getBoundingRect","clone","applyTransform","transform","_symbol","createSymbol","_number","parsePercent","_labelHelper","getDefaultLabel","SymbolClz","seriesScope","Group","call","updateData","symbolProto","getSymbolSize","symbolSize","getItemVisual","Array","slice","getScale","driftSymbol","dx","dy","parent","drift","_createSymbol","symbolType","keepAspect","symbolPath","attr","culling","scale","_symbolType","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","trigger","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","hostModel","isInit","updateProps","_updateCommon","fadeIn","target","opacity","initProps","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","highDownOnUpdate","fromState","toState","incremental","useHoverLayer","__symbolOriginalScale","ratio","emphasisOpt","animateTo","useStyle","strokeNoScale","setStyle","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","itemStyle","hoverItemStyle","symbolRotate","symbolOffset","labelModel","hoverLabelModel","hoverAnimation","cursorStyle","hasItemOption","itemModel","getItemModel","getShallow","extend","elStyle","setColor","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","getLabelDefaultText","getName","setLabelStyle","labelFetcher","labelDataIndex","defaultText","isRectText","autoColor","hoverStyle","isAnimationEnabled","setHoverStyle","fadeOut","cb","keepLabel","text","inherits","BaseBarSeries","dependencies","brushSelector","getProgressive","getProgressiveThreshold","progressiveThreshold","largeThreshold","defaultOption","clip","roundCap","showBackground","backgroundStyle","borderColor","borderWidth","borderType","borderRadius","_model","makeInner","inner","register","key","node","records","initGlobalListeners","record","useHandler","eventType","on","dis","makeDispatchAction","dispatchAction","dispatchTooltipFinally","pendings","initialized","curry","doEnter","onLeave","actuallyPayload","showLen","showTip","length","hideLen","hideTip","currTrigger","payload","pendingList","unregister","features","ctor","_config","createListFromArray","__DEV__","SeriesModel","getInitialData","getSource","useEncodeDefaulter","legendHoverLink","label","lineStyle","step","smooth","smoothMonotone","symbol","showSymbol","showAllSymbol","connectNulls","sampling","animationEasing","progressive","hoverLayerThreshold","Infinity","dataFormatMixin","addCommas","encodeHTML","fillLabel","defaultEmphasis","MarkerModel","extendComponentModel","init","parentModel","mergeDefaultAndTheme","_mergeOption","hostSeries","__hostSeries","mergeOption","newOpt","createdBySelf","modelPropName","mainType","eachSeries","markerOpt","markerModel","item","formatTooltip","value","getRawValue","formattedValue","html","_data","setData","mixin","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","source","INCORRECT_NAME","R","p","String","rf","f","undefined","unsafe","_util","createHashMap","registerProcessor","getTargetSeries","seriesModelMap","eachComponent","dataZoomModel","eachTargetAxis","dimNames","axisIndex","axisProxy","getAxisProxy","getTargetSeriesModels","set","uid","modifyOutputEnd","overallReset","reset","filterData","findRepresentativeAxisProxy","percentRange","getDataPercentWindow","valueRange","getDataValueWindow","setCalculatedRange","start","end","startValue","endValue","getMarkerPosition","pt","clampData","offset","getLayout","size","offsetIndex","getBaseAxis","isHorizontal","NaN","barMinHeight","barMinAngle","large","progressiveChunkMode","emphasis","MONTH_DISPLAY","WEEK_DISPLAY","UNIT_SIZE","d","H","m","s","S","TimeFormater","input","Date","token","toLocaleString","reg","replace","match","oldTime","getTime","newTime","now","diff","floor","num","getFullYear","ceil","M","getMonth","fillZero","getDate","D","getDay","dd","getHours","hour","h","getMinutes","getSeconds","getMilliseconds","SSS","SS","hm","part","interval","i","findIndex","A","countdown","endPoint","format","remain","limit","all","r","str","toString","helper","AxisProxy","eachAxisDim","DataZoomModel","orient","xAxisIndex","yAxisIndex","filterMode","throttle","minSpan","maxSpan","minValueSpan","maxValueSpan","rangeMode","_dataIntervalByAxis","_dataInfo","_axisProxies","_autoThrottle","_rangePropMode","inputRawOption","retrieveRawOption","settledOption","doInit","newOption","merge","thisOption","realtime","_setDefaultThrottle","updateRangeUse","names","index","_resetTarget","_giveAxisProxies","axisProxies","dependentModels","__dzAxisProxy","autoMode","_judgeAutoMode","axisIndexName","normalizeToArray","_autoSetAxisIndex","_autoSetOrient","hasIndexSpecified","autoAxisIndex","dimName","singleAxis","singleAxisModel","singleAxisIndex","componentIndex","axisIndices","axisModels","len","_isSeriesHasAllAxesTypeOf","axisId","queryComponents","id","indexOf","axisType","is","seriesAxisIndex","hasOwnProperty","globalOption","animation","animationDurationUpdate","getFirstTargetAxisModel","firstAxisModel","indices","callback","context","getAxisModel","setRawRange","getPercentRange","getValueRange","axisDimName","hostedBy","getRangePropMode","ret","rangePropMode","rangeModeInOption","percentSpecified","valueSpecified","TooltipRichContent","numberUtil","findPointFromSeries","layoutUtil","Model","globalListener","axisHelper","axisPointerViewHelper","getTooltipRenderMode","proxyRect","tooltipContent","getComponent","renderMode","_renderMode","getDom","_newLine","_tooltipContent","_tooltipModel","_ecModel","_api","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","triggerOn","_tryShow","_hide","_lastX","_lastY","_refreshUpdateTimeout","isDisposed","manuallyShowTip","from","_ticket","dataByCoordSys","tooltip","offsetX","offsetY","tooltipOption","_manuallyAxisShowTip","pointInfo","cx","cy","findHover","manuallyHideTip","coordSysAxesInfo","buildTooltipModel","model","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","delay","_showTimout","globalTooltipModel","singleDefaultHTML","singleParamsList","singleTooltipModel","newLine","markers","itemCoordSys","dataByAxis","axisValue","seriesDefaultHTML","valueLabel","getValueLabel","seriesDataIndices","valueLabelOpt","idxItem","series","dataIndexInside","dataParams","getDataParams","getAxisRawValue","axisValueLabel","seriesTooltip","isObject","newMarkers","firstLine","reverse","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","random","dataModel","dataType","tooltipTrigger","defaultHtml","params","asyncTicket","getRawIndex","tooltipOpt","formatter","subTooltipModel","formatTpl","cbTicket","viewWidth","viewHeight","contentSize","align","vAlign","viewSize","layoutRect","getLayoutRect","pos","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","j","newIdxItem","modelCascade","resultModel","pop","isInstance","gapH","gapV","domWidth","domHeight","gap","rectWidth","rectHeight","AxisPointerModel","snap","triggerTooltip","status","link","shadowStyle","precision","margin","handle","icon","ComponentModel","axisModelCreator","axisModelCommonMixin","AxisModel","superApply","arguments","resetRange","restoreData","getCoordSysModel","gridIndex","gridId","getAxisType","extraOption","BaseAxisPointer","viewHelper","cartesianAxisHelper","AxisView","CartesianAxisPointer","makeElOption","elOption","axisPointerModel","axisPointerType","otherExtent","getCartesian","getOtherAxis","getGlobalExtent","pixelValue","buildElStyle","pointerOption","pointerShapeBuilder","graphicKey","pointer","layoutInfo","buildCartesianSingleLabelElOption","getHandleTransform","labelMargin","getTransformedPosition","updateHandleTransform","delta","axisExtent","dimIndex","currPosition","cursorOtherValue","cursorPoint","tooltipOptions","verticalAlign","line","targetShape","makeLineShape","getAxisDimIndex","subPixelOptimize","shadow","bandWidth","getBandWidth","span","makeRectShape","registerAxisPointerClass","DataZoomView","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","arrayLike","result","iterator","next","O","C","argumentsLength","mapfn","mapping","iteratorMethod","done","lang","featureManager","saveAsImageLang","toolbox","saveAsImage","SaveAsImage","title","connectedBackgroundColor","excludeComponents","pixelRatio","unusable","proto","onclick","url","getConnectedDataURL","MouseEvent","browser","ie","edge","navigator","msSaveOrOpenBlob","bstr","atob","split","n","u8arr","Uint8Array","charCodeAt","blob","Blob","tab","open","write","$a","download","href","evt","view","bubbles","cancelable","dispatchEvent","AXIS_DIMS","COORDS","isCoordSupported","coordType","createNameEach","attrs","capitalNames","capitalFirst","capitalAttrs","nameObj","capital","createLinkedNodesFinder","forEachNode","forEachEdgeType","edgeIdGetter","sourceNode","existsLink","nodes","edgeType","absorb","processSingleNode","isNodeAbsorded","isLinked","hasLink","edgeId","rectCoordAxisBuildSplitArea","axisView","axisGroup","isBlank","splitAreaModel","areaStyleModel","areaColors","gridRect","ticksCoords","getTicksCoords","tickModel","clamp","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","colorIndex","cIndex","tickValue","prev","coord","areaStyle","getAreaStyle","tickCoord","anid","rectCoordAxisHandleRemove","_layout","_axisHelper","createScaleByModel","ifAxisCrossZero","niceScaleExtent","estimateLabelUnionRect","Cartesian2D","Axis2D","CoordinateSystem","_dataStackHelper","getStackedDimension","isAxisUsedInTheGrid","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","gridProto","fixAxisOnZero","axesMap","otherAxisDim","onZeroRecords","otherAxes","onZeroAxisIndex","canOnZeroToAxis","getOnZeroRecordKey","updateAxisTransform","coordBase","getExtent","axisExtentSum","toLocalCoord","axisPointerEnabled","_rect","_updateScale","resize","ignoreContainLabel","getBoxLayoutParams","axesList","adjustAxes","extent","inverse","setExtent","labelUnionRect","getAxis","axesMapOnDim","getAxes","coordList","getCartesians","convertToPixel","_findConvertTarget","cartesian","convertFromPixel","pointToData","coordToData","xAxisModel","getReferringComponents","yAxisModel","coordsList","containPoint","axisPositionUsed","axesCount","createAxisCreator","isCategory","onBand","addAxis","unionExtent","unionExtentFromData","isCartesian2D","axesModels","findAxesModels","getTooltipAxes","baseAxes","baseAxis","otherAxis","axesTypes","create","grids","axisPointerModelHelper","_axisPointer","axisPointerClass","fixValue","updateAxisPointer","force","remove","axisPointer","disposeAxisPointer","forceRender","Clazz","getAxisPointerClass","getAxisPointerModel","axisPointerClazz","clazz","_helper","setLabel","barItemStyle","Path","_throttle","_createClipPathFromCoordSys","createClipPath","Sausage","BAR_BORDER_WIDTH_QUERY","_eventPos","getClipArea","coordSysClipArea","getArea","expandWidth","extendChartView","_updateDrawMode","coordinateSystemType","_isLargeDraw","_renderLarge","_renderNormal","incrementalPrepareRender","_clear","incrementalRender","_incrementalRenderLarge","isLargeDraw","pipelineContext","isHorizontalOrRadial","oldData","animationModel","needsClip","removeClipPath","drawBackground","backgroundModel","bgEls","oldBgEls","_backgroundEls","bgEl","createBackgroundEl","getBarItemStyle","hasValue","isClipped","elementCreator","setItemGraphicEl","updateStyle","newIndex","oldIndex","createBackgroundShape","removeRect","removeSector","execute","bgGroup","_backgroundGroup","createLarge","clipPath","setClipPath","_removeBackground","noop","eachItemGraphicEl","mathMax","mathMin","cartesian2d","coordSysBoundingRect","signWidth","signHeight","x2","y2","clipped","polar","isUpdate","rectShape","animateProperty","animateTarget","isRadial","clockwise","startAngle","endAngle","ShapeClass","Sector","sector","sectorShape","r0","getItemLayout","fixedLineWidth","getLineWidth","signX","signY","isZeroOnPolar","isPolar","stroke","getVisual","itemStyleModel","setShape","labelPositionOutside","rawLayout","lineWidth","isNaN","Number","MAX_VALUE","abs","LargePath","points","buildPath","ctx","startPoint","__startPoint","baseDimIdx","__baseDimIdx","lineTo","largeDataIndices","barWidth","backgroundStartPoint","__largeDataIndices","__barWidth","setLargeBackgroundStyle","setLargeStyle","largePathUpdateDataIndex","largePath","largePathFindDataIndex","valueDimIdx","barWidthHalf","startValueVal","pointerBaseVal","pointerValueVal","baseLowerBound","baseUpperBound","ii","barBaseVal","barValueVal","coordLayout","ElementClz","Component","registerSubTypeDefaulter","ATTR","newSnapshot","store","giveStore","batchItem","dataZoomId","snapshot","subType","head","clear","count","nameLocation","nameRotate","nameTruncate","maxWidth","ellipsis","placeholder","nameTextStyle","nameGap","triggerEvent","axisLine","axisTick","inside","axisLabel","rotate","showMinLabel","showMaxLabel","splitLine","splitArea","axisDefault","categoryAxis","boundaryGap","deduplication","alignWithLabel","valueAxis","splitNumber","minorTick","minorSplitLine","timeAxis","logAxis","logBase","eventTool","dataViewLang","dataView","BLOCK_SPLITER","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","eachRawSeries","other","assembleSeriesWithCategoryAxis","tables","valueAxisDim","headers","concat","columns","getCategories","getRawData","mapArray","lines","items","assembleOtherSeries","vals","argLen","getContentFromModel","filter","trim","isTSVFormat","block","itemSplitRegex","parseTSVContents","tsv","tsvLines","shift","categories","header","parseListContents","seriesName","hasName","parseContents","blockMetaList","blocks","blockMeta","axisKey","DataView","_dom","tryMergeDataOption","newData","originalData","newVal","original","readOnly","optionToContent","contentToOption","textColor","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","root","viewMain","textarea","htmlOrDom","getOption","isDom","buttonContainer","buttonStyle","closeButton","refreshButton","close","addEventListener","Error","newSeriesOptList","seriesOpt","getSeriesByName","BrushController","BrushTargetManager","history","sliderMove","dataZoomLang","dataZoom","DATA_ZOOM_ID_BASE","DataZoom","_brushController","_onBrush","mount","_isZoomActive","zoom","back","featureModel","updateZoomBtnStatus","updateBackBtnStatus","handlers","unmount","nextActive","dataZoomSelectActive","_dispatchZoomAction","retrieveAxisSetting","setting","setIconStatus","zoomActive","brushTargetManager","include","setPanels","makePanelOpts","targetInfo","xAxisDeclared","yAxisDeclared","enableBrush","brushType","brushStyle","areas","isEnd","updateCovers","matchOutputRanges","area","coordRange","setBatch","lineX","lineY","minMax","findDataZoom","minMaxSpan","getMinMaxSpan","found","dzModel","has","batch","dataZoomOpts","toolboxOpt","feature","dataZoomOpt","addForAxis","axisName","axisIndicesName","givenAxisIndices","forEachComponent","axisOpt","$fromToolbox","opts","ComponentView","getTargetCoordInfo","coordSysLists","save","coordModel","coordIndex","isFunction","seriesType","defaultSymbolType","legendSymbol","performRawSeries","hasSymbolTypeCallback","hasSymbolSizeCallback","hasCallback","seriesSymbol","seriesSymbolSize","setVisual","symbolKeepAspect","isSeriesFiltered","dataEach","rawValue","setItemVisual","itemSymbolType","itemSymbolSize","itemSymbolKeepAspect","Text","markerRich","prefix","suffix","startId","endId","substr","textWidth","textHeight","textBorderRadius","textBackgroundColor","textOffset","rich","textLineHeight","textFill","textPadding","bounding","SymbolDraw","List","markerHelper","MarkerView","updateMarkerLayout","mpData","xPx","yPx","setItemLayout","updateTransform","markPointModel","mpModel","markerGroupMap","updateLayout","renderSeries","seriesId","seriesData","symbolDrawMap","symbolDraw","createList","isFnSymbol","isFnSymbolSize","rawIdx","traverse","child","__keep","coordDimsInfos","coordDim","info","getDimensionInfo","dataOpt","dataTransform","dataFilter","initData","dimValueGetter","createRenderPlanner","isDimensionStacked","plan","isLargeRender","dims","dimLen","stackResultDim","getCalculationInfo","progress","segCount","Float32Array","tmpIn","tmpOut","setLayout","markerModelKey","ToolboxModel","layoutMode","ignoreSize","optionUpdated","featureOpt","featureName","Feature","itemSize","itemGap","showTitle","iconStyle","containLabel","hasXOrY","parseFloat","hasXAndY","markerTypeCalculatorWithExtent","mlType","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","stacked","calcDataDim","numCalculate","indicesOfNearest","coordArrValue","getPrecision","toFixed","markerTypeCalculator","average","axisInfo","getAxisInfo","coordInfo","baseDataDim","valueDataDim","radiusAxis","angleAxis","valueIndex","valueDim","getDimension","dataDimToCoordDim","dataDim","dimItem","containData","sum","getMedian","getDataExtent","_barGrid","largeLayout","registerLayout","PRIORITY","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","registerVisual","$","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","forced","arg","k","E","TypeError","getLayoutParams","mergeLayoutParam","OrdinalMeta","AXIS_TYPES","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","inputPositionParams","themeModel","getTheme","getDefaultOption","__ordinalMeta","createByAxisModel","rawData","getOrdinalMeta","mergeAll","linkedNodesFinder","effectedModels","query","apply","prepareDataCoordInfo","valueOrigin","valueStart","getValueStart","baseAxisDim","baseDim","baseDataOffset","dataDimsForPoint","stackedOverDimension","getStackedOnPoint","dataCoordInfo","stackedData","take","resourceKey","userKey","getStore","release","uKey","isTaken","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","showContent","alwaysShowContent","displayMode","confine","showDelay","hideDelay","extraCssText","animationEasingUpdate","crossStyle","textStyle","that","global","ignoreCase","multiline","dotAll","unicode","sticky","createGridClipPath","hasAnimation","createPolarClipPath","sectorArea","DESCRIPTORS","defineProperty","FunctionPrototype","Function","FunctionPrototypeToString","nameRE","NAME","configurable","error","makeStyleMapper","excludes","getBorderLineDash","lineDash","brushHelper","COORD_CONVERTS","INCLUDE_FINDER_MAIN_TYPES","targetInfoList","_targetInfoList","foundCpts","parseFinder","targetInfoBuilders","builder","formatMinMax","includeMainTypes","setOutputRanges","coordRanges","coordConvert","__rangeOffset","diffProcessor","values","range","xyMinMax","findTargetInfo","coordSyses","setInputRanges","panelId","rangeOffset","getScales","getDefaultBrushType","getPanelRect","defaultBrushType","makeRectPanelClipPath","isTargetByCursor","makeRectIsTargetByCursor","coordSysModel","getLinearBrushOtherExtent","makeLinearBrushOtherExtent","controlSeries","areaPanelId","targetInfoMatchers","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","cartesians","panelRectBuilder","geo","geoModels","geoModel","getTransform","axisConvert","to","rangeOrCoordRange","xminymin","xmaxymax","polygon","axisNameIndex","axisDiffProcessor","refer","scales","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","sizeOrigin","_graphic","extendShape","dr","rCenter","unitStartX","cos","unitStartY","sin","unitEndX","unitEndY","lessThanCircle","arc","closePath","IRRELEVANT_EXCLUDES","onIrrelevantElement","targetCoordSysModel","getComponentByElement","topTarget","_dataProvider","retrieveRawValue","labelDims","axisTrigger","PROCESSOR","STATISTIC","collect","BoundingRect","Cartesian","getAxesByScale","axisX","axisY","contain","reserved","xScale","yScale","xAxisExtent","yAxisExtent","parse","xExtent","yExtent","asc","_dimName","_axisIndex","_valueWindow","_percentWindow","_dataExtent","_minMaxSpan","_dataZoomModel","calculateDataExtent","seriesModels","dataExtent","seriesExtent","getApproximateExtent","fixExtentByAxis","getMin","isCategoryAxis","axisDataLen","getMax","setAxisModel","isRestore","percentWindow","valueWindow","getPixelPrecision","useOrigin","setRange","setMinMaxSpan","percentSpan","valueSpan","linearMap","getOtherAxisModel","coordSysIndexName","foundOtherAxisModel","isCartesian","otherAxisModel","calculateDataWindow","hasPropModeValue","percentExtent","prop","boundPercent","boundValue","spans","restrictSet","fromWindow","toWindow","fromExtent","toExtent","toValue","targetSeries","dataWindow","restore","dataDims","filterSelf","leftOut","rightOut","thisHasValue","thisLeftOut","thisRightOut","isInWindow","selectRange","setApproximateExtent","axesInfo","seriesInvolved","coordSysMap","collectAxesInfo","collectSeriesInfo","globalAxisPointerModel","linksOption","linkGroups","getCoordinateSystems","coordSysKey","makeKey","axesInfoInCoordSys","baseTooltipModel","saveTooltipAxisInfo","triggerAxis","cross","tooltipAxes","fromTooltip","axisPointerShow","isHandleTrigger","makeAxisPointerModel","involveSeries","useHandle","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","seriesTooltipTrigger","seriesTooltipShow","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","dimAxisMapper","_axes","_dimList","scaleType","toLowerCase","_dataCoordConvert","method","dimList","output","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","_s","userCount","orderCount","adminCount","allUserCount","allOrderCount","allAdminCount","sevenDate","sevenDay","staticRenderFns","_arrayLikeToArray","arr","arr2","_arrayWithoutHoles","arrayLikeToArray","_iterableToArray","iter","Symbol","Object","_unsupportedIterableToArray","o","minLen","test","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","_m","component","magicTypeLang","magicType","INNER_STACK_KEYWORD","MagicType","bar","stack","getIcons","availableIcons","icons","seriesOptGenreator","markPoint","markLine","isStack","radioTypes","newTitle","generateNewSeriesTypes","newSeriesOpt","radio","tiled","currentType","AxisPointerView","vec2","fixClipWithShadow","vec2Min","vec2Max","scaleAndAdd","v2Copy","copy","v","cp0","cp1","isPointNull","drawSegment","segLen","allLen","dir","smoothMin","smoothMax","drawMono","drawNonMono","prevIdx","prevP","ctrlLen","bezierCurveTo","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","sub","dist","getBoundingBox","smoothConstraint","ptMin","ptMax","Polyline","brush","Polygon","stackedOnPoints","stackedOnSmooth","bbox","stackedOnBBox","textContain","DataDiffer","listComponentHelper","toolboxModel","featureOpts","_features","featureNames","_featureNames","processFeature","makeBackground","eachChild","titleText","__title","makeFont","needPutOnTop","textPosition","topOffset","textAlign","oldName","isUserFeatureName","createIconPaths","iconName","iconPaths","iconStatus","iconStyleModel","iconStyleEmphasisModel","titles","iconStr","path","createIcon","formatterParams","componentType","$vars","defaultTextPosition","updateView","clazzUtil","throttleUtil","moveAnimation","props","propsEqual","lastProp","lastProps","newProps","equals","updateLabelShowHide","labelEl","getHandleTransProps","trans","updateMandatoryProps","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","animationThreshold","_axisModel","_axisPointerModel","_moveAnimation","determineAnimation","doUpdateProps","updatePointerEl","updateLabelEl","createPointerEl","createLabelEl","_renderHandle","useSnap","pointerEl","handleModel","stop","onmousedown","_onHandleDragMove","ondragend","_onHandleDragEnd","includeStyles","handleSize","createOrUpdate","_moveHandleToValue","_doDispatchAxisPointer","payloadInfo","doClear","buildLabel","xy","wh","xDimIndex","enableClassExtend","restoreLang","Restore","resetOption","normalStyle","fixPosition","modelHelper","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","list","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","buildPayloadsBySeries","payloadBatch","snapToValue","minDist","minDiff","seriesNestestValue","dataIndices","getAxisTooltipData","nestestValue","isFinite","coordSysItem","coordSysId","coordSysIndex","coordSysType","coordSysMainType","outputAxesInfo","valItem","sampleItem","escapeConnect","highDownKey","lastHighlights","newHighlights","toHighlight","toDownplay","Axis","coordExtent","handleEnds","handleIndex","extentSpan","restrict","handleSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","sign","currDistSign","visualSymbol","layoutPoints","dataSample","diffData","diffResult","cmd","newIdx","oldIdx","idx1","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","diffItem","pointAdded","currentPt","nextPt","rawIndex","sort","a","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","current","stackedOnCurrent","stackedOnNext","lineAnimationDiff","_poly","ChartView","isPointsSame","points1","points2","p1","p2","getSmooth","getStackedOnPoints","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","stepPt","middle","stepPt2","getVisualGradient","visualMetaList","visualMeta","dimension","dimInfo","colorStops","stops","stopLen","outerColors","tinyExtent","minCoord","maxCoord","coordSpan","unshift","gradient","LinearGradient","getIsIgnoreFunc","isAuto","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","availSize","dataLen","createLineClipPath","expandSize","lineGroup","_symbolDraw","_lineGroup","lineStyleModel","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","_polygon","isAreaChart","isEmpty","isIgnoreFunc","__temp","clipShapeForSymbol","r1","_clipShapeForSymbol","_step","_newPolygon","isIgnore","clipShape","_stackedOnPoints","_points","_updateAnimation","_newPolyline","visualColor","getLineStyle","lineJoin","stackedOnSeries","_valueOrigin","ignore","__points","updatedDataInfo","diffStatus","ptIdx","animators","during","AxisBuilder","_axisSplitHelper","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","oldAxisGroup","_axisGroup","axisBuilder","getGroup","groupTransition","superCall","_splitLine","splitLineModel","lineColors","lineCount","Line","x1","y1","_minorSplitLine","minorSplitLineModel","minorTicksCoords","getMinorTicksCoords","_splitArea","_cursorHelper","graphicUtil","normalizeRect","localPoints","clipPointsByRect","specifiedXYIndex","xyIndex","brushWidth","base","targetModel","localCursorPoint","symbolCtor","_symbolCtor","symbolDrawProto","symbolNeedsDraw","normalizeUpdateOpt","makeSeriesScope","SymbolCtor","symbolEl","isPersistent","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","enableAnimation","isRadianAroundZero","remRadian","matrixUtil","_vector","v2ApplyTransform","shouldShowAllLabels","dumbGroup","_transform","_dumbGroup","hasBuilder","builders","matrix","pt1","pt2","lineCap","strokeContainThreshold","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","sqrt","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","labelLayout","axisNameAvailableWidth","gapSignal","isNameLocationCenter","nameRotation","innerTextLayout","endTextLayout","textFont","truncateOpt","nameTruncateMaxWidth","truncatedText","truncateText","minChar","textEl","__fullText","__truncatedText","isLabelSilent","setTextStyle","textVerticalAlign","eventData","makeAxisEventDataBase","targetType","decomposeTransform","axisRotation","textRotation","direction","rotationDiff","textRotate","onLeft","tickEls","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","firstRect","nextRect","mRotationBack","identity","mul","getLocalTransform","intersect","createTicks","tickTransform","tickEndCoord","tickLineStyle","aniid","tickEl","minorTickModel","minorTickLineStyle","minorTicksEls","axisLabelShow","labels","labelRotation","rawCategoryData","formattedLabel","rawLabel","itemLabelModel","toAbsoluteIndex","toIndexedObject","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","SPECIES","nativeSlice","Constructor","fin","Eventful","interactionMutex","mathPow","pow","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","w","CURSOR_MAP","ne","sw","nw","se","DEFAULT_BRUSH_OPT","transformable","brushMode","removeOnClick","baseUID","_brushType","_brushOption","_panels","_track","_covers","_creatingCover","_creatingPanel","_enableGlobalPan","_uid","_handlers","pointerHandlers","eventName","doEnableBrush","controller","brushOption","mountHandlers","doDisableBrush","unmountHandlers","off","createCover","cover","coverRenderers","__brushOption","updateZ","endCreating","creatingCover","coverRenderer","getCoverRenderer","updateCoverShape","updateCoverAfterCreation","updateCommon","getPanelByPoint","panel","panels","pn","getPanelByCover","clearCovers","covers","originalLength","shouldShowCover","track","getTrackEnds","tail","createBaseRectCover","doDrift","edgeNames","makeStyle","invisible","updateBaseRect","localRange","xa","ya","x2a","y2a","widtha","heighta","updateRectShape","mainEl","childOfName","globalDir","getGlobalDirection","pointsToRect","clipByPanel","formatRectRange","localDirection","inverseMap","transformDirection","driftRect","toRectRange","fromRectRange","rectRange","localDelta","toLocalDelta","namePart","ind","driftPolygon","thisGroup","localD","transformCoordToLocal","localZero","xmin","ymin","xmax","ymax","resetCursor","isOutsideZrArea","currPanel","setCursorStyle","preventDefault","rawE","mainShapeContain","updateCoverByMouse","eventParams","thisBrushOption","determineBrushType","coverBrushOption","getCreatingRange","panelOpts","enableGlobalPan","eachCover","brushOptionList","tmpIdPrefix","oldCovers","newCovers","oldGetKey","getKey","addOrUpdate","newBrushOption","mousedown","handleDragEnd","mousemove","mouseup","getLineRenderer","localTrack","ends","samplers","frame","nearest","indexSampler","sampler","rate","downSample","styleModel","buildLabelElOption","labelPos","paddings","font","textRect","confineInContainer","bgColor","getLabel","axisDimension","isString","translate","textLayout","makeSectorShape"],"mappings":"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","file":"js/home.b54d52ef.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./tooltip/TooltipModel\");\n\nrequire(\"./tooltip/TooltipView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\necharts.registerAction({\n  type: 'showTip',\n  event: 'showTip',\n  update: 'tooltip:manuallyShowTip'\n}, // noop\nfunction () {});\necharts.registerAction({\n  type: 'hideTip',\n  event: 'hideTip',\n  update: 'tooltip:manuallyHideTip'\n}, // noop\nfunction () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n *\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, z2\n * }\n */\nfunction layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get('axisLabel.rotate');\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../util/graphic\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid view\necharts.extendComponentView({\n  type: 'grid',\n  render: function (gridModel, ecModel) {\n    this.group.removeAll();\n\n    if (gridModel.get('show')) {\n      this.group.add(new graphic.Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: zrUtil.defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  }\n});\necharts.registerPreprocessor(function (option) {\n  // Only create grid when need\n  if (option.xAxis && option.yAxis && !option.grid) {\n    option.grid = {};\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar eventUtil = require(\"zrender/lib/core/event\");\n\nvar domUtil = require(\"zrender/lib/core/dom\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar toCamelCase = formatUtil.toCamelCase;\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\n\nfunction assembleTransition(duration) {\n  var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n  var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n  return zrUtil.map(vendors, function (vendorPrefix) {\n    return vendorPrefix + 'transition:' + transitionText;\n  }).join(';');\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\n\n\nfunction assembleCssText(tooltipModel) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n  transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n  if (backgroundColor) {\n    if (env.canvasSupported) {\n      cssText.push('background-Color:' + backgroundColor);\n    } else {\n      // for ie\n      cssText.push('background-Color:#' + zrColor.toHex(backgroundColor));\n      cssText.push('filter:alpha(opacity=70)');\n    }\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + formatUtil.normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n} // If not able to make, do not modify the input `out`.\n\n\nfunction makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n\n  if (appendToBody) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      domUtil.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @param {HTMLElement} container\n * @param {ExtensionAPI} api\n * @param {Object} [opt]\n * @param {boolean} [opt.appendToBody]\n *        `false`: the DOM element will be inside the container. Default value.\n *        `true`: the DOM element will be appended to HTML body, which avoid\n *                some overflow clip but intrude outside of the container.\n * @constructor\n */\n\n\nfunction TooltipContent(container, api, opt) {\n  if (env.wxa) {\n    return null;\n  }\n\n  var el = document.createElement('div');\n  el.domBelongToZr = true;\n  this.el = el;\n  var zr = this._zr = api.getZr();\n  var appendToBody = this._appendToBody = opt && opt.appendToBody;\n  this._styleCoord = [0, 0];\n  makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n  if (appendToBody) {\n    document.body.appendChild(el);\n  } else {\n    container.appendChild(el);\n  }\n\n  this._container = container;\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout; // FIXME\n  // Is it needed to trigger zr event manually if\n  // the browser do not support `pointer-events: none`.\n\n  var self = this;\n\n  el.onmouseenter = function () {\n    // clear the timeout in hideLater and keep showing tooltip\n    if (self._enterable) {\n      clearTimeout(self._hideTimeout);\n      self._show = true;\n    }\n\n    self._inContent = true;\n  };\n\n  el.onmousemove = function (e) {\n    e = e || window.event;\n\n    if (!self._enterable) {\n      // `pointer-events: none` is set to tooltip content div\n      // if `enterable` is set as `false`, and `el.onmousemove`\n      // can not be triggered. But in browser that do not\n      // support `pointer-events`, we need to do this:\n      // Try trigger zrender event to avoid mouse\n      // in and out shape too frequently\n      var handler = zr.handler;\n      var zrViewportRoot = zr.painter.getViewportRoot();\n      eventUtil.normalizeEvent(zrViewportRoot, e, true);\n      handler.dispatch('mousemove', e);\n    }\n  };\n\n  el.onmouseleave = function () {\n    if (self._enterable) {\n      if (self._show) {\n        self.hideLater(self._hideDelay);\n      }\n    }\n\n    self._inContent = false;\n  };\n}\n\nTooltipContent.prototype = {\n  constructor: TooltipContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n      domStyle.position = 'relative';\n    } // Hide the tooltip\n    // PENDING\n    // this.hide();\n\n  },\n  show: function (tooltipModel) {\n    clearTimeout(this._hideTimeout);\n    var el = this.el;\n    var styleCoord = this._styleCoord;\n    el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n    // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n    // we should set initial value to `left` and `top`.\n    + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n    el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occsionally move over the tooltip, a mouseout event will be\n    // triggered by canvas, and cuase some unexpectable result like dragging\n    // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n    // it. Although it is not suppored by IE8~IE10, fortunately it is a rare\n    // scenario.\n\n    el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n    this._show = true;\n  },\n  setContent: function (content) {\n    this.el.innerHTML = content == null ? '' : content;\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var el = this.el;\n    return [el.clientWidth, el.clientHeight];\n  },\n  moveTo: function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n    var style = this.el.style;\n    style.left = styleCoord[0] + 'px';\n    style.top = styleCoord[1] + 'px';\n  },\n  hide: function () {\n    this.el.style.display = 'none';\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  dispose: function () {\n    this.el.parentNode.removeChild(this.el);\n  },\n  getOuterSize: function () {\n    var width = this.el.clientWidth;\n    var height = this.el.clientHeight; // Consider browser compatibility.\n    // IE8 does not support getComputedStyle.\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var stl = document.defaultView.getComputedStyle(this.el);\n\n      if (stl) {\n        width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n        height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n      }\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n};\nvar _default = TooltipContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nfunction _default(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n      return data.mapDimension(dim);\n    }), dataIndex, true)) || [];\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n\n  return {\n    point: point,\n    el: el\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  } else {\n    symbolPath.setStyle({\n      opacity: null,\n      shadowBlur: null,\n      shadowOffsetX: null,\n      shadowOffsetY: null,\n      shadowColor: null\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolRotate = seriesScope && seriesScope.symbolRotate;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolRotate = itemModel.getShallow('symbolRotate');\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseBarSeries = require(\"./BaseBarSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect',\n\n  /**\n   * @override\n   */\n  getProgressive: function () {\n    // Do not support progressive in normal mode.\n    return this.get('large') ? this.get('progressive') : false;\n  },\n\n  /**\n   * @override\n   */\n  getProgressiveThreshold: function () {\n    // Do not support progressive in normal mode.\n    var progressiveThreshold = this.get('progressiveThreshold');\n    var largeThreshold = this.get('largeThreshold');\n\n    if (largeThreshold > progressiveThreshold) {\n      progressiveThreshold = largeThreshold;\n    }\n\n    return progressiveThreshold;\n  },\n  defaultOption: {\n    // If clipped\n    // Only available on cartesian2d\n    clip: true,\n    // If use caps on two sides of bars\n    // Only available on tangential polar bar\n    roundCap: false,\n    showBackground: false,\n    backgroundStyle: {\n      color: 'rgba(180, 180, 180, 0.2)',\n      borderColor: null,\n      borderWidth: 0,\n      borderType: 'solid',\n      borderRadius: 0,\n      shadowBlur: 0,\n      shadowColor: null,\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}\n\nexports.register = register;\nexports.unregister = unregister;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar features = {};\n\nfunction register(name, ctor) {\n  features[name] = ctor;\n}\n\nfunction get(name) {\n  return features[name];\n}\n\nexports.register = register;\nexports.get = get;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clip: true,\n    // cursor: null,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar dataFormatMixin = require(\"../../model/mixin/dataFormat\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar addCommas = formatUtil.addCommas;\nvar encodeHTML = formatUtil.encodeHTML;\n\nfunction fillLabel(opt) {\n  modelUtil.defaultEmphasis(opt, 'label', ['show']);\n}\n\nvar MarkerModel = echarts.extendComponentModel({\n  type: 'marker',\n  dependencies: ['series', 'grid', 'polar', 'geo'],\n\n  /**\n   * @overrite\n   */\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._mergeOption(option, ecModel, false, true);\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function () {\n    if (env.node) {\n      return false;\n    }\n\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  },\n\n  /**\n   * @overrite\n   */\n  mergeOption: function (newOpt, ecModel) {\n    this._mergeOption(newOpt, ecModel, false, false);\n  },\n  _mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n    var MarkerModel = this.constructor;\n    var modelPropName = this.mainType + 'Model';\n\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        var markerOpt = seriesModel.get(this.mainType, true);\n        var markerModel = seriesModel[modelPropName];\n\n        if (!markerOpt || !markerOpt.data) {\n          seriesModel[modelPropName] = null;\n          return;\n        }\n\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = new MarkerModel(markerOpt, this, ecModel);\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel._mergeOption(markerOpt, ecModel, true);\n        }\n\n        seriesModel[modelPropName] = markerModel;\n      }, this);\n    }\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? zrUtil.map(value, addCommas).join(', ') : addCommas(value);\n    var name = data.getName(dataIndex);\n    var html = encodeHTML(this.name);\n\n    if (value != null || name) {\n      html += '<br />';\n    }\n\n    if (name) {\n      html += encodeHTML(name);\n\n      if (value != null) {\n        html += ' : ';\n      }\n    }\n\n    if (value != null) {\n      html += encodeHTML(formattedValue);\n    }\n\n    return html;\n  },\n  getData: function () {\n    return this._data;\n  },\n  setData: function (data) {\n    this._data = data;\n  }\n});\nzrUtil.mixin(MarkerModel, dataFormatMixin);\nvar _default = MarkerModel;\nmodule.exports = _default;","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerProcessor({\n  // `dataZoomProcessor` will only be performed in needed series. Consider if\n  // there is a line series and a pie series, it is better not to update the\n  // line series if only pie series is needed to be updated.\n  getTargetSeries: function (ecModel) {\n    var seriesModelMap = createHashMap();\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        var axisProxy = dataZoomModel.getAxisProxy(dimNames.name, axisIndex);\n        each(axisProxy.getTargetSeriesModels(), function (seriesModel) {\n          seriesModelMap.set(seriesModel.uid, seriesModel);\n        });\n      });\n    });\n    return seriesModelMap;\n  },\n  modifyOutputEnd: true,\n  // Consider appendData, where filter should be performed. Because data process is\n  // in block mode currently, it is not need to worry about that the overallProgress\n  // execute every frame.\n  overallReset: function (ecModel, api) {\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // We calculate window and reset axis here but not in model\n      // init stage and not after action dispatch handler, because\n      // reset should be called after seriesData.restoreData.\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        dataZoomModel.getAxisProxy(dimNames.name, axisIndex).reset(dataZoomModel, api);\n      }); // Caution: data zoom filtering is order sensitive when using\n      // percent range and no min/max/scale set on axis.\n      // For example, we have dataZoom definition:\n      // [\n      //      {xAxisIndex: 0, start: 30, end: 70},\n      //      {yAxisIndex: 0, start: 20, end: 80}\n      // ]\n      // In this case, [20, 80] of y-dataZoom should be based on data\n      // that have filtered by x-dataZoom using range of [30, 70],\n      // but should not be based on full raw data. Thus sliding\n      // x-dataZoom will change both ranges of xAxis and yAxis,\n      // while sliding y-dataZoom will only change the range of yAxis.\n      // So we should filter x-axis after reset x-axis immediately,\n      // and then reset y-axis and filter y-axis.\n\n      dataZoomModel.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel) {\n        dataZoomModel.getAxisProxy(dimNames.name, axisIndex).filterData(dataZoomModel, api);\n      });\n    });\n    ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n      // Fullfill all of the range props so that user\n      // is able to get them from chart.getOption().\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n      var percentRange = axisProxy.getDataPercentWindow();\n      var valueRange = axisProxy.getDataValueWindow();\n      dataZoomModel.setCalculatedRange({\n        start: percentRange[0],\n        end: percentRange[1],\n        startValue: valueRange[0],\n        endValue: valueRange[1]\n      });\n    });\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(coordSys.clampData(value));\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 最小高度改为0\n    barMinHeight: 0,\n    // 最小角度为0，仅对极坐标系下的柱状图有效\n    barMinAngle: 0,\n    // cursor: null,\n    large: false,\n    largeThreshold: 400,\n    progressive: 3e3,\n    progressiveChunkMode: 'mod',\n    // barMaxWidth: null,\n    // In cartesian, the default value is 1. Otherwise null.\n    // barMinWidth: null,\n    // 默认自适应\n    // barWidth: null,\n    // 柱间距离，默认为柱形宽度的30%，可设固定值\n    // barGap: '30%',\n    // 类目间柱形距离，默认为类目间距的20%，可设固定值\n    // barCategoryGap: '20%',\n    // label: {\n    //      show: false\n    // },\n    itemStyle: {},\n    emphasis: {}\n  }\n});\n\nmodule.exports = _default;","const MONTH_DISPLAY = ['', '一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']\nconst WEEK_DISPLAY = ['日', '一', '二', '三', '四', '五', '六']\n// 单位大小\nconst UNIT_SIZE = {\n    d: 86400000, // 毫秒/天\n    H: 3600000, // 毫秒/小时\n    m: 60000, // 毫秒/分钟\n    s: 1000, // 毫秒/秒\n    S: 1 // 毫秒\n}\n\nconst TimeFormater = function (input) {\n    if (!(this instanceof TimeFormater)) {\n        return new TimeFormater(input)\n    }\n    this[0] = input ? new Date(input) : new Date()\n}\n\nTimeFormater.prototype = {\n\n    format(token) {\n        if (typeof token !== 'string') {\n            return this.toLocaleString()\n        }\n\n        const reg = /Y{4}|M{1,4}|Do|D{1,2}|d{1,4}|Q|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|A|a|x|X/g\n        return token.replace(reg, (match) => this[match] ? this[match]() : match)\n    },\n\n    fromNow() {\n        let oldTime = this[0].getTime()\n        let newTime = Date.now()\n        let diff = Math.floor(newTime - oldTime)\n\n        if (diff < 10000) {\n            return '刚刚'\n        } else if (diff < 60000) {\n            return parseInt(diff / 1000) + '秒前'\n        } else if (diff < 3600000) {\n            return parseInt(diff / 60000) + '分钟前'\n        } else if (diff < 86400000) {\n            return parseInt(diff / 3600000) + '小时前'\n        } else if (diff < 2592000000) {\n            return parseInt(diff / 86400000) + '天前'\n        } else if (diff < 31104000000) {\n            return parseInt(diff / 2592000000) + '月前'\n        } else {\n            return parseInt(diff / 31104000000) + '年前'\n        }\n    },\n    \n    fillZero(num) {\n        return num < 10 ? '0' + num : num\n    },\n\n    YYYY() {\n        return this[0].getFullYear()\n    },\n\n    Q() {\n        return Math.ceil(this.M() / 3)\n    },\n\n    // 月份 [1..12]\n    M() {\n        return this[0].getMonth() + 1\n    },\n\n    // 月份 [01..12]\n    MM() {\n        return this.fillZero(this.M())\n    },\n\n    // 月份 [1月..12月]\n    MMM() {\n        return this.M() + '月'\n    },\n\n    // 月份 [一月..十二月]\n    MMMM() {\n        return MONTH_DISPLAY[this.M()]\n    },\n\n    // 日期 [1..31]\n    D() {\n        return this[0].getDate()\n    },\n\n    // 日期 [1日..31日]\n    Do() {\n        return this.D() + '日'\n    },\n\n    // 日期 [01..31]\n    DD() {\n        return this.fillZero(this.D())\n    },\n\n    // 星期 [0..6]\n    d() {\n        return this[0].getDay()\n    },\n\n    // 星期 [日..六]\n    dd() {\n        return WEEK_DISPLAY[this.d()]\n    },\n\n    // 星期 [周日..周六]\n    ddd() {\n        return '周' + this.dd()\n    },\n\n    // 星期 [星期日..星期六]\n    dddd() {\n        return '星期' + this.dd()\n    },\n\n    // 时 [0..23]\n    H() {\n        return this[0].getHours()\n    },\n\n    // 时 [00..23]\n    HH() {\n        return this.fillZero(this.H())\n    },\n\n    // 时 [1.12]\n    h() {\n        let hour = this.H() % 12\n        return hour || 12\n    },\n\n    // 时 [01..12]\n    hh() {\n        return this.fillZero(this.h())\n    },\n\n    // 分钟 [0..59]\n    m() {\n        return this[0].getMinutes()\n    },\n\n    // 分钟 [00..59]\n    mm() {\n        return this.fillZero(this.m())\n    },\n\n    // 秒 [0..59]\n    s() {\n        return this[0].getSeconds()\n    },\n\n    // 秒 [00..59]\n    ss() {\n        return this.fillZero(this.s())\n    },\n\n    // 毫秒 [0..999]\n    SSS() {\n        return this[0].getMilliseconds()\n    },\n\n    // 毫秒 [0..99]\n    SS() {\n        return Math.floor(this.SSS() / 10)\n    },\n\n    // 毫秒 [0..9]\n    S() {\n        return Math.floor(this.SS() / 10)\n    },\n\n    A() {\n        let hm = this.H() * 100 + this.m()\n        let part = ['凌晨', '早上', '上午', '中午', '下午', '晚上']\n        let interval = [600, 900, 1130, 1230, 1800, Infinity]\n        let i = interval.findIndex(function (item) {\n            return hm < item\n        })\n        return part[i]\n    },\n\n    // A 的别名\n    a() {\n        return this.A()\n    },\n\n    // 时间戳，单位：毫秒\n    x() {\n        return this[0].getTime()\n    },\n\n    // 时间戳，单位：秒\n    X() {\n        return Math.floor(this.x() / 1000)\n    }\n}\n\n/**\n * 倒计时\n * @param {number|string|Date} time 类型为数字表示剩余的秒数，为Date实例或字符串（符合ISO 8601格式），表示结束的时间点。\n */\nTimeFormater.countdown = function (time) {\n    let endPoint = 0\n    if (typeof time === 'number') {\n        // time 为数字类型，表示剩余的秒数\n        endPoint = time * 1000 + Date.now()\n    } else if (typeof time === 'string') {\n        // time 为字符串，则应符合ISO 8601格式，表示结束的时间点\n        endPoint = new Date(time).getTime()\n    } else if (time instanceof Date) {\n        // time 为Date对象实例，表示结束的时间点\n        endPoint = time.getTime()\n    }\n\n    /**\n     * 将剩余的时间量格式化为字符串\n     * @param {string} token 用于指定输出格式。例：'剩余：d天H小时m分钟s秒' => \"剩余：1天11小时4分钟38秒\"。\n     */\n    let format = function (token) {\n        let now = Date.now()\n        let remain = endPoint - now\n        let limit = 0 // 忽略负数\n        remain = Math.max(limit, remain)\n\n        return token.replace(/(?:#(\\d+))?([dHmsS])/g, function (all, width, key) {\n            // 如果存在换算单位，则进行单位转换\n            if (UNIT_SIZE[key]) {\n                let r = remain\n                remain %= UNIT_SIZE[key]\n                let str = parseInt(r / UNIT_SIZE[key]).toString()\n                // 如果指定宽度，则进行填充处理\n                if (width && str.length < width) {\n                    str = new Array(width - str.length).fill(0).join('') + str\n                }\n                return str\n            } else {\n                return key\n            }\n        })\n    }\n\n    return { format }\n}\n\nmodule.exports = TimeFormater","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar helper = require(\"./helper\");\n\nvar AxisProxy = require(\"./AxisProxy\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar eachAxisDim = helper.eachAxisDim;\nvar DataZoomModel = echarts.extendComponentModel({\n  type: 'dataZoom',\n  dependencies: ['xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    z: 4,\n    // Higher than normal component (z: 2).\n    orient: null,\n    // Default auto by axisIndex. Possible value: 'horizontal', 'vertical'.\n    xAxisIndex: null,\n    // Default the first horizontal category axis.\n    yAxisIndex: null,\n    // Default the first vertical category axis.\n    filterMode: 'filter',\n    // Possible values: 'filter' or 'empty' or 'weakFilter'.\n    // 'filter': data items which are out of window will be removed. This option is\n    //          applicable when filtering outliers. For each data item, it will be\n    //          filtered if one of the relevant dimensions is out of the window.\n    // 'weakFilter': data items which are out of window will be removed. This option\n    //          is applicable when filtering outliers. For each data item, it will be\n    //          filtered only if all  of the relevant dimensions are out of the same\n    //          side of the window.\n    // 'empty': data items which are out of window will be set to empty.\n    //          This option is applicable when user should not neglect\n    //          that there are some data items out of window.\n    // 'none': Do not filter.\n    // Taking line chart as an example, line will be broken in\n    // the filtered points when filterModel is set to 'empty', but\n    // be connected when set to 'filter'.\n    throttle: null,\n    // Dispatch action by the fixed rate, avoid frequency.\n    // default 100. Do not throttle when use null/undefined.\n    // If animation === true and animationDurationUpdate > 0,\n    // default value is 100, otherwise 20.\n    start: 0,\n    // Start percent. 0 ~ 100\n    end: 100,\n    // End percent. 0 ~ 100\n    startValue: null,\n    // Start value. If startValue specified, start is ignored.\n    endValue: null,\n    // End value. If endValue specified, end is ignored.\n    minSpan: null,\n    // 0 ~ 100\n    maxSpan: null,\n    // 0 ~ 100\n    minValueSpan: null,\n    // The range of dataZoom can not be smaller than that.\n    maxValueSpan: null,\n    // The range of dataZoom can not be larger than that.\n    rangeMode: null // Array, can be 'value' or 'percent'.\n\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * key like x_0, y_1\n     * @private\n     * @type {Object}\n     */\n    this._dataIntervalByAxis = {};\n    /**\n     * @private\n     */\n\n    this._dataInfo = {};\n    /**\n     * key like x_0, y_1\n     * @private\n     */\n\n    this._axisProxies = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * @private\n     */\n\n    this._autoThrottle = true;\n    /**\n     * It is `[rangeModeForMin, rangeModeForMax]`.\n     * The optional values for `rangeMode`:\n     * + `'value'` mode: the axis extent will always be determined by\n     *     `dataZoom.startValue` and `dataZoom.endValue`, despite\n     *     how data like and how `axis.min` and `axis.max` are.\n     * + `'percent'` mode: `100` represents 100% of the `[dMin, dMax]`,\n     *     where `dMin` is `axis.min` if `axis.min` specified, otherwise `data.extent[0]`,\n     *     and `dMax` is `axis.max` if `axis.max` specified, otherwise `data.extent[1]`.\n     *     Axis extent will be determined by the result of the percent of `[dMin, dMax]`.\n     *\n     * For example, when users are using dynamic data (update data periodically via `setOption`),\n     * if in `'value`' mode, the window will be kept in a fixed value range despite how\n     * data are appended, while if in `'percent'` mode, whe window range will be changed alone with\n     * the appended data (suppose `axis.min` and `axis.max` are not specified).\n     *\n     * @private\n     */\n\n    this._rangePropMode = ['percent', 'percent'];\n    var inputRawOption = retrieveRawOption(option);\n    /**\n     * Suppose a \"main process\" start at the point that model prepared (that is,\n     * model initialized or merged or method called in `action`).\n     * We should keep the `main process` idempotent, that is, given a set of values\n     * on `option`, we get the same result.\n     *\n     * But sometimes, values on `option` will be updated for providing users\n     * a \"final calculated value\" (`dataZoomProcessor` will do that). Those value\n     * should not be the base/input of the `main process`.\n     *\n     * So in that case we should save and keep the input of the `main process`\n     * separately, called `settledOption`.\n     *\n     * For example, consider the case:\n     * (Step_1) brush zoom the grid by `toolbox.dataZoom`,\n     *     where the original input `option.startValue`, `option.endValue` are earsed by\n     *     calculated value.\n     * (Step)2) click the legend to hide and show a series,\n     *     where the new range is calculated by the earsed `startValue` and `endValue`,\n     *     which brings incorrect result.\n     *\n     * @readOnly\n     */\n\n    this.settledOption = inputRawOption;\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.doInit(inputRawOption);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var inputRawOption = retrieveRawOption(newOption); //FIX #2591\n\n    zrUtil.merge(this.option, newOption, true);\n    zrUtil.merge(this.settledOption, inputRawOption, true);\n    this.doInit(inputRawOption);\n  },\n\n  /**\n   * @protected\n   */\n  doInit: function (inputRawOption) {\n    var thisOption = this.option; // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    this._setDefaultThrottle(inputRawOption);\n\n    updateRangeUse(this, inputRawOption);\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = settledOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n    this.textStyleModel = this.getModel('textStyle');\n\n    this._resetTarget();\n\n    this._giveAxisProxies();\n  },\n\n  /**\n   * @private\n   */\n  _giveAxisProxies: function () {\n    var axisProxies = this._axisProxies;\n    this.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel, ecModel) {\n      var axisModel = this.dependentModels[dimNames.axis][axisIndex]; // If exists, share axisProxy with other dataZoomModels.\n\n      var axisProxy = axisModel.__dzAxisProxy || ( // Use the first dataZoomModel as the main model of axisProxy.\n      axisModel.__dzAxisProxy = new AxisProxy(dimNames.name, axisIndex, this, ecModel)); // FIXME\n      // dispose __dzAxisProxy\n\n      axisProxies[dimNames.name + '_' + axisIndex] = axisProxy;\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetTarget: function () {\n    var thisOption = this.option;\n\n    var autoMode = this._judgeAutoMode();\n\n    eachAxisDim(function (dimNames) {\n      var axisIndexName = dimNames.axisIndex;\n      thisOption[axisIndexName] = modelUtil.normalizeToArray(thisOption[axisIndexName]);\n    }, this);\n\n    if (autoMode === 'axisIndex') {\n      this._autoSetAxisIndex();\n    } else if (autoMode === 'orient') {\n      this._autoSetOrient();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _judgeAutoMode: function () {\n    // Auto set only works for setOption at the first time.\n    // The following is user's reponsibility. So using merged\n    // option is OK.\n    var thisOption = this.option;\n    var hasIndexSpecified = false;\n    eachAxisDim(function (dimNames) {\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n      if (thisOption[dimNames.axisIndex] != null) {\n        hasIndexSpecified = true;\n      }\n    }, this);\n    var orient = thisOption.orient;\n\n    if (orient == null && hasIndexSpecified) {\n      return 'orient';\n    } else if (!hasIndexSpecified) {\n      if (orient == null) {\n        thisOption.orient = 'horizontal';\n      }\n\n      return 'axisIndex';\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetAxisIndex: function () {\n    var autoAxisIndex = true;\n    var orient = this.get('orient', true);\n    var thisOption = this.option;\n    var dependentModels = this.dependentModels;\n\n    if (autoAxisIndex) {\n      // Find axis that parallel to dataZoom as default.\n      var dimName = orient === 'vertical' ? 'y' : 'x';\n\n      if (dependentModels[dimName + 'Axis'].length) {\n        thisOption[dimName + 'AxisIndex'] = [0];\n        autoAxisIndex = false;\n      } else {\n        each(dependentModels.singleAxis, function (singleAxisModel) {\n          if (autoAxisIndex && singleAxisModel.get('orient', true) === orient) {\n            thisOption.singleAxisIndex = [singleAxisModel.componentIndex];\n            autoAxisIndex = false;\n          }\n        });\n      }\n    }\n\n    if (autoAxisIndex) {\n      // Find the first category axis as default. (consider polar)\n      eachAxisDim(function (dimNames) {\n        if (!autoAxisIndex) {\n          return;\n        }\n\n        var axisIndices = [];\n        var axisModels = this.dependentModels[dimNames.axis];\n\n        if (axisModels.length && !axisIndices.length) {\n          for (var i = 0, len = axisModels.length; i < len; i++) {\n            if (axisModels[i].get('type') === 'category') {\n              axisIndices.push(i);\n            }\n          }\n        }\n\n        thisOption[dimNames.axisIndex] = axisIndices;\n\n        if (axisIndices.length) {\n          autoAxisIndex = false;\n        }\n      }, this);\n    }\n\n    if (autoAxisIndex) {\n      // FIXME\n      // 这里是兼容ec2的写法（没指定xAxisIndex和yAxisIndex时把scatter和双数值轴折柱纳入dataZoom控制），\n      // 但是实际是否需要Grid.js#getScaleByOption来判断（考虑time，log等axis type）？\n      // If both dataZoom.xAxisIndex and dataZoom.yAxisIndex is not specified,\n      // dataZoom component auto adopts series that reference to\n      // both xAxis and yAxis which type is 'value'.\n      this.ecModel.eachSeries(function (seriesModel) {\n        if (this._isSeriesHasAllAxesTypeOf(seriesModel, 'value')) {\n          eachAxisDim(function (dimNames) {\n            var axisIndices = thisOption[dimNames.axisIndex];\n            var axisIndex = seriesModel.get(dimNames.axisIndex);\n            var axisId = seriesModel.get(dimNames.axisId);\n            var axisModel = seriesModel.ecModel.queryComponents({\n              mainType: dimNames.axis,\n              index: axisIndex,\n              id: axisId\n            })[0];\n            axisIndex = axisModel.componentIndex;\n\n            if (zrUtil.indexOf(axisIndices, axisIndex) < 0) {\n              axisIndices.push(axisIndex);\n            }\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetOrient: function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (dimNames) {\n      !dim && (dim = dimNames.name);\n    }, this);\n    this.option.orient = dim === 'y' ? 'vertical' : 'horizontal';\n  },\n\n  /**\n   * @private\n   */\n  _isSeriesHasAllAxesTypeOf: function (seriesModel, axisType) {\n    // FIXME\n    // 需要series的xAxisIndex和yAxisIndex都首先自动设置上。\n    // 例如series.type === scatter时。\n    var is = true;\n    eachAxisDim(function (dimNames) {\n      var seriesAxisIndex = seriesModel.get(dimNames.axisIndex);\n      var axisModel = this.dependentModels[dimNames.axis][seriesAxisIndex];\n\n      if (!axisModel || axisModel.get('type') !== axisType) {\n        is = false;\n      }\n    }, this);\n    return is;\n  },\n\n  /**\n   * @private\n   */\n  _setDefaultThrottle: function (inputRawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (inputRawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  },\n\n  /**\n   * @public\n   */\n  getFirstTargetAxisModel: function () {\n    var firstAxisModel;\n    eachAxisDim(function (dimNames) {\n      if (firstAxisModel == null) {\n        var indices = this.get(dimNames.axisIndex);\n\n        if (indices.length) {\n          firstAxisModel = this.dependentModels[dimNames.axis][indices[0]];\n        }\n      }\n    }, this);\n    return firstAxisModel;\n  },\n\n  /**\n   * @public\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  eachTargetAxis: function (callback, context) {\n    var ecModel = this.ecModel;\n    eachAxisDim(function (dimNames) {\n      each(this.get(dimNames.axisIndex), function (axisIndex) {\n        callback.call(context, dimNames, axisIndex, this, ecModel);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/component/dataZoom/AxisProxy} If not found, return null/undefined.\n   */\n  getAxisProxy: function (dimName, axisIndex) {\n    return this._axisProxies[dimName + '_' + axisIndex];\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/model/Model} If not found, return null/undefined.\n   */\n  getAxisModel: function (dimName, axisIndex) {\n    var axisProxy = this.getAxisProxy(dimName, axisIndex);\n    return axisProxy && axisProxy.getAxisModel();\n  },\n\n  /**\n   * If not specified, set to undefined.\n   *\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  setRawRange: function (opt) {\n    var thisOption = this.option;\n    var settledOption = this.settledOption;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // Consider the pair <start, startValue>:\n      // If one has value and the other one is `null/undefined`, we both set them\n      // to `settledOption`. This strategy enables the feature to clear the original\n      // value in `settledOption` to `null/undefined`.\n      // But if both of them are `null/undefined`, we do not set them to `settledOption`\n      // and keep `settledOption` with the original value. This strategy enables users to\n      // only set <end or endValue> but not set <start or startValue> when calling\n      // `dispatchAction`.\n      // The pair <end, endValue> is treated in the same way.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        thisOption[names[0]] = settledOption[names[0]] = opt[names[0]];\n        thisOption[names[1]] = settledOption[names[1]] = opt[names[1]];\n      }\n    }, this);\n    updateRangeUse(this, opt);\n  },\n\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  setCalculatedRange: function (opt) {\n    var option = this.option;\n    each(['start', 'startValue', 'end', 'endValue'], function (name) {\n      option[name] = opt[name];\n    });\n  },\n\n  /**\n   * @public\n   * @return {Array.<number>} [startPercent, endPercent]\n   */\n  getPercentRange: function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  },\n\n  /**\n   * @public\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @param {string} [axisDimName]\n   * @param {number} [axisIndex]\n   * @return {Array.<number>} [startValue, endValue] value can only be '-' or finite number.\n   */\n  getValueRange: function (axisDimName, axisIndex) {\n    if (axisDimName == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDimName, axisIndex).getDataValueWindow();\n    }\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/model/Model} [axisModel] If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   * @return {module:echarts/component/dataZoom/AxisProxy}\n   */\n  findRepresentativeAxisProxy: function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var axisProxies = this._axisProxies;\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    } // If no hosted axis find not hosted axisProxy.\n    // Consider this case: dataZoomModel1 and dataZoomModel2 control the same axis,\n    // and the option.start or option.end settings are different. The percentRange\n    // should follow axisProxy.\n    // (We encounter this problem in toolbox data zoom.)\n\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && !axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    }\n  },\n\n  /**\n   * @return {Array.<string>}\n   */\n  getRangePropMode: function () {\n    return this._rangePropMode.slice();\n  }\n});\n/**\n * Retrieve the those raw params from option, which will be cached separately.\n * becasue they will be overwritten by normalized/calculated values in the main\n * process.\n */\n\nfunction retrieveRawOption(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nfunction updateRangeUse(dataZoomModel, inputRawOption) {\n  var rangePropMode = dataZoomModel._rangePropMode;\n  var rangeModeInOption = dataZoomModel.get('rangeMode');\n  each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n    var percentSpecified = inputRawOption[names[0]] != null;\n    var valueSpecified = inputRawOption[names[1]] != null;\n\n    if (percentSpecified && !valueSpecified) {\n      rangePropMode[index] = 'percent';\n    } else if (!percentSpecified && valueSpecified) {\n      rangePropMode[index] = 'value';\n    } else if (rangeModeInOption) {\n      rangePropMode[index] = rangeModeInOption[index];\n    } else if (percentSpecified) {\n      // percentSpecified && valueSpecified\n      rangePropMode[index] = 'percent';\n    } // else remain its original setting.\n\n  });\n}\n\nvar _default = DataZoomModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomModel = require(\"./DataZoomModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar TooltipContent = require(\"./TooltipContent\");\n\nvar TooltipRichContent = require(\"./TooltipRichContent\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar findPointFromSeries = require(\"../axisPointer/findPointFromSeries\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar Model = require(\"../../model/Model\");\n\nvar globalListener = require(\"../axisPointer/globalListener\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar axisPointerViewHelper = require(\"../axisPointer/viewHelper\");\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar parsePercent = numberUtil.parsePercent;\nvar proxyRect = new graphic.Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar _default = echarts.extendComponentView({\n  type: 'tooltip',\n  init: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = tooltipModel.get('renderMode');\n    this._renderMode = getTooltipRenderMode(renderMode);\n    var tooltipContent;\n\n    if (this._renderMode === 'html') {\n      tooltipContent = new TooltipContent(api.getDom(), api, {\n        appendToBody: tooltipModel.get('appendToBody', true)\n      });\n      this._newLine = '<br/>';\n    } else {\n      tooltipContent = new TooltipRichContent(api);\n      this._newLine = '\\n';\n    }\n\n    this._tooltipContent = tooltipContent;\n  },\n  render: function (tooltipModel, ecModel, api) {\n    if (env.node) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    /**\n     * @private\n     * @type {module:echarts/component/tooltip/TooltipModel}\n     */\n\n    this._tooltipModel = tooltipModel;\n    /**\n     * @private\n     * @type {module:echarts/model/Global}\n     */\n\n    this._ecModel = ecModel;\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this._api = api;\n    /**\n     * Should be cleaned when render.\n     * @private\n     * @type {Array.<Array.<Object>>}\n     */\n\n    this._lastDataByCoordSys = null;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update();\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow();\n  },\n  _initGlobalListener: function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  },\n  _keepShow: function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api; // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && tooltipModel.get('triggerOn') !== 'none') {\n      var self = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self._lastX,\n          y: self._lastY\n        });\n      });\n    }\n  },\n\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n\n    if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.position = [payload.x, payload.y];\n      el.update();\n      el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: payload.dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          position: payload.position,\n          target: pointInfo.el\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  },\n  manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (!this._alwaysShowContent && this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  },\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n    if (tooltipModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  },\n  _tryShow: function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } // Always show item tooltip if mouse is on the element with dataIndex\n    else if (el && el.dataIndex != null) {\n        this._lastDataByCoordSys = null;\n\n        this._showSeriesItemTooltip(e, el, dispatchAction);\n      } // Tooltip provided directly. Like legend.\n      else if (el && el.tooltip) {\n          this._lastDataByCoordSys = null;\n\n          this._showComponentItemTooltip(e, el, dispatchAction);\n        } else {\n          this._lastDataByCoordSys = null;\n\n          this._hide(dispatchAction);\n        }\n  },\n  _showOrMove: function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easyer to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = zrUtil.bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  },\n  _showAxisTooltip: function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleDefaultHTML = [];\n    var singleParamsList = [];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n    var renderMode = this._renderMode;\n    var newLine = this._newLine;\n    var markers = {};\n    each(dataByCoordSys, function (itemCoordSys) {\n      // var coordParamList = [];\n      // var coordDefaultHTML = [];\n      // var coordTooltipModel = buildTooltipModel([\n      //     e.tooltipOption,\n      //     itemCoordSys.tooltipOption,\n      //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n      //     globalTooltipModel\n      // ]);\n      // var displayMode = coordTooltipModel.get('displayMode');\n      // var paramsList = displayMode === 'single' ? singleParamsList : [];\n      each(itemCoordSys.dataByAxis, function (item) {\n        var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n        var axisValue = item.value;\n        var seriesDefaultHTML = [];\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var valueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n        zrUtil.each(item.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var dataParams = series && series.getDataParams(dataIndex);\n          dataParams.axisDim = item.axisDim;\n          dataParams.axisIndex = item.axisIndex;\n          dataParams.axisType = item.axisType;\n          dataParams.axisId = item.axisId;\n          dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n          dataParams.axisValueLabel = valueLabel;\n\n          if (dataParams) {\n            singleParamsList.push(dataParams);\n            var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n            var html;\n\n            if (zrUtil.isObject(seriesTooltip)) {\n              html = seriesTooltip.html;\n              var newMarkers = seriesTooltip.markers;\n              zrUtil.merge(markers, newMarkers);\n            } else {\n              html = seriesTooltip;\n            }\n\n            seriesDefaultHTML.push(html);\n          }\n        }); // Default tooltip content\n        // FIXME\n        // (1) shold be the first data which has name?\n        // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n        var firstLine = valueLabel;\n\n        if (renderMode !== 'html') {\n          singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n        } else {\n          singleDefaultHTML.push((firstLine ? formatUtil.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n        }\n      });\n    }, this); // In most case, the second axis is shown upper than the first one.\n\n    singleDefaultHTML.reverse();\n    singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n    var positionExpr = e.position;\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  },\n  _showSeriesItemTooltip: function (e, el, dispatchAction) {\n    var ecModel = this._ecModel; // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = el.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = el.dataModel || seriesModel;\n    var dataIndex = el.dataIndex;\n    var dataType = el.dataType;\n    var data = dataModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n    var defaultHtml;\n    var markers;\n\n    if (zrUtil.isObject(seriesTooltip)) {\n      defaultHtml = seriesTooltip.html;\n      markers = seriesTooltip.markers;\n    } else {\n      defaultHtml = seriesTooltip;\n      markers = null;\n    }\n\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  },\n  _showComponentItemTooltip: function (e, el, dispatchAction) {\n    var tooltipOpt = el.tooltip;\n\n    if (typeof tooltipOpt === 'string') {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on cooridinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  },\n  _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    if (formatter && typeof formatter === 'string') {\n      html = formatUtil.formatTpl(formatter, params, true);\n    } else if (typeof formatter === 'function') {\n      var callback = bind(function (cbTicket, html) {\n        if (cbTicket === this._ticket) {\n          tooltipContent.setContent(html, markers, tooltipModel);\n\n          this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n        }\n      }, this);\n      this._ticket = asyncTicket;\n      html = formatter(params, asyncTicket, callback);\n    }\n\n    tooltipContent.setContent(html, markers, tooltipModel);\n    tooltipContent.show(tooltipModel);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  },\n\n  /**\n   * @param  {string|Function|Array.<number>|Object} positionExpr\n   * @param  {number} x Mouse x\n   * @param  {number} y Mouse y\n   * @param  {boolean} confine Whether confine tooltip content in view rect.\n   * @param  {Object|<Array.<Object>} params\n   * @param  {module:zrender/Element} el target element\n   * @param  {module:echarts/ExtensionAPI} api\n   * @return {Array.<number>}\n   */\n  _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (typeof positionExpr === 'function') {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (zrUtil.isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (zrUtil.isObject(positionExpr)) {\n      positionExpr.width = contentSize[0];\n      positionExpr.height = contentSize[1];\n      var layoutRect = layoutUtil.getLayoutRect(positionExpr, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (typeof positionExpr === 'string' && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (tooltipModel.get('confine')) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  },\n  // FIXME\n  // Should we remove this but leave this to user?\n  _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    return !!contentNotChanged;\n  },\n  _hide: function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  },\n  dispose: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    this._tooltipContent.dispose();\n\n    globalListener.unregister('itemTooltip', api);\n  }\n});\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade) {\n  var resultModel = modelCascade.pop();\n\n  while (modelCascade.length) {\n    var tooltipOpt = modelCascade.pop();\n\n    if (tooltipOpt) {\n      if (Model.isInstance(tooltipOpt)) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (typeof tooltipOpt === 'string') {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n\n  if (gapH != null) {\n    if (x + width + gapH > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var gap = 5;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - gap;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + gap;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerModel = echarts.extendComponentModel({\n  type: 'axisPointer',\n  coordSysAxesInfo: null,\n  defaultOption: {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: null,\n    // set default in AxisPonterView.js\n    zlevel: 0,\n    z: 50,\n    type: 'line',\n    // 'line' 'shadow' 'cross' 'none'.\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    value: null,\n    status: null,\n    // Init value depends on whether handle is used.\n    // [group0, group1, ...]\n    // Each group can be: {\n    //      mapper: function () {},\n    //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n    //      xAxisId: ...,\n    //      yAxisName: ...,\n    //      angleAxisIndex: ...\n    // }\n    // mapper: can be ignored.\n    //      input: {axisInfo, value}\n    //      output: {axisInfo, value}\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      type: 'solid'\n    },\n    shadowStyle: {\n      color: 'rgba(150,150,150,0.3)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      // string | Function\n      precision: 'auto',\n      // Or a number like 0, 1, 2 ...\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      // default: axis line color\n      borderColor: null,\n      borderWidth: 0,\n      shadowBlur: 3,\n      shadowColor: '#aaa' // Considering applicability, common style should\n      // better not have shadowOffset.\n      // shadowOffsetX: 0,\n      // shadowOffsetY: 2\n\n    },\n    handle: {\n      show: false,\n\n      /* eslint-disable */\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      // jshint ignore:line\n\n      /* eslint-enable */\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  }\n});\nvar _default = AxisPointerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'cartesian2dAxis',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Axis2D}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  init: function () {\n    AxisModel.superApply(this, 'init', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function () {\n    AxisModel.superApply(this, 'mergeOption', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  restoreData: function () {\n    AxisModel.superApply(this, 'restoreData', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   * @return {module:echarts/model/Component}\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'grid',\n      index: this.option.gridIndex,\n      id: this.option.gridId\n    })[0];\n  }\n});\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  // Offset is for multiple axis on the same position\n  offset: 0\n};\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  }\n});\n\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\n\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\nvar _default = CartesianAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DataZoomView = require(\"./DataZoomView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = DataZoomView.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Uint8Array */\nvar saveAsImageLang = lang.toolbox.saveAsImage;\n\nfunction SaveAsImage(model) {\n  this.model = model;\n}\n\nSaveAsImage.defaultOption = {\n  show: true,\n  icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n  title: saveAsImageLang.title,\n  type: 'png',\n  // Default use option.backgroundColor\n  // backgroundColor: '#fff',\n  connectedBackgroundColor: '#fff',\n  name: '',\n  excludeComponents: ['toolbox'],\n  pixelRatio: 1,\n  lang: saveAsImageLang.lang.slice()\n};\nSaveAsImage.prototype.unusable = !env.canvasSupported;\nvar proto = SaveAsImage.prototype;\n\nproto.onclick = function (ecModel, api) {\n  var model = this.model;\n  var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n  var type = model.get('type', true) || 'png';\n  var url = api.getConnectedDataURL({\n    type: type,\n    backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n    connectedBackgroundColor: model.get('connectedBackgroundColor'),\n    excludeComponents: model.get('excludeComponents'),\n    pixelRatio: model.get('pixelRatio')\n  }); // Chrome and Firefox\n\n  if (typeof MouseEvent === 'function' && !env.browser.ie && !env.browser.edge) {\n    var $a = document.createElement('a');\n    $a.download = title + '.' + type;\n    $a.target = '_blank';\n    $a.href = url;\n    var evt = new MouseEvent('click', {\n      view: window,\n      bubbles: true,\n      cancelable: false\n    });\n    $a.dispatchEvent(evt);\n  } // IE\n  else {\n      if (window.navigator.msSaveOrOpenBlob) {\n        var bstr = atob(url.split(',')[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        var blob = new Blob([u8arr]);\n        window.navigator.msSaveOrOpenBlob(blob, title + '.' + type);\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n      }\n    }\n};\n\nfeatureManager.register('saveAsImage', SaveAsImage);\nvar _default = SaveAsImage;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AXIS_DIMS = ['x', 'y', 'z', 'radius', 'angle', 'single']; // Supported coords.\n\nvar COORDS = ['cartesian2d', 'polar', 'singleAxis'];\n/**\n * @param {string} coordType\n * @return {boolean}\n */\n\nfunction isCoordSupported(coordType) {\n  return zrUtil.indexOf(COORDS, coordType) >= 0;\n}\n/**\n * Create \"each\" method to iterate names.\n *\n * @pubilc\n * @param  {Array.<string>} names\n * @param  {Array.<string>=} attrs\n * @return {Function}\n */\n\n\nfunction createNameEach(names, attrs) {\n  names = names.slice();\n  var capitalNames = zrUtil.map(names, formatUtil.capitalFirst);\n  attrs = (attrs || []).slice();\n  var capitalAttrs = zrUtil.map(attrs, formatUtil.capitalFirst);\n  return function (callback, context) {\n    zrUtil.each(names, function (name, index) {\n      var nameObj = {\n        name: name,\n        capital: capitalNames[index]\n      };\n\n      for (var j = 0; j < attrs.length; j++) {\n        nameObj[attrs[j]] = name + capitalAttrs[j];\n      }\n\n      callback.call(context, nameObj);\n    });\n  };\n}\n/**\n * Iterate each dimension name.\n *\n * @public\n * @param {Function} callback The parameter is like:\n *                            {\n *                                name: 'angle',\n *                                capital: 'Angle',\n *                                axis: 'angleAxis',\n *                                axisIndex: 'angleAixs',\n *                                index: 'angleIndex'\n *                            }\n * @param {Object} context\n */\n\n\nvar eachAxisDim = createNameEach(AXIS_DIMS, ['axisIndex', 'axis', 'index', 'id']);\n/**\n * If tow dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * dataZoomModels and 'links' make up one or more graphics.\n * This function finds the graphic where the source dataZoomModel is in.\n *\n * @public\n * @param {Function} forEachNode Node iterator.\n * @param {Function} forEachEdgeType edgeType iterator\n * @param {Function} edgeIdGetter Giving node and edgeType, return an array of edge id.\n * @return {Function} Input: sourceNode, Output: Like {nodes: [], dims: {}}\n */\n\nfunction createLinkedNodesFinder(forEachNode, forEachEdgeType, edgeIdGetter) {\n  return function (sourceNode) {\n    var result = {\n      nodes: [],\n      records: {} // key: edgeType.name, value: Object (key: edge id, value: boolean).\n\n    };\n    forEachEdgeType(function (edgeType) {\n      result.records[edgeType.name] = {};\n    });\n\n    if (!sourceNode) {\n      return result;\n    }\n\n    absorb(sourceNode, result);\n    var existsLink;\n\n    do {\n      existsLink = false;\n      forEachNode(processSingleNode);\n    } while (existsLink);\n\n    function processSingleNode(node) {\n      if (!isNodeAbsorded(node, result) && isLinked(node, result)) {\n        absorb(node, result);\n        existsLink = true;\n      }\n    }\n\n    return result;\n  };\n\n  function isNodeAbsorded(node, result) {\n    return zrUtil.indexOf(result.nodes, node) >= 0;\n  }\n\n  function isLinked(node, result) {\n    var hasLink = false;\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] && (hasLink = true);\n      });\n    });\n    return hasLink;\n  }\n\n  function absorb(node, result) {\n    result.nodes.push(node);\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] = true;\n      });\n    });\n  }\n}\n\nexports.isCoordSupported = isCoordSupported;\nexports.createNameEach = createNameEach;\nexports.eachAxisDim = eachAxisDim;\nexports.createLinkedNodesFinder = createLinkedNodesFinder;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n  var axis = axisModel.axis;\n\n  if (axis.scale.isBlank()) {\n    return;\n  }\n\n  var splitAreaModel = axisModel.getModel('splitArea');\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\n  var areaColors = areaStyleModel.get('color');\n  var gridRect = gridModel.coordinateSystem.getRect();\n  var ticksCoords = axis.getTicksCoords({\n    tickModel: splitAreaModel,\n    clamp: true\n  });\n\n  if (!ticksCoords.length) {\n    return;\n  } // For Making appropriate splitArea animation, the color and anid\n  // should be corresponding to previous one if possible.\n\n\n  var areaColorsLen = areaColors.length;\n  var lastSplitAreaColors = axisView.__splitAreaColors;\n  var newSplitAreaColors = zrUtil.createHashMap();\n  var colorIndex = 0;\n\n  if (lastSplitAreaColors) {\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n      if (cIndex != null) {\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n        break;\n      }\n    }\n  }\n\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n  var areaStyle = areaStyleModel.getAreaStyle();\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n\n  for (var i = 1; i < ticksCoords.length; i++) {\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (axis.isHorizontal()) {\n      x = prev;\n      y = gridRect.y;\n      width = tickCoord - x;\n      height = gridRect.height;\n      prev = x + width;\n    } else {\n      x = gridRect.x;\n      y = prev;\n      width = gridRect.width;\n      height = tickCoord - y;\n      prev = y + height;\n    }\n\n    var tickValue = ticksCoords[i - 1].tickValue;\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n    axisGroup.add(new graphic.Rect({\n      anid: tickValue != null ? 'area_' + tickValue : null,\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      },\n      style: zrUtil.defaults({\n        fill: areaColors[colorIndex]\n      }, areaStyle),\n      silent: true\n    }));\n    colorIndex = (colorIndex + 1) % areaColorsLen;\n  }\n\n  axisView.__splitAreaColors = newSplitAreaColors;\n}\n\nfunction rectCoordAxisHandleRemove(axisView) {\n  axisView.__splitAreaColors = null;\n}\n\nexports.rectCoordAxisBuildSplitArea = rectCoordAxisBuildSplitArea;\nexports.rectCoordAxisHandleRemove = rectCoordAxisHandleRemove;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\nvar each = _util.each;\nvar map = _util.map;\nvar indexOf = _util.indexOf;\nvar retrieve = _util.retrieve;\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar ifAxisCrossZero = _axisHelper.ifAxisCrossZero;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\nvar estimateLabelUnionRect = _axisHelper.estimateLabelUnionRect;\n\nvar Cartesian2D = require(\"./Cartesian2D\");\n\nvar Axis2D = require(\"./Axis2D\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nrequire(\"./GridModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n// Depends on GridModel, AxisModel, which performs preprocess.\n\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n   * @private\n   */\n  this._coordsMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n   * @private\n   */\n\n  this._coordsList = [];\n  /**\n   * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n   * @private\n   */\n\n  this._axesMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesList = [];\n\n  this._initCartesian(gridModel, ecModel, api);\n\n  this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\ngridProto.type = 'grid';\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n  return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n  var axesMap = this._axesMap;\n\n  this._updateScale(ecModel, this.model);\n\n  each(axesMap.x, function (xAxis) {\n    niceScaleExtent(xAxis.scale, xAxis.model);\n  });\n  each(axesMap.y, function (yAxis) {\n    niceScaleExtent(yAxis.scale, yAxis.model);\n  }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n  var onZeroRecords = {};\n  each(axesMap.x, function (xAxis) {\n    fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n  });\n  each(axesMap.y, function (yAxis) {\n    fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n  }); // Resize again if containLabel is enabled\n  // FIXME It may cause getting wrong grid size in data processing stage\n\n  this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get('axisLine.onZero');\n  var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\n\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n  var gridRect = getLayoutRect(gridModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n  this._rect = gridRect;\n  var axesList = this._axesList;\n  adjustAxes(); // Minus label size\n\n  if (!ignoreContainLabel && gridModel.get('containLabel')) {\n    each(axesList, function (axis) {\n      if (!axis.model.get('axisLabel.inside')) {\n        var labelUnionRect = estimateLabelUnionRect(axis);\n\n        if (labelUnionRect) {\n          var dim = axis.isHorizontal() ? 'height' : 'width';\n          var margin = axis.model.get('axisLabel.margin');\n          gridRect[dim] -= labelUnionRect[dim] + margin;\n\n          if (axis.position === 'top') {\n            gridRect.y += labelUnionRect.height + margin;\n          } else if (axis.position === 'left') {\n            gridRect.x += labelUnionRect.width + margin;\n          }\n        }\n      }\n    });\n    adjustAxes();\n  }\n\n  function adjustAxes() {\n    each(axesList, function (axis) {\n      var isHorizontal = axis.isHorizontal();\n      var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(extent[idx], extent[1 - idx]);\n      updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n    });\n  }\n};\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\n\n\ngridProto.getAxis = function (axisType, axisIndex) {\n  var axesMapOnDim = this._axesMap[axisType];\n\n  if (axesMapOnDim != null) {\n    if (axisIndex == null) {\n      // Find first axis\n      for (var name in axesMapOnDim) {\n        if (axesMapOnDim.hasOwnProperty(name)) {\n          return axesMapOnDim[name];\n        }\n      }\n    }\n\n    return axesMapOnDim[axisIndex];\n  }\n};\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\n\n\ngridProto.getAxes = function () {\n  return this._axesList.slice();\n};\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\n\n\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n  if (xAxisIndex != null && yAxisIndex != null) {\n    var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n    return this._coordsMap[key];\n  }\n\n  if (isObject(xAxisIndex)) {\n    yAxisIndex = xAxisIndex.yAxisIndex;\n    xAxisIndex = xAxisIndex.xAxisIndex;\n  } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n  for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n    if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n      return coordList[i];\n    }\n  }\n};\n\ngridProto.getCartesians = function () {\n  return this._coordsList.slice();\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertToPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n};\n/**\n * @inner\n */\n\n\ngridProto._findConvertTarget = function (ecModel, finder) {\n  var seriesModel = finder.seriesModel;\n  var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n  var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n  var gridModel = finder.gridModel;\n  var coordsList = this._coordsList;\n  var cartesian;\n  var axis;\n\n  if (seriesModel) {\n    cartesian = seriesModel.coordinateSystem;\n    indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n  } else if (xAxisModel && yAxisModel) {\n    cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  } else if (xAxisModel) {\n    axis = this.getAxis('x', xAxisModel.componentIndex);\n  } else if (yAxisModel) {\n    axis = this.getAxis('y', yAxisModel.componentIndex);\n  } // Lowest priority.\n  else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n\n  return {\n    cartesian: cartesian,\n    axis: axis\n  };\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.containPoint = function (point) {\n  var coord = this._coordsList[0];\n\n  if (coord) {\n    return coord.containPoint(point);\n  }\n};\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\n\n\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n  var axisPositionUsed = {\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  };\n  var axesMap = {\n    x: {},\n    y: {}\n  };\n  var axesCount = {\n    x: 0,\n    y: 0\n  }; /// Create axis\n\n  ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n  ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n  if (!axesCount.x || !axesCount.y) {\n    // Roll back when there no either x or y axis\n    this._axesMap = {};\n    this._axesList = [];\n    return;\n  }\n\n  this._axesMap = axesMap; /// Create cartesian2d\n\n  each(axesMap.x, function (xAxis, xAxisIndex) {\n    each(axesMap.y, function (yAxis, yAxisIndex) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      var cartesian = new Cartesian2D(key);\n      cartesian.grid = this;\n      cartesian.model = gridModel;\n      this._coordsMap[key] = cartesian;\n\n      this._coordsList.push(cartesian);\n\n      cartesian.addAxis(xAxis);\n      cartesian.addAxis(yAxis);\n    }, this);\n  }, this);\n\n  function createAxisCreator(axisType) {\n    return function (axisModel, idx) {\n      if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var axisPosition = axisModel.get('position');\n\n      if (axisType === 'x') {\n        // Fix position\n        if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n          // Default bottom of X\n          axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n        }\n      } else {\n        // Fix position\n        if (axisPosition !== 'left' && axisPosition !== 'right') {\n          // Default left of Y\n          axisPosition = axisPositionUsed.left ? 'right' : 'left';\n        }\n      }\n\n      axisPositionUsed[axisPosition] = true;\n      var axis = new Axis2D(axisType, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n      axisModel.axis = axis; // Inject axisModel into axis\n\n      axis.model = axisModel; // Inject grid info axis\n\n      axis.grid = this; // Index of axis, can be used as key\n\n      axis.index = idx;\n\n      this._axesList.push(axis);\n\n      axesMap[axisType][idx] = axis;\n      axesCount[axisType]++;\n    };\n  }\n};\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\n\n\ngridProto._updateScale = function (ecModel, gridModel) {\n  // Reset scale\n  each(this._axesList, function (axis) {\n    axis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (isCartesian2D(seriesModel)) {\n      var axesModels = findAxesModels(seriesModel, ecModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n\n      if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      var data = seriesModel.getData();\n      var xAxis = cartesian.getAxis('x');\n      var yAxis = cartesian.getAxis('y');\n\n      if (data.type === 'list') {\n        unionExtent(data, xAxis, seriesModel);\n        unionExtent(data, yAxis, seriesModel);\n      }\n    }\n  }, this);\n\n  function unionExtent(data, axis, seriesModel) {\n    each(data.mapDimension(axis.dim, true), function (dim) {\n      axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n      // is [0.1, 0.5], the extent of the `stackResultDimension`\n      // is [7, 9], the final extent should not include [0.1, 0.5].\n      data, getStackedDimension(data, dim));\n    });\n  }\n};\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\n\n\ngridProto.getTooltipAxes = function (dim) {\n  var baseAxes = [];\n  var otherAxes = [];\n  each(this.getCartesians(), function (cartesian) {\n    var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n    var otherAxis = cartesian.getOtherAxis(baseAxis);\n    indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n    indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n  });\n  return {\n    baseAxes: baseAxes,\n    otherAxes: otherAxes\n  };\n};\n/**\n * @inner\n */\n\n\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\n\nfunction findAxesModels(seriesModel, ecModel) {\n  return map(axesTypes, function (axisType) {\n    var axisModel = seriesModel.getReferringComponents(axisType)[0];\n    return axisModel;\n  });\n}\n/**\n * @inner\n */\n\n\nfunction isCartesian2D(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n  var grids = [];\n  ecModel.eachComponent('grid', function (gridModel, idx) {\n    var grid = new Grid(gridModel, ecModel, api);\n    grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n    // should be performed in create stage.\n\n    grid.resize(gridModel, api, true);\n    gridModel.coordinateSystem = grid;\n    grids.push(grid);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (!isCartesian2D(seriesModel)) {\n      return;\n    }\n\n    var axesModels = findAxesModels(seriesModel, ecModel);\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var gridModel = xAxisModel.getCoordSysModel();\n    var grid = gridModel.coordinateSystem;\n    seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  });\n  return grids;\n}; // For deciding which dimensions to use when creating list data\n\n\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\nCoordinateSystem.register('cartesian2d', Grid);\nvar _default = Grid;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar axisPointerModelHelper = require(\"../axisPointer/modelHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Base class of AxisView.\n */\nvar AxisView = echarts.extendComponentView({\n  type: 'axis',\n\n  /**\n   * @private\n   */\n  _axisPointer: null,\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  axisPointerClass: null,\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    AxisView.superApply(this, 'render', arguments);\n    updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n  },\n\n  /**\n   * Action handler.\n   * @public\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} payload\n   */\n  updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n    updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n    AxisView.superApply(this, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    disposeAxisPointer(this, api);\n    AxisView.superApply(this, 'dispose', arguments);\n  }\n});\n\nfunction updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n  var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n  if (!Clazz) {\n    return;\n  }\n\n  var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n  axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n}\n\nfunction disposeAxisPointer(axisView, ecModel, api) {\n  var axisPointer = axisView._axisPointer;\n  axisPointer && axisPointer.dispose(ecModel, api);\n  axisView._axisPointer = null;\n}\n\nvar axisPointerClazz = [];\n\nAxisView.registerAxisPointerClass = function (type, clazz) {\n  axisPointerClazz[type] = clazz;\n};\n\nAxisView.getAxisPointerClass = function (type) {\n  return type && axisPointerClazz[type];\n};\n\nvar _default = AxisView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\nvar Model = require(\"../../model/Model\");\n\nvar barItemStyle = require(\"./barItemStyle\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar _throttle = require(\"../../util/throttle\");\n\nvar throttle = _throttle.throttle;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createClipPath = _createClipPathFromCoordSys.createClipPath;\n\nvar Sausage = require(\"../../util/shape/sausage\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'barBorderWidth'];\nvar _eventPos = [0, 0]; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nfunction getClipArea(coord, data) {\n  var coordSysClipArea = coord.getArea && coord.getArea();\n\n  if (coord.type === 'cartesian2d') {\n    var baseAxis = coord.getBaseAxis(); // When boundaryGap is false or using time axis. bar may exceed the grid.\n    // We should not clip this part.\n    // See test/bar2.html\n\n    if (baseAxis.type !== 'category' || !baseAxis.onBand) {\n      var expandWidth = data.getLayout('bandWidth');\n\n      if (baseAxis.isHorizontal()) {\n        coordSysClipArea.x -= expandWidth;\n        coordSysClipArea.width += expandWidth * 2;\n      } else {\n        coordSysClipArea.y -= expandWidth;\n        coordSysClipArea.height += expandWidth * 2;\n      }\n    }\n  }\n\n  return coordSysClipArea;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    this._updateDrawMode(seriesModel);\n\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._isLargeDraw ? this._renderLarge(seriesModel, ecModel, api) : this._renderNormal(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  incrementalPrepareRender: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    this._updateDrawMode(seriesModel);\n  },\n  incrementalRender: function (params, seriesModel, ecModel, api) {\n    // Do not support progressive in normal mode.\n    this._incrementalRenderLarge(params, seriesModel);\n  },\n  _updateDrawMode: function (seriesModel) {\n    var isLargeDraw = seriesModel.pipelineContext.large;\n\n    if (this._isLargeDraw == null || isLargeDraw ^ this._isLargeDraw) {\n      this._isLargeDraw = isLargeDraw;\n\n      this._clear();\n    }\n  },\n  _renderNormal: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    var needsClip = seriesModel.get('clip', true);\n    var coordSysClipArea = getClipArea(coord, data); // If there is clipPath created in large mode. Remove it.\n\n    group.removeClipPath(); // We don't use clipPath in normal mode because we needs a perfect animation\n    // And don't want the label are clipped.\n\n    var roundCap = seriesModel.get('roundCap', true);\n    var drawBackground = seriesModel.get('showBackground', true);\n    var backgroundModel = seriesModel.getModel('backgroundStyle');\n    var bgEls = [];\n    var oldBgEls = this._backgroundEls || [];\n    data.diff(oldData).add(function (dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n\n      if (drawBackground) {\n        var bgEl = createBackgroundEl(coord, isHorizontalOrRadial, layout);\n        bgEl.useStyle(backgroundModel.getBarItemStyle());\n        bgEls[dataIndex] = bgEl;\n      } // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      if (needsClip) {\n        // Clip will modify the layout params.\n        // And return a boolean to determine if the shape are fully clipped.\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      var el = elementCreator[coord.type](dataIndex, layout, isHorizontalOrRadial, animationModel, false, roundCap);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (drawBackground) {\n        var bgEl = oldBgEls[oldIndex];\n        bgEl.useStyle(backgroundModel.getBarItemStyle());\n        bgEls[newIndex] = bgEl;\n        var shape = createBackgroundShape(isHorizontalOrRadial, layout, coord);\n        graphic.updateProps(bgEl, {\n          shape: shape\n        }, animationModel, newIndex);\n      }\n\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      if (needsClip) {\n        var isClipped = clip[coord.type](coordSysClipArea, layout);\n\n        if (isClipped) {\n          group.remove(el);\n          return;\n        }\n      }\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](newIndex, layout, isHorizontalOrRadial, animationModel, true, roundCap);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    var bgGroup = this._backgroundGroup || (this._backgroundGroup = new Group());\n    bgGroup.removeAll();\n\n    for (var i = 0; i < bgEls.length; ++i) {\n      bgGroup.add(bgEls[i]);\n    }\n\n    group.add(bgGroup);\n    this._backgroundEls = bgEls;\n    this._data = data;\n  },\n  _renderLarge: function (seriesModel, ecModel, api) {\n    this._clear();\n\n    createLarge(seriesModel, this.group); // Use clipPath in large mode.\n\n    var clipPath = seriesModel.get('clip', true) ? createClipPath(seriesModel.coordinateSystem, false, seriesModel) : null;\n\n    if (clipPath) {\n      this.group.setClipPath(clipPath);\n    } else {\n      this.group.removeClipPath();\n    }\n  },\n  _incrementalRenderLarge: function (params, seriesModel) {\n    this._removeBackground();\n\n    createLarge(seriesModel, this.group, true);\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel) {\n    this._clear(ecModel);\n  },\n  _clear: function (ecModel) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel && ecModel.get('animation') && data && !this._isLargeDraw) {\n      this._removeBackground();\n\n      this._backgroundEls = [];\n      data.eachItemGraphicEl(function (el) {\n        if (el.type === 'sector') {\n          removeSector(el.dataIndex, ecModel, el);\n        } else {\n          removeRect(el.dataIndex, ecModel, el);\n        }\n      });\n    } else {\n      group.removeAll();\n    }\n\n    this._data = null;\n  },\n  _removeBackground: function () {\n    this.group.remove(this._backgroundGroup);\n    this._backgroundGroup = null;\n  }\n});\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar clip = {\n  cartesian2d: function (coordSysBoundingRect, layout) {\n    var signWidth = layout.width < 0 ? -1 : 1;\n    var signHeight = layout.height < 0 ? -1 : 1; // Needs positive width and height\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    var x = mathMax(layout.x, coordSysBoundingRect.x);\n    var x2 = mathMin(layout.x + layout.width, coordSysBoundingRect.x + coordSysBoundingRect.width);\n    var y = mathMax(layout.y, coordSysBoundingRect.y);\n    var y2 = mathMin(layout.y + layout.height, coordSysBoundingRect.y + coordSysBoundingRect.height);\n    layout.x = x;\n    layout.y = y;\n    layout.width = x2 - x;\n    layout.height = y2 - y;\n    var clipped = layout.width < 0 || layout.height < 0; // Reverse back\n\n    if (signWidth < 0) {\n      layout.x += layout.width;\n      layout.width = -layout.width;\n    }\n\n    if (signHeight < 0) {\n      layout.y += layout.height;\n      layout.height = -layout.height;\n    }\n\n    return clipped;\n  },\n  polar: function (coordSysClipArea) {\n    return false;\n  }\n};\nvar elementCreator = {\n  cartesian2d: function (dataIndex, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout),\n      z2: 1\n    });\n    rect.name = 'item'; // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (dataIndex, layout, isRadial, animationModel, isUpdate, roundCap) {\n    // Keep the same logic with bar in catesion: use end value to control\n    // direction. Notice that if clockwise is true (by default), the sector\n    // will always draw clockwisely, no matter whether endAngle is greater\n    // or less than startAngle.\n    var clockwise = layout.startAngle < layout.endAngle;\n    var ShapeClass = !isRadial && roundCap ? Sausage : graphic.Sector;\n    var sector = new ShapeClass({\n      shape: zrUtil.defaults({\n        clockwise: clockwise\n      }, layout),\n      z2: 1\n    });\n    sector.name = 'item'; // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = getLineWidth(itemModel, layout); // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction isZeroOnPolar(layout) {\n  return layout.startAngle != null && layout.endAngle != null && layout.startAngle === layout.endAngle;\n}\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var stroke = data.getVisual('borderColor');\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var hoverStyle = itemModel.getModel('emphasis.itemStyle').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    stroke: isZeroOnPolar(layout) ? 'none' : stroke,\n    fill: isZeroOnPolar(layout) ? 'none' : color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  if (isZeroOnPolar(layout)) {\n    hoverStyle.fill = hoverStyle.stroke = 'none';\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0; // width or height may be NaN for empty data\n\n  var width = isNaN(rawLayout.width) ? Number.MAX_VALUE : Math.abs(rawLayout.width);\n  var height = isNaN(rawLayout.height) ? Number.MAX_VALUE : Math.abs(rawLayout.height);\n  return Math.min(lineWidth, width, height);\n}\n\nvar LargePath = Path.extend({\n  type: 'largeBar',\n  shape: {\n    points: []\n  },\n  buildPath: function (ctx, shape) {\n    // Drawing lines is more efficient than drawing\n    // a whole line or drawing rects.\n    var points = shape.points;\n    var startPoint = this.__startPoint;\n    var baseDimIdx = this.__baseDimIdx;\n\n    for (var i = 0; i < points.length; i += 2) {\n      startPoint[baseDimIdx] = points[i + baseDimIdx];\n      ctx.moveTo(startPoint[0], startPoint[1]);\n      ctx.lineTo(points[i], points[i + 1]);\n    }\n  }\n});\n\nfunction createLarge(seriesModel, group, incremental) {\n  // TODO support polar\n  var data = seriesModel.getData();\n  var startPoint = [];\n  var baseDimIdx = data.getLayout('valueAxisHorizontal') ? 1 : 0;\n  startPoint[1 - baseDimIdx] = data.getLayout('valueAxisStart');\n  var largeDataIndices = data.getLayout('largeDataIndices');\n  var barWidth = data.getLayout('barWidth');\n  var backgroundModel = seriesModel.getModel('backgroundStyle');\n  var drawBackground = seriesModel.get('showBackground', true);\n\n  if (drawBackground) {\n    var points = data.getLayout('largeBackgroundPoints');\n    var backgroundStartPoint = [];\n    backgroundStartPoint[1 - baseDimIdx] = data.getLayout('backgroundStart');\n    var bgEl = new LargePath({\n      shape: {\n        points: points\n      },\n      incremental: !!incremental,\n      __startPoint: backgroundStartPoint,\n      __baseDimIdx: baseDimIdx,\n      __largeDataIndices: largeDataIndices,\n      __barWidth: barWidth,\n      silent: true,\n      z2: 0\n    });\n    setLargeBackgroundStyle(bgEl, backgroundModel, data);\n    group.add(bgEl);\n  }\n\n  var el = new LargePath({\n    shape: {\n      points: data.getLayout('largePoints')\n    },\n    incremental: !!incremental,\n    __startPoint: startPoint,\n    __baseDimIdx: baseDimIdx,\n    __largeDataIndices: largeDataIndices,\n    __barWidth: barWidth\n  });\n  group.add(el);\n  setLargeStyle(el, seriesModel, data); // Enable tooltip and user mouse/touch event handlers.\n\n  el.seriesIndex = seriesModel.seriesIndex;\n\n  if (!seriesModel.get('silent')) {\n    el.on('mousedown', largePathUpdateDataIndex);\n    el.on('mousemove', largePathUpdateDataIndex);\n  }\n} // Use throttle to avoid frequently traverse to find dataIndex.\n\n\nvar largePathUpdateDataIndex = throttle(function (event) {\n  var largePath = this;\n  var dataIndex = largePathFindDataIndex(largePath, event.offsetX, event.offsetY);\n  largePath.dataIndex = dataIndex >= 0 ? dataIndex : null;\n}, 30, false);\n\nfunction largePathFindDataIndex(largePath, x, y) {\n  var baseDimIdx = largePath.__baseDimIdx;\n  var valueDimIdx = 1 - baseDimIdx;\n  var points = largePath.shape.points;\n  var largeDataIndices = largePath.__largeDataIndices;\n  var barWidthHalf = Math.abs(largePath.__barWidth / 2);\n  var startValueVal = largePath.__startPoint[valueDimIdx];\n  _eventPos[0] = x;\n  _eventPos[1] = y;\n  var pointerBaseVal = _eventPos[baseDimIdx];\n  var pointerValueVal = _eventPos[1 - baseDimIdx];\n  var baseLowerBound = pointerBaseVal - barWidthHalf;\n  var baseUpperBound = pointerBaseVal + barWidthHalf;\n\n  for (var i = 0, len = points.length / 2; i < len; i++) {\n    var ii = i * 2;\n    var barBaseVal = points[ii + baseDimIdx];\n    var barValueVal = points[ii + valueDimIdx];\n\n    if (barBaseVal >= baseLowerBound && barBaseVal <= baseUpperBound && (startValueVal <= barValueVal ? pointerValueVal >= startValueVal && pointerValueVal <= barValueVal : pointerValueVal >= barValueVal && pointerValueVal <= startValueVal)) {\n      return largeDataIndices[i];\n    }\n  }\n\n  return -1;\n}\n\nfunction setLargeStyle(el, seriesModel, data) {\n  var borderColor = data.getVisual('borderColor') || data.getVisual('color');\n  var itemStyle = seriesModel.getModel('itemStyle').getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction setLargeBackgroundStyle(el, backgroundModel, data) {\n  var borderColor = backgroundModel.get('borderColor') || backgroundModel.get('color');\n  var itemStyle = backgroundModel.getItemStyle(['color', 'borderColor']);\n  el.useStyle(itemStyle);\n  el.style.fill = null;\n  el.style.stroke = borderColor;\n  el.style.lineWidth = data.getLayout('barWidth');\n}\n\nfunction createBackgroundShape(isHorizontalOrRadial, layout, coord) {\n  var coordLayout;\n  var isPolar = coord.type === 'polar';\n\n  if (isPolar) {\n    coordLayout = coord.getArea();\n  } else {\n    coordLayout = coord.grid.getRect();\n  }\n\n  if (isPolar) {\n    return {\n      cx: coordLayout.cx,\n      cy: coordLayout.cy,\n      r0: isHorizontalOrRadial ? coordLayout.r0 : layout.r0,\n      r: isHorizontalOrRadial ? coordLayout.r : layout.r,\n      startAngle: isHorizontalOrRadial ? layout.startAngle : 0,\n      endAngle: isHorizontalOrRadial ? layout.endAngle : Math.PI * 2\n    };\n  } else {\n    return {\n      x: isHorizontalOrRadial ? layout.x : coordLayout.x,\n      y: isHorizontalOrRadial ? coordLayout.y : layout.y,\n      width: isHorizontalOrRadial ? layout.width : coordLayout.width,\n      height: isHorizontalOrRadial ? coordLayout.height : layout.height\n    };\n  }\n}\n\nfunction createBackgroundEl(coord, isHorizontalOrRadial, layout) {\n  var ElementClz = coord.type === 'polar' ? graphic.Sector : graphic.Rect;\n  return new ElementClz({\n    shape: createBackgroundShape(isHorizontalOrRadial, layout, coord),\n    silent: true,\n    z2: 0\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Component = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nComponent.registerSubTypeDefaulter('dataZoom', function () {\n  // Default 'slider' when no type specified.\n  return 'slider';\n});","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=style&index=0&lang=less&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar ATTR = '\\0_ec_hist_store';\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} newSnapshot {dataZoomId, batch: [payloadInfo, ...]}\n */\n\nfunction push(ecModel, newSnapshot) {\n  var store = giveStore(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = store.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = store[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        store[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  store.push(newSnapshot);\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} snapshot\n */\n\n\nfunction pop(ecModel) {\n  var store = giveStore(ecModel);\n  var head = store[store.length - 1];\n  store.length > 1 && store.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = store.length - 1; i >= 0; i--) {\n      var batchItem = store[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction clear(ecModel) {\n  ecModel[ATTR] = null;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {number} records. always >= 1.\n */\n\n\nfunction count(ecModel) {\n  return giveStore(ecModel).length;\n}\n/**\n * [{key: dataZoomId, value: {dataZoomId, range}}, ...]\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(ecModel) {\n  var store = ecModel[ATTR];\n\n  if (!store) {\n    store = ecModel[ATTR] = [{}];\n  }\n\n  return store;\n}\n\nexports.push = push;\nexports.pop = pop;\nexports.clear = clear;\nexports.count = count;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar defaultOption = {\n  show: true,\n  zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By defualt auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#333',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#ccc'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n    }\n  }\n};\nvar axisDefault = {};\naxisDefault.categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  // Only usefull in the case like: category is\n  // ['2012-01-01', '2012-01-02', ...], where the input\n  // data has been ensured not duplicate and is large data.\n  // null means \"auto\":\n  // if axis.data provided, do not deduplication,\n  // else do deduplication.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\naxisDefault.valueAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n  // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n  boundaryGap: [0, 0],\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  // Min value of the axis. can be:\n  // + a number\n  // + 'dataMin': use the min value in data.\n  // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n  // min: null,\n  // Max value of the axis. can be:\n  // + a number\n  // + 'dataMax': use the max value in data.\n  // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n  // max: null,\n  // Readonly prop, specifies start value of the range when using data zoom.\n  // rangeStart: null\n  // Readonly prop, specifies end value of the range when using data zoom.\n  // rangeEnd: null\n  // Optional value can be:\n  // + `false`: always include value 0.\n  // + `true`: the extent do not consider value 0.\n  // scale: false,\n  // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n  splitNumber: 5,\n  // Interval specifies the span of the ticks is mandatorily.\n  // interval: null\n  // Specify min interval when auto calculate tick interval.\n  // minInterval: null\n  // Specify max interval when auto calculate tick interval.\n  // maxInterval: null\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Lenght of minor tick\n    length: 3,\n    // Same inside with axisTick\n    // Line style\n    lineStyle: {// Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#eee',\n      width: 1\n    }\n  }\n}, defaultOption);\naxisDefault.timeAxis = zrUtil.defaults({\n  scale: true,\n  min: 'dataMin',\n  max: 'dataMax'\n}, axisDefault.valueAxis);\naxisDefault.logAxis = zrUtil.defaults({\n  scale: true,\n  logBase: 10\n}, axisDefault.valueAxis);\nvar _default = axisDefault;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar dataViewLang = lang.toolbox.dataView;\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n * @param {module:echarts/model/Global} ecModel\n * @return {Object}\n * @inner\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      var baseAxis = coordSys.getBaseAxis();\n\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleSeriesWithCategoryAxis(series) {\n  var tables = [];\n  zrUtil.each(series, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      columns.push(series.getRawData().mapArray(valueAxisDim, function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n\n      lines.push(items.join(ITEM_SPLITER));\n    }\n\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * @param {module:echarts/model/Global}\n * @return {Object}\n * @inner\n */\n\n\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n\n  return {\n    series: series,\n    categories: categories\n  };\n}\n/**\n * @param {string} str\n * @return {Array.<Object>}\n * @inner\n */\n\n\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n\n  for (var i = 0; i < lines.length; i++) {\n    var items = trim(lines[i]).split(itemSplitRegex);\n    var name = '';\n    var value;\n    var hasName = false;\n\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n\n  return {\n    name: seriesName,\n    data: data\n  };\n}\n/**\n * @param {string} str\n * @param {Array.<Object>} blockMetaList\n * @return {Object}\n * @inner\n */\n\n\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\n/**\n * @alias {module:echarts/component/toolbox/feature/DataView}\n * @constructor\n * @param {module:echarts/model/Model} model\n */\n\n\nfunction DataView(model) {\n  this._dom = null;\n  this.model = model;\n}\n\nDataView.defaultOption = {\n  show: true,\n  readOnly: false,\n  optionToContent: null,\n  contentToOption: null,\n  icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n  title: zrUtil.clone(dataViewLang.title),\n  lang: zrUtil.clone(dataViewLang.lang),\n  backgroundColor: '#fff',\n  textColor: '#000',\n  textareaColor: '#fff',\n  textareaBorderColor: '#333',\n  buttonColor: '#c23531',\n  buttonTextColor: '#fff'\n};\n\nDataView.prototype.onclick = function (ecModel, api) {\n  var container = api.getDom();\n  var model = this.model;\n\n  if (this._dom) {\n    container.removeChild(this._dom);\n  }\n\n  var root = document.createElement('div');\n  root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n  root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n  var header = document.createElement('h4');\n  var lang = model.get('lang') || [];\n  header.innerHTML = lang[0] || model.get('title');\n  header.style.cssText = 'margin: 10px 20px;';\n  header.style.color = model.get('textColor');\n  var viewMain = document.createElement('div');\n  var textarea = document.createElement('textarea');\n  viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n  var optionToContent = model.get('optionToContent');\n  var contentToOption = model.get('contentToOption');\n  var result = getContentFromModel(ecModel);\n\n  if (typeof optionToContent === 'function') {\n    var htmlOrDom = optionToContent(api.getOption());\n\n    if (typeof htmlOrDom === 'string') {\n      viewMain.innerHTML = htmlOrDom;\n    } else if (zrUtil.isDom(htmlOrDom)) {\n      viewMain.appendChild(htmlOrDom);\n    }\n  } else {\n    // Use default textarea\n    viewMain.appendChild(textarea);\n    textarea.readOnly = model.get('readOnly');\n    textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n    textarea.style.color = model.get('textColor');\n    textarea.style.borderColor = model.get('textareaBorderColor');\n    textarea.style.backgroundColor = model.get('textareaColor');\n    textarea.value = result.value;\n  }\n\n  var blockMetaList = result.meta;\n  var buttonContainer = document.createElement('div');\n  buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n  var buttonStyle = 'float:right;margin-right:20px;border:none;' + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n  var closeButton = document.createElement('div');\n  var refreshButton = document.createElement('div');\n  buttonStyle += ';background-color:' + model.get('buttonColor');\n  buttonStyle += ';color:' + model.get('buttonTextColor');\n  var self = this;\n\n  function close() {\n    container.removeChild(root);\n    self._dom = null;\n  }\n\n  eventTool.addEventListener(closeButton, 'click', close);\n  eventTool.addEventListener(refreshButton, 'click', function () {\n    var newOption;\n\n    try {\n      if (typeof contentToOption === 'function') {\n        newOption = contentToOption(viewMain, api.getOption());\n      } else {\n        newOption = parseContents(textarea.value, blockMetaList);\n      }\n    } catch (e) {\n      close();\n      throw new Error('Data view format error ' + e);\n    }\n\n    if (newOption) {\n      api.dispatchAction({\n        type: 'changeDataView',\n        newOption: newOption\n      });\n    }\n\n    close();\n  });\n  closeButton.innerHTML = lang[1];\n  refreshButton.innerHTML = lang[2];\n  refreshButton.style.cssText = buttonStyle;\n  closeButton.style.cssText = buttonStyle;\n  !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n  buttonContainer.appendChild(closeButton);\n  root.appendChild(header);\n  root.appendChild(viewMain);\n  root.appendChild(buttonContainer);\n  viewMain.style.height = container.clientHeight - 80 + 'px';\n  container.appendChild(root);\n  this._dom = root;\n};\n\nDataView.prototype.remove = function (ecModel, api) {\n  this._dom && api.getDom().removeChild(this._dom);\n};\n\nDataView.prototype.dispose = function (ecModel, api) {\n  this.remove(ecModel, api);\n};\n/**\n * @inner\n */\n\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      if (zrUtil.isObject(newVal) && !zrUtil.isArray(newVal)) {\n        newVal = newVal.value;\n      } // Original data has option\n\n\n      return zrUtil.defaults({\n        value: newVal\n      }, original);\n    } else {\n      return newVal;\n    }\n  });\n}\n\nfeatureManager.register('dataView', DataView);\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nvar _default = DataView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BrushController = require(\"../../helper/BrushController\");\n\nvar BrushTargetManager = require(\"../../helper/BrushTargetManager\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar sliderMove = require(\"../../helper/sliderMove\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nrequire(\"../../dataZoomSelect\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Use dataZoomSelect\nvar dataZoomLang = lang.toolbox.dataZoom;\nvar each = zrUtil.each; // Spectial component id start with \\0ec\\0, see echarts/model/Global.js~hasInnerId\n\nvar DATA_ZOOM_ID_BASE = '\\0_ec_\\0toolbox-dataZoom_';\n\nfunction DataZoom(model, ecModel, api) {\n  /**\n   * @private\n   * @type {module:echarts/component/helper/BrushController}\n   */\n  (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._isZoomActive;\n}\n\nDataZoom.defaultOption = {\n  show: true,\n  filterMode: 'filter',\n  // Icon group\n  icon: {\n    zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n    back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n  },\n  // `zoom`, `back`\n  title: zrUtil.clone(dataZoomLang.title)\n};\nvar proto = DataZoom.prototype;\n\nproto.render = function (featureModel, ecModel, api, payload) {\n  this.model = featureModel;\n  this.ecModel = ecModel;\n  this.api = api;\n  updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n  updateBackBtnStatus(featureModel, ecModel);\n};\n\nproto.onclick = function (ecModel, api, type) {\n  handlers[type].call(this);\n};\n\nproto.remove = function (ecModel, api) {\n  this._brushController.unmount();\n};\n\nproto.dispose = function (ecModel, api) {\n  this._brushController.dispose();\n};\n/**\n * @private\n */\n\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n/**\n * @private\n */\n\nproto._onBrush = function (areas, opt) {\n  if (!opt.isEnd || !areas.length) {\n    return;\n  }\n\n  var snapshot = {};\n  var ecModel = this.ecModel;\n\n  this._brushController.updateCovers([]); // remove cover\n\n\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(this.model.option), ecModel, {\n    include: ['grid']\n  });\n  brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var brushType = area.brushType;\n\n    if (brushType === 'rect') {\n      setBatch('x', coordSys, coordRange[0]);\n      setBatch('y', coordSys, coordRange[1]);\n    } else {\n      setBatch({\n        lineX: 'x',\n        lineY: 'y'\n      }[brushType], coordSys, coordRange);\n    }\n  });\n  history.push(ecModel, snapshot);\n\n  this._dispatchZoomAction(snapshot);\n\n  function setBatch(dimName, coordSys, minMax) {\n    var axis = coordSys.getAxis(dimName);\n    var axisModel = axis.model;\n    var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n    if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n      minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n    }\n\n    dataZoomModel && (snapshot[dataZoomModel.id] = {\n      dataZoomId: dataZoomModel.id,\n      startValue: minMax[0],\n      endValue: minMax[1]\n    });\n  }\n\n  function findDataZoom(dimName, axisModel, ecModel) {\n    var found;\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'select'\n    }, function (dzModel) {\n      var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n      has && (found = dzModel);\n    });\n    return found;\n  }\n};\n/**\n * @private\n */\n\n\nproto._dispatchZoomAction = function (snapshot) {\n  var batch = []; // Convert from hash map to array.\n\n  each(snapshot, function (batchItem, dataZoomId) {\n    batch.push(zrUtil.clone(batchItem));\n  });\n  batch.length && this.api.dispatchAction({\n    type: 'dataZoom',\n    from: this.uid,\n    batch: batch\n  });\n};\n\nfunction retrieveAxisSetting(option) {\n  var setting = {}; // Compatible with previous setting: null => all axis, false => no axis.\n\n  zrUtil.each(['xAxisIndex', 'yAxisIndex'], function (name) {\n    setting[name] = option[name];\n    setting[name] == null && (setting[name] = 'all');\n    (setting[name] === false || setting[name] === 'none') && (setting[name] = []);\n  });\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(featureModel.option), ecModel, {\n    include: ['grid']\n  });\n\n  view._brushController.setPanels(brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  })).enableBrush(zoomActive ? {\n    brushType: 'auto',\n    brushStyle: {\n      // FIXME user customized?\n      lineWidth: 0,\n      fill: 'rgba(0,0,0,0.2)'\n    }\n  } : false);\n}\n\nfeatureManager.register('dataZoom', DataZoom); // Create special dataZoom option for select\n// FIXME consider the case of merge option, where axes options are not exists.\n\necharts.registerPreprocessor(function (option) {\n  if (!option) {\n    return;\n  }\n\n  var dataZoomOpts = option.dataZoom || (option.dataZoom = []);\n\n  if (!zrUtil.isArray(dataZoomOpts)) {\n    option.dataZoom = dataZoomOpts = [dataZoomOpts];\n  }\n\n  var toolboxOpt = option.toolbox;\n\n  if (toolboxOpt) {\n    // Assume there is only one toolbox\n    if (zrUtil.isArray(toolboxOpt)) {\n      toolboxOpt = toolboxOpt[0];\n    }\n\n    if (toolboxOpt && toolboxOpt.feature) {\n      var dataZoomOpt = toolboxOpt.feature.dataZoom; // FIXME: If add dataZoom when setOption in merge mode,\n      // no axis info to be added. See `test/dataZoom-extreme.html`\n\n      addForAxis('xAxis', dataZoomOpt);\n      addForAxis('yAxis', dataZoomOpt);\n    }\n  }\n\n  function addForAxis(axisName, dataZoomOpt) {\n    if (!dataZoomOpt) {\n      return;\n    } // Try not to modify model, because it is not merged yet.\n\n\n    var axisIndicesName = axisName + 'Index';\n    var givenAxisIndices = dataZoomOpt[axisIndicesName];\n\n    if (givenAxisIndices != null && givenAxisIndices !== 'all' && !zrUtil.isArray(givenAxisIndices)) {\n      givenAxisIndices = givenAxisIndices === false || givenAxisIndices === 'none' ? [] : [givenAxisIndices];\n    }\n\n    forEachComponent(axisName, function (axisOpt, axisIndex) {\n      if (givenAxisIndices != null && givenAxisIndices !== 'all' && zrUtil.indexOf(givenAxisIndices, axisIndex) === -1) {\n        return;\n      }\n\n      var newOpt = {\n        type: 'select',\n        $fromToolbox: true,\n        // Default to be filter\n        filterMode: dataZoomOpt.filterMode || 'filter',\n        // Id for merge mapping.\n        id: DATA_ZOOM_ID_BASE + axisName + axisIndex\n      }; // FIXME\n      // Only support one axis now.\n\n      newOpt[axisIndicesName] = axisIndex;\n      dataZoomOpts.push(newOpt);\n    });\n  }\n\n  function forEachComponent(mainType, cb) {\n    var opts = option[mainType];\n\n    if (!zrUtil.isArray(opts)) {\n      opts = opts ? [opts] : [];\n    }\n\n    each(opts, cb);\n  }\n});\nvar _default = DataZoom;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar ComponentView = require(\"../../view/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = ComponentView.extend({\n  type: 'dataZoom',\n  render: function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  },\n\n  /**\n   * Find the first target coordinate system.\n   *\n   * @protected\n   * @return {Object} {\n   *                   grid: [\n   *                       {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n   *                       {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n   *                       ...\n   *                   ],  // cartesians must not be null/undefined.\n   *                   polar: [\n   *                       {model: coord0, axisModels: [axis4], coordIndex: 0},\n   *                       ...\n   *                   ],  // polars must not be null/undefined.\n   *                   singleAxis: [\n   *                       {model: coord0, axisModels: [], coordIndex: 0}\n   *                   ]\n   */\n  getTargetCoordInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var ecModel = this.ecModel;\n    var coordSysLists = {};\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var axisModel = ecModel.getComponent(dimNames.axis, axisIndex);\n\n      if (axisModel) {\n        var coordModel = axisModel.getCoordSysModel();\n        coordModel && save(coordModel, axisModel, coordSysLists[coordModel.mainType] || (coordSysLists[coordModel.mainType] = []), coordModel.componentIndex);\n      }\n    }, this);\n\n    function save(coordModel, axisModel, store, coordIndex) {\n      var item;\n\n      for (var i = 0; i < store.length; i++) {\n        if (store[i].model === coordModel) {\n          item = store[i];\n          break;\n        }\n      }\n\n      if (!item) {\n        store.push(item = {\n          model: coordModel,\n          axisModels: [],\n          coordIndex: coordIndex\n        });\n      }\n\n      item.axisModels.push(axisModel);\n    }\n\n    return coordSysLists;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isFunction = _util.isFunction;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, defaultSymbolType, legendSymbol) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  return {\n    seriesType: seriesType,\n    // For legend.\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var symbolType = seriesModel.get('symbol');\n      var symbolSize = seriesModel.get('symbolSize');\n      var keepAspect = seriesModel.get('symbolKeepAspect');\n      var hasSymbolTypeCallback = isFunction(symbolType);\n      var hasSymbolSizeCallback = isFunction(symbolSize);\n      var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback;\n      var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n      var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n      data.setVisual({\n        legendSymbol: legendSymbol || seriesSymbol,\n        // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n        // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n        // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n        // some cases but generally it is not recommanded.\n        symbol: seriesSymbol,\n        symbolSize: seriesSymbolSize,\n        symbolKeepAspect: keepAspect\n      }); // Only visible series has each data be visual encoded\n\n      if (ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      function dataEach(data, idx) {\n        if (hasCallback) {\n          var rawValue = seriesModel.getRawValue(idx);\n          var params = seriesModel.getDataParams(idx);\n          hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n          hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n        }\n\n        if (data.hasItemOption) {\n          var itemModel = data.getItemModel(idx);\n          var itemSymbolType = itemModel.getShallow('symbol', true);\n          var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n          var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n          if (itemSymbolType != null) {\n            data.setItemVisual(idx, 'symbol', itemSymbolType);\n          }\n\n          if (itemSymbolSize != null) {\n            // PENDING Transform symbolSize ?\n            data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n          }\n\n          if (itemSymbolKeepAspect != null) {\n            data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n          }\n        }\n      }\n\n      return {\n        dataEach: data.hasItemOption || hasCallback ? dataEach : null\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text = require(\"zrender/lib/graphic/Text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import Group from 'zrender/src/container/Group';\n\n/**\n * @alias module:echarts/component/tooltip/TooltipRichContent\n * @constructor\n */\nfunction TooltipRichContent(api) {\n  this._zr = api.getZr();\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout;\n}\n\nTooltipRichContent.prototype = {\n  constructor: TooltipRichContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {// noop\n  },\n  show: function (tooltipModel) {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.attr('show', true);\n    this._show = true;\n  },\n\n  /**\n   * Set tooltip content\n   *\n   * @param {string} content rich text string of content\n   * @param {Object} markerRich rich text style\n   * @param {Object} tooltipModel tooltip model\n   */\n  setContent: function (content, markerRich, tooltipModel) {\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var markers = {};\n    var text = content;\n    var prefix = '{marker';\n    var suffix = '|}';\n    var startId = text.indexOf(prefix);\n\n    while (startId >= 0) {\n      var endId = text.indexOf(suffix);\n      var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n      if (name.indexOf('sub') > -1) {\n        markers['marker' + name] = {\n          textWidth: 4,\n          textHeight: 4,\n          textBorderRadius: 2,\n          textBackgroundColor: markerRich[name],\n          // TODO: textOffset is not implemented for rich text\n          textOffset: [3, 0]\n        };\n      } else {\n        markers['marker' + name] = {\n          textWidth: 10,\n          textHeight: 10,\n          textBorderRadius: 5,\n          textBackgroundColor: markerRich[name]\n        };\n      }\n\n      text = text.substr(endId + 1);\n      startId = text.indexOf('{marker');\n    }\n\n    this.el = new Text({\n      style: {\n        rich: markers,\n        text: content,\n        textLineHeight: 20,\n        textBackgroundColor: tooltipModel.get('backgroundColor'),\n        textBorderRadius: tooltipModel.get('borderRadius'),\n        textFill: tooltipModel.get('textStyle.color'),\n        textPadding: tooltipModel.get('padding')\n      },\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var bounding = this.el.getBoundingRect();\n    return [bounding.width, bounding.height];\n  },\n  moveTo: function (x, y) {\n    if (this.el) {\n      this.el.attr('position', [x, y]);\n    }\n  },\n  hide: function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  getOuterSize: function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  }\n};\nvar _default = TooltipRichContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../../chart/helper/SymbolDraw\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar List = require(\"../../data/List\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar MarkerView = require(\"./MarkerView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n      } else if (coordSys) {\n        var x = mpData.get(coordSys.dimensions[0], idx);\n        var y = mpData.get(coordSys.dimensions[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n\n    mpData.setItemLayout(idx, point);\n  });\n}\n\nvar _default = MarkerView.extend({\n  type: 'markPoint',\n  // updateLayout: function (markPointModel, ecModel, api) {\n  //     ecModel.eachSeries(function (seriesModel) {\n  //         var mpModel = seriesModel.markPointModel;\n  //         if (mpModel) {\n  //             updateMarkerLayout(mpModel.getData(), seriesModel, api);\n  //             this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n  //         }\n  //     }, this);\n  // },\n  updateTransform: function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = seriesModel.markPointModel;\n\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createList(coordSys, seriesModel, mpModel); // FIXME\n\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbol = itemModel.getShallow('symbol');\n      var symbolSize = itemModel.getShallow('symbolSize');\n      var isFnSymbol = zrUtil.isFunction(symbol);\n      var isFnSymbolSize = zrUtil.isFunction(symbolSize);\n\n      if (isFnSymbol || isFnSymbolSize) {\n        var rawIdx = mpModel.getRawValue(idx);\n        var dataParams = mpModel.getDataParams(idx);\n\n        if (isFnSymbol) {\n          symbol = symbol(rawIdx, dataParams);\n        }\n\n        if (isFnSymbolSize) {\n          // FIXME 这里不兼容 ECharts 2.x，2.x 貌似参数是整个数据？\n          symbolSize = symbolSize(rawIdx, dataParams);\n        }\n      }\n\n      mpData.setItemVisual(idx, {\n        symbol: symbol,\n        symbolSize: symbolSize,\n        color: itemModel.get('itemStyle.color') || seriesData.getVisual('color')\n      });\n    }); // TODO Text are wrong\n\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group); // Set host model for tooltip\n    // FIXME\n\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        child.dataModel = mpModel;\n      });\n    });\n    symbolDraw.__keep = true;\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} [coordSys]\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.getData().mapDimension(coordDim)) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      return zrUtil.defaults({\n        name: coordDim\n      }, info);\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var mpData = new List(coordDimsInfos, mpModel);\n  var dataOpt = zrUtil.map(mpModel.get('data'), zrUtil.curry(markerHelper.dataTransform, seriesModel));\n\n  if (coordSys) {\n    dataOpt = zrUtil.filter(dataOpt, zrUtil.curry(markerHelper.dataFilter, coordSys));\n  }\n\n  mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  });\n  return mpData;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var isLargeRender = pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      function progress(params, data) {\n        var segCount = params.end - params.start;\n        var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n        for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n          var point;\n\n          if (dimLen === 1) {\n            var x = data.get(dims[0], i);\n            point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n          } else {\n            var x = tmpIn[0] = data.get(dims[0], i);\n            var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n            point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n          }\n\n          if (isLargeRender) {\n            points[offset++] = point ? point[0] : NaN;\n            points[offset++] = point ? point[1] : NaN;\n          } else {\n            data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n          }\n        }\n\n        isLargeRender && data.setLayout('symbolPoints', points);\n      }\n\n      return dimLen && {\n        progress: progress\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'marker',\n  init: function () {\n    /**\n     * Markline grouped by series\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this.markerGroupMap = zrUtil.createHashMap();\n  },\n  render: function (markerModel, ecModel, api) {\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      item.__keep = false;\n    });\n    var markerModelKey = this.type + 'Model';\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = seriesModel[markerModelKey];\n      markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n    }, this);\n    markerGroupMap.each(function (item) {\n      !item.__keep && this.group.remove(item.group);\n    }, this);\n  },\n  renderSeries: function () {}\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar featureManager = require(\"./featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ToolboxModel = echarts.extendComponentModel({\n  type: 'toolbox',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  optionUpdated: function () {\n    ToolboxModel.superApply(this, 'optionUpdated', arguments);\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.get(featureName);\n      Feature && zrUtil.merge(featureOpt, Feature.defaultOption);\n    });\n  },\n  defaultOption: {\n    show: true,\n    z: 6,\n    zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      borderColor: '#666',\n      color: 'none'\n    },\n    emphasis: {\n      iconStyle: {\n        borderColor: '#3E98C5'\n      }\n    },\n    // textStyle: {},\n    // feature\n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = ToolboxModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./AxisModel\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid 是在有直角坐标系的时候必须要存在的\n// 所以这里也要被 Cartesian2D 依赖\nvar _default = ComponentModel.extend({\n  type: 'grid',\n  dependencies: ['xAxis', 'yAxis'],\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Grid}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    show: false,\n    zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 60,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar indexOf = zrUtil.indexOf;\n\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n} // Make it simple, do not visit all stacked value to count precision.\n// function getPrecision(data, valueAxisDim, dataIndex) {\n//     var precision = -1;\n//     var stackedDim = data.mapDimension(valueAxisDim);\n//     do {\n//         precision = Math.max(\n//             numberUtil.getPrecision(data.get(stackedDim, dataIndex)),\n//             precision\n//         );\n//         var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n//         if (stackedOnSeries) {\n//             var byValue = data.get(data.getCalculationInfo('stackedByDimension'), dataIndex);\n//             data = stackedOnSeries.getData();\n//             dataIndex = data.indexOf(data.getCalculationInfo('stackedByDimension'), byValue);\n//             stackedDim = data.getCalculationInfo('stackedDimension');\n//         }\n//         else {\n//             data = null;\n//         }\n//     } while (data);\n//     return precision;\n// }\n\n\nfunction markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var stacked = isDimensionStacked(data, targetDataDim\n  /*, otherDataDim*/\n  );\n  var calcDataDim = stacked ? data.getCalculationInfo('stackResultDimension') : targetDataDim;\n  var value = numCalculate(data, calcDataDim, mlType);\n  var dataIndex = data.indicesOfNearest(calcDataDim, value)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex);\n  coordArr[targetCoordIndex] = data.get(calcDataDim, dataIndex);\n  var coordArrValue = data.get(targetDataDim, dataIndex); // Make it simple, do not visit all stacked value to count precision.\n\n  var precision = numberUtil.getPrecision(data.get(targetDataDim, dataIndex));\n  precision = Math.min(precision, 20);\n\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n\n  return [coordArr, coordArrValue];\n}\n\nvar curry = zrUtil.curry; // TODO Specified percent\n\nvar markerTypeCalculator = {\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  average: curry(markerTypeCalculatorWithExtent, 'average')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n * @param  {module:echarts/model/Series} seriesModel\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {Object}\n */\n\nfunction dataTransform(seriesModel, item) {\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n\n  if (item && !hasXAndY(item) && !zrUtil.isArray(item.coord) && coordSys) {\n    var dims = coordSys.dimensions;\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel); // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n    item = zrUtil.clone(item);\n\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      var coordInfo = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex);\n      item.coord = coordInfo[0]; // Force to use the value of calculated value.\n      // let item use the value without stack.\n\n      item.value = coordInfo[1];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n      for (var i = 0; i < 2; i++) {\n        if (markerTypeCalculator[coord[i]]) {\n          coord[i] = numCalculate(data, data.mapDimension(dims[i]), coord[i]);\n        }\n      }\n\n      item.coord = coord;\n    }\n  }\n\n  return item;\n}\n\nfunction getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(dataDimToCoordDim(seriesModel, ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = data.mapDimension(ret.baseAxis.dim);\n    ret.valueDataDim = data.mapDimension(ret.valueAxis.dim);\n  }\n\n  return ret;\n}\n\nfunction dataDimToCoordDim(seriesModel, dataDim) {\n  var data = seriesModel.getData();\n  var dimensions = data.dimensions;\n  dataDim = data.getDimension(dataDim);\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimItem = data.getDimensionInfo(dimensions[i]);\n\n    if (dimItem.name === dataDim) {\n      return dimItem.coordDim;\n    }\n  }\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {boolean}\n */\n\n\nfunction dataFilter(coordSys, item) {\n  // Alwalys return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\n\nfunction dimValueGetter(item, dimName, dataIndex, dimIndex) {\n  // x, y, radius, angle\n  if (dimIndex < 2) {\n    return item.coord && item.coord[dimIndex];\n  }\n\n  return item.value;\n}\n\nfunction numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum = 0;\n    var count = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum += val;\n        count++;\n      }\n    });\n    return sum / count;\n  } else if (type === 'median') {\n    return data.getMedian(valueDataDim);\n  } else {\n    // max & min\n    return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n  }\n}\n\nexports.dataTransform = dataTransform;\nexports.getAxisInfo = getAxisInfo;\nexports.dataFilter = dataFilter;\nexports.dimValueGetter = dimValueGetter;\nexports.numCalculate = numCalculate;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar layout = _barGrid.layout;\nvar largeLayout = _barGrid.largeLayout;\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/BarSeries\");\n\nrequire(\"./bar/BarView\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerLayout(echarts.PRIORITY.VISUAL.LAYOUT, zrUtil.curry(layout, 'bar')); // Use higher prority to avoid to be blocked by other overall layout, which do not\n// only exist in this module, but probably also exist in other modules, like `barPolar`.\n\necharts.registerLayout(echarts.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, largeLayout);\necharts.registerVisual({\n  seriesType: 'bar',\n  reset: function (seriesModel) {\n    // Visual coding for legend\n    seriesModel.getData().setVisual('legendSymbol', 'roundRect');\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"./axisDefault\");\n\nvar ComponentModel = require(\"../model/Component\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\nvar OrdinalMeta = require(\"../data/OrdinalMeta\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\n\nfunction _default(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n  zrUtil.each(AXIS_TYPES, function (axisType) {\n    BaseAxisModelClass.extend({\n      /**\n       * @readOnly\n       */\n      type: axisName + 'Axis.' + axisType,\n      mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        zrUtil.merge(option, themeModel.get(axisType + 'Axis'));\n        zrUtil.merge(option, this.getDefaultOption());\n        option.type = axisTypeDefaulter(axisName, option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      },\n\n      /**\n       * @override\n       */\n      optionUpdated: function () {\n        var thisOption = this.option;\n\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      },\n\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      getCategories: function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n\n          return this.__ordinalMeta.categories;\n        }\n      },\n      getOrdinalMeta: function () {\n        return this.__ordinalMeta;\n      },\n      defaultOption: zrUtil.mergeAll([{}, axisDefault[axisType + 'Axis'], extraDefaultOption], true)\n    });\n  });\n  ComponentModel.registerSubTypeDefaulter(axisName + 'Axis', zrUtil.curry(axisTypeDefaulter, axisName));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar helper = require(\"./helper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\necharts.registerAction('dataZoom', function (payload, ecModel) {\n  var linkedNodesFinder = helper.createLinkedNodesFinder(zrUtil.bind(ecModel.eachComponent, ecModel, 'dataZoom'), helper.eachAxisDim, function (model, dimNames) {\n    return model.get(dimNames.axisIndex);\n  });\n  var effectedModels = [];\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (model, index) {\n    effectedModels.push.apply(effectedModels, linkedNodesFinder(model).nodes);\n  });\n  zrUtil.each(effectedModels, function (dataZoomModel, index) {\n    dataZoomModel.setRawRange({\n      start: payload.start,\n      end: payload.end,\n      startValue: payload.startValue,\n      endValue: payload.endValue\n    });\n  });\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} coordSys\n * @param {module:echarts/data/List} data\n * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n */\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (stacked |= isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    dims[0] = stackResultDim;\n  }\n\n  if (stacked |= isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}\n\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\nexports.getStackedOnPoint = getStackedOnPoint;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ATTR = '\\0_ec_interaction_mutex';\n\nfunction take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\n\nfunction release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\n\nfunction isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});\nexports.take = take;\nexports.release = release;\nexports.isTaken = isTaken;","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar MarkerModel = require(\"./MarkerModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = MarkerModel.extend({\n  type: 'markPoint',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    //symbolRotate: 0,\n    //symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      show: true,\n      position: 'inside'\n    },\n    itemStyle: {\n      borderWidth: 2\n    },\n    emphasis: {\n      label: {\n        show: true\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentModel({\n  type: 'tooltip',\n  dependencies: ['axisPointer'],\n  defaultOption: {\n    zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip主体内容\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    // 'single' | 'multipleByCoordSys'\n    renderMode: 'auto',\n    // 'auto' | 'html' | 'richText'\n    // 'auto': use html by default, and use non-html if `document` is not defined\n    // 'html': use html for tooltip\n    // 'richText': use canvas, svg, and etc. for tooltip\n    // 位置 {Array} | {Function}\n    // position: null\n    // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n    // align: null,\n    // verticalAlign: null,\n    // 是否约束 content 在 viewRect 中。默认 false 是为了兼容以前版本。\n    confine: false,\n    // 内容格式器：{string}（Template） ¦ {Function}\n    // formatter: null\n    showDelay: 0,\n    // 隐藏延迟，单位ms\n    hideDelay: 100,\n    // 动画变换时间，单位s\n    transitionDuration: 0.4,\n    enterable: false,\n    // 提示背景颜色，默认为透明度为0.7的黑色\n    backgroundColor: 'rgba(50,50,50,0.7)',\n    // 提示边框颜色\n    borderColor: '#333',\n    // 提示边框圆角，单位px，默认为4\n    borderRadius: 4,\n    // 提示边框线宽，单位px，默认为0（无边框）\n    borderWidth: 0,\n    // 提示内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    padding: 5,\n    // Extra css text\n    extraCssText: '',\n    // 坐标轴指示器，坐标轴触发有效\n    axisPointer: {\n      // 默认为直线\n      // 可选为：'line' | 'shadow' | 'cross'\n      type: 'line',\n      // type 为 line 的时候有效，指定 tooltip line 所在的轴，可选\n      // 可选 'x' | 'y' | 'angle' | 'radius' | 'auto'\n      // 默认 'auto'，会选择类型为 category 的轴，对于双数值轴，笛卡尔坐标系会默认选择 x 轴\n      // 极坐标系会默认选择 angle 轴\n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {} // lineStyle and shadowStyle should not be specified here,\n        // otherwise it will always override those styles on option.axisPointer.\n\n      }\n    },\n    textStyle: {\n      color: '#fff',\n      fontSize: 14\n    }\n  }\n});\n\nmodule.exports = _default;","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/cartesian/AxisModel\");\n\nrequire(\"./axis/CartesianAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel) {\n  var rect = cartesian.getArea();\n  var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth;\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: round(sectorArea.r0, 1),\n      r: round(sectorArea.r, 1),\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape.endAngle = sectorArea.startAngle;\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel);\n  }\n\n  return null;\n}\n\nexports.createGridClipPath = createGridClipPath;\nexports.createPolarClipPath = createPolarClipPath;\nexports.createClipPath = createClipPath;","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./toolbox/ToolboxModel\");\n\nrequire(\"./toolbox/ToolboxView\");\n\nrequire(\"./toolbox/feature/SaveAsImage\");\n\nrequire(\"./toolbox/feature/MagicType\");\n\nrequire(\"./toolbox/feature/DataView\");\n\nrequire(\"./toolbox/feature/DataZoom\");\n\nrequire(\"./toolbox/feature/Restore\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar brushHelper = require(\"./brushHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar indexOf = zrUtil.indexOf;\nvar curry = zrUtil.curry;\nvar COORD_CONVERTS = ['dataToPoint', 'pointToData']; // FIXME\n// how to genarialize to more coordinate systems.\n\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\n/**\n * [option in constructor]:\n * {\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n * }\n *\n *\n * [targetInfo]:\n *\n * There can be multiple axes in a single targetInfo. Consider the case\n * of `grid` component, a targetInfo represents a grid which contains one or more\n * cartesian and one or more axes. And consider the case of parallel system,\n * which has multiple axes in a coordinate system.\n * Can be {\n *     panelId: ...,\n *     coordSys: <a representitive cartesian in grid (first cartesian by default)>,\n *     coordSyses: all cartesians.\n *     gridModel: <grid component>\n *     xAxes: correspond to coordSyses on index\n *     yAxes: correspond to coordSyses on index\n * }\n * or {\n *     panelId: ...,\n *     coordSys: <geo coord sys>\n *     coordSyses: [<geo coord sys>]\n *     geoModel: <geo component>\n * }\n *\n *\n * [panelOpt]:\n *\n * Make from targetInfo. Input to BrushController.\n * {\n *     panelId: ...,\n *     rect: ...\n * }\n *\n *\n * [area]:\n *\n * Generated by BrushController or user input.\n * {\n *     panelId: Used to locate coordInfo directly. If user inpput, no panelId.\n *     brushType: determine how to convert to/from coord('rect' or 'polygon' or 'lineX/Y').\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n *     range: pixel range.\n *     coordRange: representitive coord range (the first one of coordRanges).\n *     coordRanges: <Array> coord ranges, used in multiple cartesian in one grid.\n * }\n */\n\n/**\n * @param {Object} option contains Index/Id/Name of xAxis/yAxis/geo/grid\n *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} [opt]\n * @param {Array.<string>} [opt.include] include coordinate system types.\n */\n\nfunction BrushTargetManager(option, ecModel, opt) {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  var targetInfoList = this._targetInfoList = [];\n  var info = {};\n  var foundCpts = parseFinder(ecModel, option);\n  each(targetInfoBuilders, function (builder, type) {\n    if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n      builder(foundCpts, targetInfoList, info);\n    }\n  });\n}\n\nvar proto = BrushTargetManager.prototype;\n\nproto.setOutputRanges = function (areas, ecModel) {\n  this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    (area.coordRanges || (area.coordRanges = [])).push(coordRange); // area.coordRange is the first of area.coordRanges\n\n    if (!area.coordRange) {\n      area.coordRange = coordRange; // In 'category' axis, coord to pixel is not reversible, so we can not\n      // rebuild range by coordRange accrately, which may bring trouble when\n      // brushing only one item. So we use __rangeOffset to rebuilding range\n      // by coordRange. And this it only used in brush component so it is no\n      // need to be adapted to coordRanges.\n\n      var result = coordConvert[area.brushType](0, coordSys, coordRange);\n      area.__rangeOffset = {\n        offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n        xyMinMax: result.xyMinMax\n      };\n    }\n  });\n};\n\nproto.matchOutputRanges = function (areas, ecModel, cb) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n\n    if (targetInfo && targetInfo !== true) {\n      zrUtil.each(targetInfo.coordSyses, function (coordSys) {\n        var result = coordConvert[area.brushType](1, coordSys, area.range);\n        cb(area, result.values, coordSys, ecModel);\n      });\n    }\n  }, this);\n};\n\nproto.setInputRanges = function (areas, ecModel) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    area.range = area.range || []; // convert coordRange to global range and set panelId.\n\n    if (targetInfo && targetInfo !== true) {\n      area.panelId = targetInfo.panelId; // (1) area.range shoule always be calculate from coordRange but does\n      // not keep its original value, for the sake of the dataZoom scenario,\n      // where area.coordRange remains unchanged but area.range may be changed.\n      // (2) Only support converting one coordRange to pixel range in brush\n      // component. So do not consider `coordRanges`.\n      // (3) About __rangeOffset, see comment above.\n\n      var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n      var rangeOffset = area.__rangeOffset;\n      area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n    }\n  }, this);\n};\n\nproto.makePanelOpts = function (api, getDefaultBrushType) {\n  return zrUtil.map(this._targetInfoList, function (targetInfo) {\n    var rect = targetInfo.getPanelRect();\n    return {\n      panelId: targetInfo.panelId,\n      defaultBrushType: getDefaultBrushType && getDefaultBrushType(targetInfo),\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n    };\n  });\n};\n\nproto.controlSeries = function (area, seriesModel, ecModel) {\n  // Check whether area is bound in coord, and series do not belong to that coord.\n  // If do not do this check, some brush (like lineX) will controll all axes.\n  var targetInfo = this.findTargetInfo(area, ecModel);\n  return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n};\n/**\n * If return Object, a coord found.\n * If reutrn true, global found.\n * Otherwise nothing found.\n *\n * @param {Object} area\n * @param {Array} targetInfoList\n * @return {Object|boolean}\n */\n\n\nproto.findTargetInfo = function (area, ecModel) {\n  var targetInfoList = this._targetInfoList;\n  var foundCpts = parseFinder(ecModel, area);\n\n  for (var i = 0; i < targetInfoList.length; i++) {\n    var targetInfo = targetInfoList[i];\n    var areaPanelId = area.panelId;\n\n    if (areaPanelId) {\n      if (targetInfo.panelId === areaPanelId) {\n        return targetInfo;\n      }\n    } else {\n      for (var i = 0; i < targetInfoMatchers.length; i++) {\n        if (targetInfoMatchers[i](foundCpts, targetInfo)) {\n          return targetInfo;\n        }\n      }\n    }\n  }\n\n  return true;\n};\n\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\n\nfunction parseFinder(ecModel, option) {\n  return modelUtil.parseFinder(ecModel, option, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\n\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels; // Remove duplicated.\n\n    var gridModelMap = zrUtil.createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilder.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilder.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n}, // geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilder = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.grid.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone(); // geo roam and zoom transform\n\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange) {\n    var xminymin = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]]);\n    var xmaxymax = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]]);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = zrUtil.map(rangeOrCoordRange, function (item) {\n      var p = coordSys[COORD_CONVERTS[to]](item);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(zrUtil.map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i])) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\n\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return zrUtil.map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n} // We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n\n\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\n\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\n\nvar _default = BrushTargetManager;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _graphic = require(\"../graphic\");\n\nvar extendShape = _graphic.extendShape;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Sausage: similar to sector, but have half circle on both sides\n * @public\n */\nvar _default = extendShape({\n  type: 'sausage',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  buildPath: function (ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var dr = (r - r0) * 0.5;\n    var rCenter = r0 + dr;\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitStartX = Math.cos(startAngle);\n    var unitStartY = Math.sin(startAngle);\n    var unitEndX = Math.cos(endAngle);\n    var unitEndY = Math.sin(endAngle);\n    var lessThanCircle = clockwise ? endAngle - startAngle < Math.PI * 2 : startAngle - endAngle < Math.PI * 2;\n\n    if (lessThanCircle) {\n      ctx.moveTo(unitStartX * r0 + x, unitStartY * r0 + y);\n      ctx.arc(unitStartX * rCenter + x, unitStartY * rCenter + y, dr, -Math.PI + startAngle, startAngle, !clockwise);\n    }\n\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.moveTo(unitEndX * r + x, unitEndY * r + y);\n    ctx.arc(unitEndX * rCenter + x, unitEndY * rCenter + y, dr, endAngle - Math.PI * 2, endAngle - Math.PI, !clockwise);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n      ctx.moveTo(unitStartX * r0 + x, unitEndY * r0 + y);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nfunction onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES[model.mainType] && coordSys && coordSys.model !== targetCoordSysModel;\n}\n\nexports.onIrrelevantElement = onIrrelevantElement;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {string} label string. Not null/undefined\n */\nfunction getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimension('defaultedLabel', true);\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    return retrieveRawValue(data, dataIndex, labelDims[0]);\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      var val = retrieveRawValue(data, dataIndex, labelDims[i]);\n      vals.push(val);\n    }\n\n    return vals.join(' ');\n  }\n}\n\nexports.getDefaultLabel = getDefaultLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisPointerModelHelper = require(\"./axisPointer/modelHelper\");\n\nvar axisTrigger = require(\"./axisPointer/axisTrigger\");\n\nrequire(\"./axisPointer/AxisPointerModel\");\n\nrequire(\"./axisPointer/AxisPointerView\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\necharts.registerPreprocessor(function (option) {\n  // Always has a global axisPointerModel for default setting.\n  if (option) {\n    (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n    var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n    // is not set, remain null/undefined, otherwise it will\n    // override existent link setting.\n\n    if (link && !zrUtil.isArray(link)) {\n      option.axisPointer.link = [link];\n    }\n  }\n}); // This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n  // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n  ecModel.getComponent('axisPointer').coordSysAxesInfo = axisPointerModelHelper.collect(ecModel, api);\n}); // Broadcast to all views.\n\necharts.registerAction({\n  type: 'updateAxisPointer',\n  event: 'updateAxisPointer',\n  update: ':updateAxisPointer'\n}, axisTrigger);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Cartesian = require(\"./Cartesian\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction Cartesian2D(name) {\n  Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n  constructor: Cartesian2D,\n  type: 'cartesian2d',\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/cartesian/Axis2D}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  },\n\n  /**\n   * If contain point\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, reserved, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  clampData: function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n    return out;\n  },\n\n  /**\n   * Get other axis\n   * @param {module:echarts/coord/cartesian/Axis2D} axis\n   */\n  getOtherAxis: function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  },\n\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   * @return {BoundingRect}\n   */\n  getArea: function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n  }\n};\nzrUtil.inherits(Cartesian2D, Cartesian);\nvar _default = Cartesian2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar helper = require(\"./helper\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n *\n * @class\n */\n\nvar AxisProxy = function (dimName, axisIndex, dataZoomModel, ecModel) {\n  /**\n   * @private\n   * @type {string}\n   */\n  this._dimName = dimName;\n  /**\n   * @private\n   */\n\n  this._axisIndex = axisIndex;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._valueWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._percentWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._dataExtent;\n  /**\n   * {minSpan, maxSpan, minValueSpan, maxValueSpan}\n   * @private\n   * @type {Object}\n   */\n\n  this._minMaxSpan;\n  /**\n   * @readOnly\n   * @type {module: echarts/model/Global}\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @private\n   * @type {module: echarts/component/dataZoom/DataZoomModel}\n   */\n\n  this._dataZoomModel = dataZoomModel; // /**\n  //  * @readOnly\n  //  * @private\n  //  */\n  // this.hasSeriesStacked;\n};\n\nAxisProxy.prototype = {\n  constructor: AxisProxy,\n\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   *\n   * @public\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   * @return {boolean}\n   */\n  hostedBy: function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  },\n\n  /**\n   * @return {Array.<number>} Value can only be NaN or finite value.\n   */\n  getDataValueWindow: function () {\n    return this._valueWindow.slice();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getDataPercentWindow: function () {\n    return this._percentWindow.slice();\n  },\n\n  /**\n   * @public\n   * @param {number} axisIndex\n   * @return {Array} seriesModels\n   */\n  getTargetSeriesModels: function () {\n    var seriesModels = [];\n    var ecModel = this.ecModel;\n    ecModel.eachSeries(function (seriesModel) {\n      if (helper.isCoordSupported(seriesModel.get('coordinateSystem'))) {\n        var dimName = this._dimName;\n        var axisModel = ecModel.queryComponents({\n          mainType: dimName + 'Axis',\n          index: seriesModel.get(dimName + 'AxisIndex'),\n          id: seriesModel.get(dimName + 'AxisId')\n        })[0];\n\n        if (this._axisIndex === (axisModel && axisModel.componentIndex)) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  },\n  getAxisModel: function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  },\n  getOtherAxisModel: function () {\n    var axisDim = this._dimName;\n    var ecModel = this.ecModel;\n    var axisModel = this.getAxisModel();\n    var isCartesian = axisDim === 'x' || axisDim === 'y';\n    var otherAxisDim;\n    var coordSysIndexName;\n\n    if (isCartesian) {\n      coordSysIndexName = 'gridIndex';\n      otherAxisDim = axisDim === 'x' ? 'y' : 'x';\n    } else {\n      coordSysIndexName = 'polarIndex';\n      otherAxisDim = axisDim === 'angle' ? 'radius' : 'angle';\n    }\n\n    var foundOtherAxisModel;\n    ecModel.eachComponent(otherAxisDim + 'Axis', function (otherAxisModel) {\n      if ((otherAxisModel.get(coordSysIndexName) || 0) === (axisModel.get(coordSysIndexName) || 0)) {\n        foundOtherAxisModel = otherAxisModel;\n      }\n    });\n    return foundOtherAxisModel;\n  },\n  getMinMaxSpan: function () {\n    return zrUtil.clone(this._minMaxSpan);\n  },\n\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   *\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  calculateDataWindow: function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [];\n    var valueWindow = [];\n    var hasPropModeValue;\n    each(['start', 'end'], function (prop, idx) {\n      var boundPercent = opt[prop];\n      var boundValue = opt[prop + 'Value']; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). (They are based on the data extent\n      // but not min/max of axis, which will be calculated by data window then).\n      // The former one is suitable for cases that a dataZoom component controls multiple\n      // axes with different unit or extent, and the latter one is suitable for accurate\n      // zoom by pixel (e.g., in dataZoomSelect).\n      // we use `getRangePropMode()` to mark which prop is used. `rangePropMode` is updated\n      // only when setOption or dispatchAction, otherwise it remains its original value.\n      // (Why not only record `percentProp` and always map to `valueProp`? Because\n      // the map `valueProp` -> `percentProp` -> `valueProp` probably not the original\n      // `valueProp`. consider two axes constrolled by one dataZoom. They have different\n      // data extent. All of values that are overflow the `dataExtent` will be calculated\n      // to percent '100%').\n\n      if (rangePropMode[idx] === 'percent') {\n        boundPercent == null && (boundPercent = percentExtent[idx]); // Use scale.parse to math round for category or time axis.\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent));\n      } else {\n        hasPropModeValue = true;\n        boundValue = boundValue == null ? dataExtent[idx] : scale.parse(boundValue); // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    asc(valueWindow);\n    asc(percentWindow); // The windows from user calling of `dispatchAction` might be out of the extent,\n    // or do not obey the `min/maxSpan`, `min/maxValueSpan`. But we dont restrict window\n    // by `zoomLock` here, because we see `zoomLock` just as a interaction constraint,\n    // where API is able to initialize/modify the window size even though `zoomLock`\n    // specified.\n\n    var spans = this._minMaxSpan;\n    hasPropModeValue ? restrictSet(valueWindow, percentWindow, dataExtent, percentExtent, false) : restrictSet(percentWindow, valueWindow, percentExtent, dataExtent, true);\n\n    function restrictSet(fromWindow, toWindow, fromExtent, toExtent, toValue) {\n      var suffix = toValue ? 'Span' : 'ValueSpan';\n      sliderMove(0, fromWindow, fromExtent, 'all', spans['min' + suffix], spans['max' + suffix]);\n\n      for (var i = 0; i < 2; i++) {\n        toWindow[i] = numberUtil.linearMap(fromWindow[i], fromExtent, toExtent, true);\n        toValue && (toWindow[i] = scale.parse(toWindow[i]));\n      }\n    }\n\n    return {\n      valueWindow: valueWindow,\n      percentWindow: percentWindow\n    };\n  },\n\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   *\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  reset: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var targetSeries = this.getTargetSeriesModels(); // Culculate data window and data extent, and record them.\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, targetSeries); // this.hasSeriesStacked = false;\n    // each(targetSeries, function (series) {\n    // var data = series.getData();\n    // var dataDim = data.mapDimension(this._dimName);\n    // var stackedDimension = data.getCalculationInfo('stackedDimension');\n    // if (stackedDimension && stackedDimension === dataDim) {\n    // this.hasSeriesStacked = true;\n    // }\n    // }, this);\n    // `calculateDataWindow` uses min/maxSpan.\n\n    setMinMaxSpan(this);\n    var dataWindow = this.calculateDataWindow(dataZoomModel.settledOption);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow; // Update axis setting then.\n\n    setAxisModel(this);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  restore: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    this._valueWindow = this._percentWindow = null;\n    setAxisModel(this, true);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  filterData: function (dataZoomModel, api) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n    // But currently, stack has been fixed to based on value but not index,\n    // so this is not an issue any more.\n    // var otherAxisModel = this.getOtherAxisModel();\n    // if (dataZoomModel.get('$fromToolbox')\n    //     && otherAxisModel\n    //     && otherAxisModel.hasSeriesStacked\n    // ) {\n    //     filterMode = 'empty';\n    // }\n    // TODO\n    // filterMode 'weakFilter' and 'empty' is not optimized for huge data yet.\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesData.mapDimension(axisDim, true);\n\n      if (!dataDims.length) {\n        return;\n      }\n\n      if (filterMode === 'weakFilter') {\n        seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData = seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            var range = {};\n            range[dim] = valueWindow; // console.time('select');\n\n            seriesData.selectRange(range); // console.timeEnd('select');\n          }\n        });\n      }\n\n      each(dataDims, function (dim) {\n        seriesData.setApproximateExtent(valueWindow, dim);\n      });\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  }\n};\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    var seriesData = seriesModel.getData();\n\n    if (seriesData) {\n      each(seriesData.mapDimension(axisDim, true), function (dim) {\n        var seriesExtent = seriesData.getApproximateExtent(dim);\n        seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n        seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n      });\n    }\n  });\n\n  if (dataExtent[1] < dataExtent[0]) {\n    dataExtent = [NaN, NaN];\n  } // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n\n  fixExtentByAxis(axisProxy, dataExtent);\n  return dataExtent;\n}\n\nfunction fixExtentByAxis(axisProxy, dataExtent) {\n  var axisModel = axisProxy.getAxisModel();\n  var min = axisModel.getMin(true); // For category axis, if min/max/scale are not set, extent is determined\n  // by axis.data by default.\n\n  var isCategoryAxis = axisModel.get('type') === 'category';\n  var axisDataLen = isCategoryAxis && axisModel.getCategories().length;\n\n  if (min != null && min !== 'dataMin' && typeof min !== 'function') {\n    dataExtent[0] = min;\n  } else if (isCategoryAxis) {\n    dataExtent[0] = axisDataLen > 0 ? 0 : NaN;\n  }\n\n  var max = axisModel.getMax(true);\n\n  if (max != null && max !== 'dataMax' && typeof max !== 'function') {\n    dataExtent[1] = max;\n  } else if (isCategoryAxis) {\n    dataExtent[1] = axisDataLen > 0 ? axisDataLen - 1 : NaN;\n  }\n\n  if (!axisModel.get('scale', true)) {\n    dataExtent[0] > 0 && (dataExtent[0] = 0);\n    dataExtent[1] < 0 && (dataExtent[1] = 0);\n  } // For value axis, if min/max/scale are not set, we just use the extent obtained\n  // by series data, which may be a little different from the extent calculated by\n  // `axisHelper.getScaleExtent`. But the different just affects the experience a\n  // little when zooming. So it will not be fixed until some users require it strongly.\n\n\n  return dataExtent;\n}\n\nfunction setAxisModel(axisProxy, isRestore) {\n  var axisModel = axisProxy.getAxisModel();\n  var percentWindow = axisProxy._percentWindow;\n  var valueWindow = axisProxy._valueWindow;\n\n  if (!percentWindow) {\n    return;\n  } // [0, 500]: arbitrary value, guess axis extent.\n\n\n  var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n  precision = Math.min(precision, 20); // isRestore or isFull\n\n  var useOrigin = isRestore || percentWindow[0] === 0 && percentWindow[1] === 100;\n  axisModel.setRange(useOrigin ? null : +valueWindow[0].toFixed(precision), useOrigin ? null : +valueWindow[1].toFixed(precision));\n}\n\nfunction setMinMaxSpan(axisProxy) {\n  var minMaxSpan = axisProxy._minMaxSpan = {};\n  var dataZoomModel = axisProxy._dataZoomModel;\n  var dataExtent = axisProxy._dataExtent;\n  each(['min', 'max'], function (minMax) {\n    var percentSpan = dataZoomModel.get(minMax + 'Span');\n    var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n    valueSpan != null && (valueSpan = axisProxy.getAxisModel().axis.scale.parse(valueSpan)); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n    if (valueSpan != null) {\n      percentSpan = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n    } else if (percentSpan != null) {\n      valueSpan = numberUtil.linearMap(percentSpan, [0, 100], dataExtent, true) - dataExtent[0];\n    }\n\n    minMaxSpan[minMax + 'Span'] = percentSpan;\n    minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n  });\n}\n\nvar _default = AxisProxy;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\n\nfunction collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\n\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = []; // Collect axes info.\n\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n    // for user. So we enable seting tooltip on coordSys model.\n\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n    if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    } // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n\n\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var key = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n      var axisInfo = result.axesInfo[key] = {\n        key: key,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: []\n      };\n      axesInfoInCoordSys[key] = axisInfo;\n      result.seriesInvolved |= involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[key] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\n\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var volatileOption = {};\n  each(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n    volatileOption[field] = zrUtil.clone(tooltipAxisPointerModel.get(field));\n  }); // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n  // Only these properties can be overrided from tooltip to axisPointer.\n\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n\n  var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n  labelOption.show == null && (labelOption.show = false);\n\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && zrUtil.defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\n\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n    var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n      return;\n    }\n\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  }, this);\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\n\n\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\n\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || zrUtil.isArray(linkPropValue) && zrUtil.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\n\nfunction fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n\n  if (!axisInfo) {\n    return;\n  }\n\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n  if (value != null) {\n    value = scale.parse(value);\n  }\n\n  var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n\n  if ( // Pick a value on axis when initializing.\n  value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n\n  option.value = value;\n\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\n\nfunction getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\n\nfunction getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\n\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get('handle.show');\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\n\n\nfunction makeKey(model) {\n  return model.type + '||' + model.id;\n}\n\nexports.collect = collect;\nexports.fixValue = fixValue;\nexports.getAxisInfo = getAxisInfo;\nexports.getAxisPointerModel = getAxisPointerModel;\nexports.makeKey = makeKey;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\nfunction dimAxisMapper(dim) {\n  return this._axes[dim];\n}\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\n\n\nvar Cartesian = function (name) {\n  this._axes = {};\n  this._dimList = [];\n  /**\n   * @type {string}\n   */\n\n  this.name = name || '';\n};\n\nCartesian.prototype = {\n  constructor: Cartesian,\n  type: 'cartesian',\n\n  /**\n   * Get axis\n   * @param  {number|string} dim\n   * @return {module:echarts/coord/Cartesian~Axis}\n   */\n  getAxis: function (dim) {\n    return this._axes[dim];\n  },\n\n  /**\n   * Get axes list\n   * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n   */\n  getAxes: function () {\n    return zrUtil.map(this._dimList, dimAxisMapper, this);\n  },\n\n  /**\n   * Get axes list by given scale type\n   */\n  getAxesByScale: function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  },\n\n  /**\n   * Add axis\n   * @param {module:echarts/coord/Cartesian.Axis}\n   */\n  addAxis: function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  },\n\n  /**\n   * Convert data to coord in nd space\n   * @param {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  dataToCoord: function (val) {\n    return this._dataCoordConvert(val, 'dataToCoord');\n  },\n\n  /**\n   * Convert coord in nd space to data\n   * @param  {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  coordToData: function (val) {\n    return this._dataCoordConvert(val, 'coordToData');\n  },\n  _dataCoordConvert: function (input, method) {\n    var dimList = this._dimList;\n    var output = input instanceof Array ? [] : {};\n\n    for (var i = 0; i < dimList.length; i++) {\n      var dim = dimList[i];\n      var axis = this._axes[dim];\n      output[dim] = axis[method](input[dim]);\n    }\n\n    return output;\n  }\n};\nvar _default = Cartesian;\nmodule.exports = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('head-top'),_c('section',{staticClass:\"data_section\"},[_c('header',{staticClass:\"section_title\"},[_vm._v(\"数据统计\")]),_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list today_head\"},[_c('span',{staticClass:\"data_num head\"},[_vm._v(\"当日数据：\")])])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list\"},[_c('span',{staticClass:\"data_num\"},[_vm._v(_vm._s(_vm.userCount))]),_vm._v(\" 新增用户\")])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list\"},[_c('span',{staticClass:\"data_num\"},[_vm._v(_vm._s(_vm.orderCount))]),_vm._v(\" 新增订单\")])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list\"},[_c('span',{staticClass:\"data_num\"},[_vm._v(_vm._s(_vm.adminCount))]),_vm._v(\" 新增管理员\")])])],1),_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list all_head\"},[_c('span',{staticClass:\"data_num head\"},[_vm._v(\"总数据：\")])])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list\"},[_c('span',{staticClass:\"data_num\"},[_vm._v(_vm._s(_vm.allUserCount))]),_vm._v(\" 注册用户\")])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list\"},[_c('span',{staticClass:\"data_num\"},[_vm._v(_vm._s(_vm.allOrderCount))]),_vm._v(\" 订单\")])]),_c('el-col',{attrs:{\"span\":4}},[_c('div',{staticClass:\"data_list\"},[_c('span',{staticClass:\"data_num\"},[_vm._v(_vm._s(_vm.allAdminCount))]),_vm._v(\" 管理员\")])])],1)],1),_c('tendency',{attrs:{\"sevenDate\":_vm.sevenDate,\"sevenDay\":_vm.sevenDay}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"line1\"},[_c('div',{staticStyle:{\"width\":\"90%\",\"height\":\"450px\"},attrs:{\"id\":\"line1\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"line1\">\r\n        <div id=\"line1\" class=\"\" style=\"width: 90%;height:450px;\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import echarts from 'echarts/lib/echarts';\r\n    // 引入柱状图\r\n    import 'echarts/lib/chart/bar';\r\n    import 'echarts/lib/chart/line';\r\n    import 'echarts/lib/component/title';\r\n    import 'echarts/lib/component/legend';\r\n    import 'echarts/lib/component/toolbox';\r\n    import 'echarts/lib/component/markPoint';\r\n    import 'echarts/lib/component/tooltip';\r\n    export default {\r\n        mounted(){\r\n            this.myChart = echarts.init(document.getElementById('line1'));\r\n            this.initData();\r\n        },\r\n        props: ['sevenDate', 'sevenDay'],\r\n        methods: {\r\n            initData(){\r\n                const colors = ['#5793f3', '#675bba', '#d14a61'];\r\n                const option = {\r\n                    color: colors,\r\n                    title: {\r\n                        text: '走势图',\r\n                        subtext: ''\r\n                    },\r\n                    tooltip: {\r\n                        trigger: 'axis'\r\n                    },\r\n                    legend: {\r\n                        data:['新注册用户', '新增订单', '新增管理员']\r\n                    },\r\n                    toolbox: {\r\n                        show: true,\r\n                        feature: {\r\n                            dataZoom: {\r\n                                yAxisIndex: 'none'\r\n                            },\r\n                            dataView: {readOnly: false},\r\n                            magicType: {type: ['bar', 'line']},\r\n                            restore: {},\r\n                        }\r\n                    },\r\n                    xAxis:  {\r\n                        type: 'category',\r\n                        boundaryGap: false,\r\n                        data: this.sevenDay\r\n                    },\r\n                    yAxis: [\r\n                        {\r\n                          type: 'value',\r\n                          name: '用户',\r\n                          min: 0,\r\n                          max: 200,\r\n                          position: 'left',\r\n                          axisLine: {\r\n                              lineStyle: {\r\n                                  color: '#999'\r\n                              }\r\n                          },\r\n                          axisLabel: {\r\n                              formatter: '{value}'\r\n                          }\r\n                        },\r\n                        {\r\n                          type: 'value',\r\n                          name: '订单',\r\n                          min: 0,\r\n                          max: 200,\r\n                          position: 'right',\r\n                          axisLine: {\r\n                              lineStyle: {\r\n                                  color: '#999'\r\n                              }\r\n                          },\r\n                          axisLabel: {\r\n                              formatter: '{value}'\r\n                          }\r\n                        },\r\n                    ],\r\n                    series: [\r\n                        {\r\n                            name:'新注册用户',\r\n                            type:'line',\r\n                            data:this.sevenDate[0],\r\n                            yAxisIndex: 1,\r\n                            markPoint: {\r\n                                data: [\r\n                                    {type: 'max', name: '最大值'},\r\n                                    {type: 'min', name: '最小值'}\r\n                                ]\r\n                            },\r\n                        },\r\n                        {\r\n                            name:'新增订单',\r\n                            type:'line',\r\n                            data:this.sevenDate[1],\r\n                            yAxisIndex: 1,\r\n                            markPoint: {\r\n                                data: [\r\n                                    {type: 'max', name: '最大值'},\r\n                                    {type: 'min', name: '最小值'}\r\n                                ]\r\n                            },\r\n                        },\r\n                        {\r\n                            name:'新增管理员',\r\n                            type:'line',\r\n                            data:this.sevenDate[2],\r\n                            yAxisIndex: 1,\r\n                            markPoint: {\r\n                                data: [\r\n                                    {type: 'max', name: '最大值'},\r\n                                    {type: 'min', name: '最小值'}\r\n                                ]\r\n                            },\r\n                        }\r\n                    ]\r\n              };\r\n                this.myChart.setOption(option);\r\n            }\r\n        },\r\n        watch: {\r\n            sevenDate: function (){\r\n                this.initData()\r\n            },\r\n            sevenDay: function (){\r\n                this.initData()\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t@import '../style/mixin';\r\n    .line1{\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tendency.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tendency.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tendency.vue?vue&type=template&id=05531745&\"\nimport script from \"./tendency.vue?vue&type=script&lang=js&\"\nexport * from \"./tendency.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tendency.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n        <head-top></head-top>\n\t\t<section class=\"data_section\">\n\t\t\t<header class=\"section_title\">数据统计</header>\n\t\t\t<el-row :gutter=\"20\" style=\"margin-bottom: 10px;\">\n                <el-col :span=\"4\"><div class=\"data_list today_head\"><span class=\"data_num head\">当日数据：</span></div></el-col>\n\t\t\t\t<el-col :span=\"4\"><div class=\"data_list\"><span class=\"data_num\">{{userCount}}</span> 新增用户</div></el-col>\n\t\t\t\t<el-col :span=\"4\"><div class=\"data_list\"><span class=\"data_num\">{{orderCount}}</span> 新增订单</div></el-col>\n                <el-col :span=\"4\"><div class=\"data_list\"><span class=\"data_num\">{{adminCount}}</span> 新增管理员</div></el-col>\n\t\t\t</el-row>\n            <el-row :gutter=\"20\">\n                <el-col :span=\"4\"><div class=\"data_list all_head\"><span class=\"data_num head\">总数据：</span></div></el-col>\n                <el-col :span=\"4\"><div class=\"data_list\"><span class=\"data_num\">{{allUserCount}}</span> 注册用户</div></el-col>\n                <el-col :span=\"4\"><div class=\"data_list\"><span class=\"data_num\">{{allOrderCount}}</span> 订单</div></el-col>\n                <el-col :span=\"4\"><div class=\"data_list\"><span class=\"data_num\">{{allAdminCount}}</span> 管理员</div></el-col>\n            </el-row>\n\t\t</section>\n\t\t<tendency :sevenDate='sevenDate' :sevenDay='sevenDay'></tendency>\n    </div>\n</template>\n\n<script>\n\timport headTop from '../components/headTop'\n\timport tendency from '../components/tendency' \n\timport dtime from 'time-formater'\n\timport {userCount, orderCount, getUserCount, getOrderCount, adminDayCount, adminCount} from '@/api/getData'\n    export default {\n    \tdata(){\n    \t\treturn {\n    \t\t\tuserCount: null,\n    \t\t\torderCount: null,\n                adminCount: null,\n                allUserCount: null,\n                allOrderCount: null,\n                allAdminCount: null,\n    \t\t\tsevenDay: [],\n    \t\t\tsevenDate: [[],[],[]],\n    \t\t}\n    \t},\n    \tcomponents: {\n    \t\theadTop,\n    \t\ttendency,\n    \t},\n    \tmounted(){\n    \t\tthis.initData();\n    \t\tfor (let i = 6; i > -1; i--) {\n    \t\t\tconst date = dtime(new Date().getTime() - 86400000*i).format('YYYY-MM-DD')\n    \t\t\tthis.sevenDay.push(date)\n    \t\t}\n    \t\tthis.getSevenData();\n    \t},\n        computed: {\n\n        },\n    \tmethods: {\n    \t\tasync initData(){\n    \t\t\tconst today = dtime().format('YYYY-MM-DD')\n    \t\t\tPromise.all([userCount(today), orderCount(today), adminDayCount(today), getUserCount(), getOrderCount(), adminCount()])\n    \t\t\t.then(res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tthis.userCount = res[0].count;\n    \t\t\t\tthis.orderCount = res[1].count;\n                    this.adminCount = res[2].count;\n                    this.allUserCount = res[3].count;\n                    this.allOrderCount = res[4].count;\n                    this.allAdminCount = res[5].count;\n    \t\t\t}).catch(err => {\n    \t\t\t\tconsole.log(err)\n    \t\t\t})\n    \t\t},\n    \t\tasync getSevenData(){\n    \t\t\tconst apiArr = [[],[],[]];\n    \t\t\tthis.sevenDay.forEach(item => {\n    \t\t\t\tapiArr[0].push(userCount(item))\n    \t\t\t\tapiArr[1].push(orderCount(item))\n                    apiArr[2].push(adminDayCount(item))\n    \t\t\t})\n    \t\t\tconst promiseArr = [...apiArr[0], ...apiArr[1], ...apiArr[2]]\n    \t\t\tPromise.all(promiseArr).then(res => {\n    \t\t\t\tconst resArr = [[],[],[]];\n\t\t\t\t\tres.forEach((item, index) => {\n\t\t\t\t\t\tif (item.status == 1) {\n\t\t\t\t\t\t\tresArr[Math.floor(index/7)].push(item.count)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tthis.sevenDate = resArr;\n    \t\t\t}).catch(err => {\n    \t\t\t\tconsole.log(err)\n    \t\t\t})\n    \t\t}\n    \t}\n    }\n</script>\n\n<style lang=\"less\">\n\t@import '../style/mixin';\n\t.data_section{\n\t\tpadding: 20px;\n\t\tmargin-bottom: 40px;\n\t\t.section_title{\n\t\t\ttext-align: center;\n\t\t\tfont-size: 30px;\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\t.data_list{\n\t\t\ttext-align: center;\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #666;\n            border-radius: 6px;\n            background: #E5E9F2;\n            .data_num{\n                color: #333;\n                font-size: 26px;\n\n            }\n            .head{\n                border-radius: 6px;\n                font-size: 22px;\n                padding: 4px 0;\n                color: #fff;\n                display: inline-block;\n            }\n        }\n        .today_head{\n            background: #FF9800;\n        }\n        .all_head{\n            background: #20A0FF;\n        }\n\t}\n    .wan{\n        .sc(16px, #333)\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./home.vue?vue&type=template&id=62338e6d&\"\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tendency.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tendency.vue?vue&type=style&index=0&lang=less&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar magicTypeLang = lang.toolbox.magicType;\nvar INNER_STACK_KEYWORD = '__ec_magicType_stack__';\n\nfunction MagicType(model) {\n  this.model = model;\n}\n\nMagicType.defaultOption = {\n  show: true,\n  type: [],\n  // Icon group\n  icon: {\n    /* eslint-disable */\n    line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n    bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n    stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' // jshint ignore:line\n\n    /* eslint-enable */\n\n  },\n  // `line`, `bar`, `stack`, `tiled`\n  title: zrUtil.clone(magicTypeLang.title),\n  option: {},\n  seriesIndex: {}\n};\nvar proto = MagicType.prototype;\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon');\n  var icons = {};\n  zrUtil.each(model.get('type'), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.line') || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.bar') || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    var isStack = seriesModel.get('stack') === INNER_STACK_KEYWORD;\n\n    if (seriesType === 'line' || seriesType === 'bar') {\n      model.setIconStatus('stack', isStack ? 'normal' : 'emphasis');\n      return zrUtil.merge({\n        id: seriesId,\n        stack: isStack ? '' : INNER_STACK_KEYWORD\n      }, model.get('option.stack') || {}, true);\n    }\n  }\n};\nvar radioTypes = [['line', 'bar'], ['stack']];\n\nproto.onclick = function (ecModel, api, type) {\n  var model = this.model;\n  var seriesIndex = model.get('seriesIndex.' + type); // Not supported magicType\n\n  if (!seriesOptGenreator[type]) {\n    return;\n  }\n\n  var newOption = {\n    series: []\n  };\n\n  var generateNewSeriesTypes = function (seriesModel) {\n    var seriesType = seriesModel.subType;\n    var seriesId = seriesModel.id;\n    var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n\n    if (newSeriesOpt) {\n      // PENDING If merge original option?\n      zrUtil.defaults(newSeriesOpt, seriesModel.option);\n      newOption.series.push(newSeriesOpt);\n    } // Modify boundaryGap\n\n\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n      var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n      if (categoryAxis) {\n        var axisDim = categoryAxis.dim;\n        var axisType = axisDim + 'Axis';\n        var axisModel = ecModel.queryComponents({\n          mainType: axisType,\n          index: seriesModel.get(name + 'Index'),\n          id: seriesModel.get(name + 'Id')\n        })[0];\n        var axisIndex = axisModel.componentIndex;\n        newOption[axisType] = newOption[axisType] || [];\n\n        for (var i = 0; i <= axisIndex; i++) {\n          newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n        }\n\n        newOption[axisType][axisIndex].boundaryGap = type === 'bar';\n      }\n    }\n  };\n\n  zrUtil.each(radioTypes, function (radio) {\n    if (zrUtil.indexOf(radio, type) >= 0) {\n      zrUtil.each(radio, function (item) {\n        model.setIconStatus(item, 'normal');\n      });\n    }\n  });\n  model.setIconStatus(type, 'emphasis');\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: seriesIndex == null ? null : {\n      seriesIndex: seriesIndex\n    }\n  }, generateNewSeriesTypes);\n  var newTitle; // Change title of stack\n\n  if (type === 'stack') {\n    var isStack = newOption.series && newOption.series[0] && newOption.series[0].stack === INNER_STACK_KEYWORD;\n    newTitle = isStack ? zrUtil.merge({\n      stack: magicTypeLang.title.tiled\n    }, magicTypeLang.title) : zrUtil.clone(magicTypeLang.title);\n  }\n\n  api.dispatchAction({\n    type: 'changeMagicType',\n    currentType: type,\n    newOption: newOption,\n    newTitle: newTitle\n  });\n};\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nfeatureManager.register('magicType', MagicType);\nvar _default = MagicType;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar globalListener = require(\"./globalListener\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerView = echarts.extendComponentView({\n  type: 'axisPointer',\n  render: function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    globalListener.unregister(api.getZr(), 'axisPointer');\n    AxisPointerView.superApply(this._model, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n    AxisPointerView.superApply(this._model, 'dispose', arguments);\n  }\n});\nvar _default = AxisPointerView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar fixClipWithShadow = require(\"zrender/lib/graphic/helper/fixClipWithShadow\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  // if (smoothMonotone == null) {\n  //     if (isMono(points, 'x')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n  //     }\n  //     else if (isMono(points, 'y')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n  //     }\n  //     else {\n  //         return drawNonMono.apply(this, arguments);\n  //     }\n  // }\n  // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n  //     return drawMono.apply(this, arguments);\n  // }\n  // else {\n  //     return drawNonMono.apply(this, arguments);\n  // }\n  if (smoothMonotone === 'none' || !smoothMonotone) {\n    return drawNonMono.apply(this, arguments);\n  } else {\n    return drawMono.apply(this, arguments);\n  }\n}\n/**\n * Check if points is in monotone.\n *\n * @param {number[][]} points         Array of points which is in [x, y] form\n * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n *                                    dimension that is checking.\n *                                    If is 'none', `drawNonMono` should be\n *                                    called.\n *                                    If is undefined, either being monotone\n *                                    in 'x' or 'y' will call `drawMono`.\n */\n// function isMono(points, smoothMonotone) {\n//     if (points.length <= 1) {\n//         return true;\n//     }\n//     var dim = smoothMonotone === 'x' ? 0 : 1;\n//     var last = points[0][dim];\n//     var lastDiff = 0;\n//     for (var i = 1; i < points.length; ++i) {\n//         var diff = points[i][dim] - last;\n//         if (!isNaN(diff) && !isNaN(lastDiff)\n//             && diff !== 0 && lastDiff !== 0\n//             && ((diff >= 0) !== (lastDiff >= 0))\n//         ) {\n//             return false;\n//         }\n//         if (!isNaN(diff) && diff !== 0) {\n//             lastDiff = diff;\n//             last = points[i][dim];\n//         }\n//     }\n//     return true;\n// }\n\n/**\n * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n * control points will be used. This should be used when points are monotone\n * either in x or y dimension.\n */\n\n\nfunction drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n    } else {\n      if (smooth > 0) {\n        var prevP = points[prevIdx];\n        var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n        var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n        v2Copy(cp0, prevP);\n        cp0[dim] = prevP[dim] + ctrlLen;\n        v2Copy(cp1, p);\n        cp1[dim] = p[dim] - ctrlLen;\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkPointModel\");\n\nrequire(\"./marker/MarkPointView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// HINT Markpoint can't be used too much\necharts.registerPreprocessor(function (opt) {\n  // Make sure markPoint component is enabled\n  opt.markPoint = opt.markPoint || {};\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar featureManager = require(\"./featureManager\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar listComponentHelper = require(\"../helper/listComponent\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature; // FIX#11236, merge feature title from MagicType newOption. TODO: consider seriesIndex ?\n\n      if (payload && payload.newTitle != null) {\n        featureOpt.title = payload.newTitle;\n      }\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature(featureModel, ecModel, api);\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle');\n      var iconStyleEmphasisModel = featureModel.getModel('emphasis.iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getItemStyle());\n        path.hoverStyle = iconStyleEmphasisModel.getItemStyle(); // Text position calculation\n\n        path.setStyle({\n          text: titles[iconName],\n          textAlign: iconStyleEmphasisModel.get('textAlign'),\n          textBorderRadius: iconStyleEmphasisModel.get('textBorderRadius'),\n          textPadding: iconStyleEmphasisModel.get('textPadding'),\n          textFill: null\n        });\n        var tooltipModel = toolboxModel.getModel('tooltip');\n\n        if (tooltipModel && tooltipModel.get('show')) {\n          path.attr('tooltip', zrUtil.extend({\n            content: titles[iconName],\n            formatter: tooltipModel.get('formatter', true) || function () {\n              return titles[iconName];\n            },\n            formatterParams: {\n              componentType: 'toolbox',\n              name: iconName,\n              title: titles[iconName],\n              $vars: ['name', 'title']\n            },\n            position: tooltipModel.get('position', true) || 'bottom'\n          }, tooltipModel.option));\n        }\n\n        graphic.setHoverStyle(path);\n\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleEmphasisModel.getItemStyle();\n            var defaultTextPosition = toolboxModel.get('orient') === 'vertical' ? toolboxModel.get('right') == null ? 'right' : 'left' : toolboxModel.get('bottom') == null ? 'bottom' : 'top';\n            path.setStyle({\n              textFill: iconStyleEmphasisModel.get('textFill') || hoverStyle.fill || hoverStyle.stroke || '#000',\n              textBackgroundColor: iconStyleEmphasisModel.get('textBackgroundColor'),\n              textPosition: iconStyleEmphasisModel.get('textPosition') || defaultTextPosition\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null,\n              textBackgroundColor: null\n            });\n          });\n        }\n\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  // updateLayout: function (toolboxModel, ecModel, api, payload) {\n  //     zrUtil.each(this._features, function (feature) {\n  //         feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n  //     });\n  // },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazzUtil = require(\"../../util/clazz\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisPointerModelHelper = require(\"./modelHelper\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/SelectZoomModel\");\n\nrequire(\"./dataZoom/SelectZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../../echarts\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar restoreLang = lang.toolbox.restore;\n\nfunction Restore(model) {\n  this.model = model;\n}\n\nRestore.defaultOption = {\n  show: true,\n\n  /* eslint-disable */\n  icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n\n  /* eslint-enable */\n  title: restoreLang.title\n};\nvar proto = Restore.prototype;\n\nproto.onclick = function (ecModel, api, type) {\n  history.clear(ecModel);\n  api.dispatchAction({\n    type: 'restore',\n    from: this.uid\n  });\n};\n\nfeatureManager.register('restore', Restore);\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nvar _default = Restore;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _labelHelper = require(\"../helper/labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label');\n  var hoverLabelModel = itemModel.getModel('emphasis.label');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: getDefaultLabel(seriesModel.getData(), dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar modelHelper = require(\"./modelHelper\");\n\nvar findPointFromSeries = require(\"./findPointFromSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry;\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\n\nfunction _default(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n  // See #6121. But we are not able to reproduce it yet.\n\n  if (!coordSysAxesInfo) {\n    return;\n  }\n\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n\n  var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputFinder = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  }; // Process for triggered axes.\n\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n      }\n    });\n  }); // Process for linked axes.\n\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n  });\n  updateModelActually(showValueMap, axesInfo, outputFinder);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputFinder;\n}\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n  var axis = axisInfo.axis;\n\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  } // Heavy calculation. So put it after axis.containData checking.\n\n\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n  // By defualt use the first involved series data as a sample to connect.\n\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    zrUtil.extend(outputFinder, payloadBatch[0]);\n  } // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n\n\n  if (!dontSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n\n  updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimension(dim, true);\n    var seriesNestestValue;\n    var dataIndices;\n\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n\n      if (!dataIndices.length) {\n        return;\n      }\n\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff); // Consider category case\n\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n  var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value; // For label formatter param and highlight.\n\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    } // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n        // If hide, value still need to be set, consider\n        // click legend to toggle axis blank.\n        !axisInfo.useHandle && (option.status = 'hide');\n      } // If status is 'hide', should be no info in payload.\n\n\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  } // In most case only one axis (or event one series is used). It is\n  // convinient to fetch payload.seriesIndex and payload.dataIndex\n  // dirtectly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n\n\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification shoule be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  }); // Diff.\n\n  var toHighlight = [];\n  var toDownplay = [];\n  zrUtil.each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  zrUtil.each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    batch: toHighlight\n  });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\n\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\n\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   */\n\n  this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n  constructor: Axis2D,\n\n  /**\n   * Index of axis, can be used as key\n   */\n  index: 0,\n\n  /**\n   * Implemented in <module:echarts/coord/cartesian/Grid>.\n   * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n   *         If not on zero of other axis, return null/undefined.\n   *         If no axes, return an empty array.\n   */\n  getAxesOnZeroOf: null,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/cartesian/AxisModel}\n   */\n  model: null,\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  getGlobalExtent: function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  },\n  getOtherAxis: function () {\n    this.grid.getOtherAxis();\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  },\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var localCoord = axis.toLocalCoord(80);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toLocalCoord: null,\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var globalCoord = axis.toLocalCoord(40);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toGlobalCoord: null\n};\nzrUtil.inherits(Axis2D, Axis);\nvar _default = Axis2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nfunction _default(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    var handleSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleSpan = restrict(handleSpan, [0, extentSpan]);\n    minSpan = maxSpan = restrict(handleSpan, [minSpan, maxSpan]);\n    handleIndex = 0;\n  }\n\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbidden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1] != null ? extend[1] : Infinity, Math.max(extend[0] != null ? extend[0] : -Infinity, value));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./line/LineSeries\");\n\nrequire(\"./line/LineView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nvar dataSample = require(\"../processor/dataSample\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('line', 'circle', 'line'));\necharts.registerLayout(layoutPoints('line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar lineAnimationDiff = require(\"./lineAnimationDiff\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _poly = require(\"./poly\");\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createGridClipPath = _createClipPathFromCoordSys.createGridClipPath;\nvar createPolarClipPath = _createClipPathFromCoordSys.createPolarClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Object} dataCoordInfo\n * @param {Array.<Array.<number>>} points\n */\n\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var points = [];\n\n  for (var idx = 0, len = data.count(); idx < len; idx++) {\n    points.push(getStackedOnPoint(dataCoordInfo, coordSys, data, idx));\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    labelMap[labelItem.tickValue] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction createLineClipPath(coordSys, hasAnimation, seriesModel) {\n  if (coordSys.type === 'cartesian2d') {\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n\n    return clipPath;\n  } else {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.mapArray(data.getItemLayout);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step');\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r1 += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      });\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      }); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar _axisSplitHelper = require(\"./axisSplitHelper\");\n\nvar rectCoordAxisBuildSplitArea = _axisSplitHelper.rectCoordAxisBuildSplitArea;\nvar rectCoordAxisHandleRemove = _axisSplitHelper.rectCoordAxisHandleRemove;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\nvar CartesianAxisView = AxisView.extend({\n  type: 'cartesianAxis',\n  axisPointerClass: 'CartesianAxisPointer',\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel, gridModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  remove: function () {\n    rectCoordAxisHandleRemove(this);\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      var tickValue = ticksCoords[i].tickValue;\n\n      this._axisGroup.add(new graphic.Line({\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n        subPixelOptimize: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _minorSplitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        this._axisGroup.add(new graphic.Line({\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: lineStyle,\n          silent: true\n        }));\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitArea: function (axisModel, gridModel) {\n    rectCoordAxisBuildSplitArea(this, this._axisGroup, axisModel, gridModel);\n  }\n});\nCartesianAxisView.extend({\n  type: 'xAxis'\n});\nCartesianAxisView.extend({\n  type: 'yAxis'\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _cursorHelper = require(\"./cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphicUtil = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints, transform) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\n\nfunction makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\n\nfunction makeRectIsTargetByCursor(rect, api, targetModel) {\n  rect = normalizeRect(rect);\n  return function (e, localCursorPoint, transform) {\n    return rect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}\n\nexports.makeRectPanelClipPath = makeRectPanelClipPath;\nexports.makeLinearBrushOtherExtent = makeLinearBrushOtherExtent;\nexports.makeRectIsTargetByCursor = makeRectIsTargetByCursor;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar retrieve = _util.retrieve;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar each = _util.each;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _number = require(\"../../util/number\");\n\nvar isRadianAroundZero = _number.isRadianAroundZero;\nvar remRadian = _number.remRadian;\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar matrixUtil = require(\"zrender/lib/core/matrix\");\n\nvar _vector = require(\"zrender/lib/core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar shouldShowAllLabels = _axisHelper.shouldShowAllLabels;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI = Math.PI;\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n *\n * @param {module:zrender/container/Group} group\n * @param {Object} axisModel\n * @param {Object} opt Standard axis parameters.\n * @param {Array.<number>} opt.position [x, y]\n * @param {number} opt.rotation by radian\n * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n * @param {number} [opt.tickDirection=1] 1 or -1\n * @param {number} [opt.labelDirection=1] 1 or -1\n * @param {number} [opt.labelOffset=0] Usefull when onZero.\n * @param {string} [opt.axisLabelShow] default get from axisModel.\n * @param {string} [opt.axisName] default get from axisModel.\n * @param {number} [opt.axisNameAvailableWidth]\n * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n * @param {number} [opt.strokeContainThreshold] Default label interval when label\n * @param {number} [opt.nameTruncateMaxWidth]\n */\n\nvar AxisBuilder = function (axisModel, opt) {\n  /**\n   * @readOnly\n   */\n  this.opt = opt;\n  /**\n   * @readOnly\n   */\n\n  this.axisModel = axisModel; // Default value\n\n  defaults(opt, {\n    labelOffset: 0,\n    nameDirection: 1,\n    tickDirection: 1,\n    labelDirection: 1,\n    silent: true\n  });\n  /**\n   * @readOnly\n   */\n\n  this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n  var dumbGroup = new graphic.Group({\n    position: opt.position.slice(),\n    rotation: opt.rotation\n  }); // this.group.add(dumbGroup);\n  // this._dumbGroup = dumbGroup;\n\n  dumbGroup.updateTransform();\n  this._transform = dumbGroup.transform;\n  this._dumbGroup = dumbGroup;\n};\n\nAxisBuilder.prototype = {\n  constructor: AxisBuilder,\n  hasBuilder: function (name) {\n    return !!builders[name];\n  },\n  add: function (name) {\n    builders[name].call(this);\n  },\n  getGroup: function () {\n    return this.group;\n  }\n};\nvar builders = {\n  /**\n   * @private\n   */\n  axisLine: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n\n    if (!axisModel.get('axisLine.show')) {\n      return;\n    }\n\n    var extent = this.axisModel.axis.getExtent();\n    var matrix = this._transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n    this.group.add(new graphic.Line({\n      // Id for animation\n      anid: 'line',\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: lineStyle,\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1\n    }));\n    var arrows = axisModel.get('axisLine.symbol');\n    var arrowSize = axisModel.get('axisLine.symbolSize');\n    var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n    if (typeof arrowOffset === 'number') {\n      arrowOffset = [arrowOffset, arrowOffset];\n    }\n\n    if (arrows != null) {\n      if (typeof arrows === 'string') {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n\n      if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n\n      var symbolWidth = arrowSize[0];\n      var symbolHeight = arrowSize[1];\n      each([{\n        rotate: opt.rotation + Math.PI / 2,\n        offset: arrowOffset[0],\n        r: 0\n      }, {\n        rotate: opt.rotation - Math.PI / 2,\n        offset: arrowOffset[1],\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n      }], function (point, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n          var r = point.r + point.offset;\n          var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n          symbol.attr({\n            rotation: point.rotate,\n            position: pos,\n            silent: true,\n            z2: 11\n          });\n          this.group.add(symbol);\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  axisTickLabel: function () {\n    var axisModel = this.axisModel;\n    var opt = this.opt;\n    var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n    var labelEls = buildAxisLabel(this, axisModel, opt);\n    fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n    buildAxisMinorTicks(this, axisModel, opt);\n  },\n\n  /**\n   * @private\n   */\n  axisName: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n    var name = retrieve(opt.axisName, axisModel.get('name'));\n\n    if (!name) {\n      return;\n    }\n\n    var nameLocation = axisModel.get('nameLocation');\n    var nameDirection = opt.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = this.axisModel.axis.getExtent();\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n    // Reuse labelOffset.\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n    var labelLayout;\n    var nameRotation = axisModel.get('nameRotate');\n\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n\n    var axisNameAvailableWidth;\n\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n    // truncate rich text? (consider performance)\n\n    var truncatedText = ellipsis != null && maxWidth != null ? formatUtil.truncateText(name, maxWidth, textFont, ellipsis, {\n      minChar: 2,\n      placeholder: truncateOpt.placeholder\n    }) : name;\n    var tooltipOpt = axisModel.get('tooltip', true);\n    var mainType = axisModel.mainType;\n    var formatterParams = {\n      componentType: mainType,\n      name: name,\n      $vars: ['name']\n    };\n    formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'name',\n      __fullText: name,\n      __truncatedText: truncatedText,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: isLabelSilent(axisModel),\n      z2: 1,\n      tooltip: tooltipOpt && tooltipOpt.show ? extend({\n        content: name,\n        formatter: function () {\n          return name;\n        },\n        formatterParams: formatterParams\n      }, tooltipOpt) : null\n    });\n    graphic.setTextStyle(textEl.style, textStyleModel, {\n      text: truncatedText,\n      textFont: textFont,\n      textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n      textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n      textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n    });\n\n    if (axisModel.get('triggerEvent')) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisName';\n      textEl.eventData.name = name;\n    } // FIXME\n\n\n    this._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    this.group.add(textEl);\n    textEl.decomposeTransform();\n  }\n};\n\nvar makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n  var eventData = {\n    componentType: axisModel.mainType,\n    componentIndex: axisModel.componentIndex\n  };\n  eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n  return eventData;\n};\n/**\n * @public\n * @static\n * @param {Object} opt\n * @param {number} axisRotation in radian\n * @param {number} textRotation in radian\n * @param {number} direction\n * @return {Object} {\n *  rotation, // according to axis\n *  textAlign,\n *  textVerticalAlign\n * }\n */\n\n\nvar innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n  var rotationDiff = remRadian(textRotation - axisRotation);\n  var textAlign;\n  var textVerticalAlign;\n\n  if (isRadianAroundZero(rotationDiff)) {\n    // Label is parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI)) {\n    // Label is inverse parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff > 0 && rotationDiff < PI) {\n      textAlign = direction > 0 ? 'right' : 'left';\n    } else {\n      textAlign = direction > 0 ? 'left' : 'right';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n};\n\nfunction endTextLayout(opt, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - opt.rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nvar isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n  var tooltipOpt = axisModel.get('tooltip');\n  return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n  || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n};\n\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n  if (shouldShowAllLabels(axisModel.axis)) {\n    return;\n  } // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n\n\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n\n  labelEls = labelEls || [];\n  tickEls = tickEls || [];\n  var firstLabel = labelEls[0];\n  var nextLabel = labelEls[1];\n  var lastLabel = labelEls[labelEls.length - 1];\n  var prevLabel = labelEls[labelEls.length - 2];\n  var firstTick = tickEls[0];\n  var nextTick = tickEls[1];\n  var lastTick = tickEls[tickEls.length - 1];\n  var prevTick = tickEls[tickEls.length - 2];\n\n  if (showMinLabel === false) {\n    ignoreEl(firstLabel);\n    ignoreEl(firstTick);\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n    if (showMinLabel) {\n      ignoreEl(nextLabel);\n      ignoreEl(nextTick);\n    } else {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    }\n  }\n\n  if (showMaxLabel === false) {\n    ignoreEl(lastLabel);\n    ignoreEl(lastTick);\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n    if (showMaxLabel) {\n      ignoreEl(prevLabel);\n      ignoreEl(prevTick);\n    } else {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    }\n  }\n}\n\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\n\nfunction isTwoLabelOverlapped(current, next, labelLayout) {\n  // current and next has the same rotation.\n  var firstRect = current && current.getBoundingRect().clone();\n  var nextRect = next && next.getBoundingRect().clone();\n\n  if (!firstRect || !nextRect) {\n    return;\n  } // When checking intersect of two rotated labels, we use mRotationBack\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n  var mRotationBack = matrixUtil.identity([]);\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\n  return firstRect.intersect(nextRect);\n}\n\nfunction isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\n\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n  var tickEls = [];\n  var pt1 = [];\n  var pt2 = [];\n\n  for (var i = 0; i < ticksCoords.length; i++) {\n    var tickCoord = ticksCoords[i].coord;\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = tickEndCoord;\n\n    if (tickTransform) {\n      v2ApplyTransform(pt1, pt1, tickTransform);\n      v2ApplyTransform(pt2, pt2, tickTransform);\n    } // Tick line, Not use group transform to have better line draw\n\n\n    var tickEl = new graphic.Line({\n      // Id for animation\n      anid: aniid + '_' + ticksCoords[i].tickValue,\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: tickLineStyle,\n      z2: 2,\n      silent: true\n    });\n    tickEls.push(tickEl);\n  }\n\n  return tickEls;\n}\n\nfunction buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var tickModel = axisModel.getModel('axisTick');\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * tickModel.get('length');\n  var ticksCoords = axis.getTicksCoords();\n  var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }), 'ticks');\n\n  for (var i = 0; i < ticksEls.length; i++) {\n    axisBuilder.group.add(ticksEls[i]);\n  }\n\n  return ticksEls;\n}\n\nfunction buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var minorTickModel = axisModel.getModel('minorTick');\n\n  if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var minorTicksCoords = axis.getMinorTicksCoords();\n\n  if (!minorTicksCoords.length) {\n    return;\n  }\n\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }));\n\n  for (var i = 0; i < minorTicksCoords.length; i++) {\n    var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n    for (var k = 0; k < minorTicksEls.length; k++) {\n      axisBuilder.group.add(minorTicksEls[k]);\n    }\n  }\n}\n\nfunction buildAxisLabel(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var show = retrieve(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n  if (!show || axis.scale.isBlank()) {\n    return;\n  }\n\n  var labelModel = axisModel.getModel('axisLabel');\n  var labelMargin = labelModel.get('margin');\n  var labels = axis.getViewLabels(); // Special label rotate.\n\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n  var labelEls = [];\n  var silent = isLabelSilent(axisModel);\n  var triggerEvent = axisModel.get('triggerEvent');\n  each(labels, function (labelItem, index) {\n    var tickValue = labelItem.tickValue;\n    var formattedLabel = labelItem.formattedLabel;\n    var rawLabel = labelItem.rawLabel;\n    var itemLabelModel = labelModel;\n\n    if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n      itemLabelModel = new Model(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n    }\n\n    var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n    var tickCoord = axis.dataToCoord(tickValue);\n    var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'label_' + tickValue,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: silent,\n      z2: 10\n    });\n    graphic.setTextStyle(textEl.style, itemLabelModel, {\n      text: formattedLabel,\n      textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n      textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n      textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n      // index of axis.data. So tick should not be exposed to user\n      // in category axis.\n      // (2) Compatible with previous version, which always use formatted label as\n      // input. But in interval scale the formatted label is like '223,445', which\n      // maked user repalce ','. So we modify it to return original val but remain\n      // it as 'string' to avoid error in replacing.\n      axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n    }); // Pack data for mouse event\n\n    if (triggerEvent) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisLabel';\n      textEl.eventData.value = rawLabel;\n    } // FIXME\n\n\n    axisBuilder._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    labelEls.push(textEl);\n    axisBuilder.group.add(textEl);\n    textEl.decomposeTransform();\n  });\n  return labelEls;\n}\n\nvar _default = AxisBuilder;\nmodule.exports = _default;","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar interactionMutex = require(\"./interactionMutex\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar map = zrUtil.map;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(0,0,0,0.3)',\n    fill: 'rgba(0,0,0,0.1)'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * @alias module:echarts/component/helper/BrushController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n * @event module:echarts/component/helper/BrushController#brush\n *        params:\n *            areas: Array.<Array>, coord relates to container group,\n *                                    If no container specified, to global.\n *            opt {\n *                isEnd: boolean,\n *                removeOnClick: boolean\n *            }\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\n\nfunction BrushController(zr) {\n  Eventful.call(this);\n  /**\n   * @type {module:zrender/zrender~ZRender}\n   * @private\n   */\n\n  this._zr = zr;\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = new graphic.Group();\n  /**\n   * Only for drawing (after enabledBrush).\n   *     'line', 'rect', 'polygon' or false\n   *     If passing false/null/undefined, disable brush.\n   *     If passing 'auto', determined by panel.defaultBrushType\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * Only for drawing (after enabledBrush).\n   *\n   * @private\n   * @type {Object}\n   */\n\n  this._brushOption;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._panels;\n  /**\n   * @private\n   * @type {Array.<nubmer>}\n   */\n\n  this._track = [];\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._dragging;\n  /**\n   * @private\n   * @type {Array}\n   */\n\n  this._covers = [];\n  /**\n   * @private\n   * @type {moudule:zrender/container/Group}\n   */\n\n  this._creatingCover;\n  /**\n   * `true` means global panel\n   * @private\n   * @type {module:zrender/container/Group|boolean}\n   */\n\n  this._creatingPanel;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._enableGlobalPan;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this._uid = 'brushController_' + baseUID++;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._handlers = {};\n  each(pointerHandlers, function (handler, eventName) {\n    this._handlers[eventName] = zrUtil.bind(handler, this);\n  }, this);\n}\n\nBrushController.prototype = {\n  constructor: BrushController,\n\n  /**\n   * If set to null/undefined/false, select disabled.\n   * @param {Object} brushOption\n   * @param {string|boolean} brushOption.brushType 'line', 'rect', 'polygon' or false\n   *                          If passing false/null/undefined, disable brush.\n   *                          If passing 'auto', determined by panel.defaultBrushType.\n   *                              ('auto' can not be used in global panel)\n   * @param {number} [brushOption.brushMode='single'] 'single' or 'multiple'\n   * @param {boolean} [brushOption.transformable=true]\n   * @param {boolean} [brushOption.removeOnClick=false]\n   * @param {Object} [brushOption.brushStyle]\n   * @param {number} [brushOption.brushStyle.width]\n   * @param {number} [brushOption.brushStyle.lineWidth]\n   * @param {string} [brushOption.brushStyle.stroke]\n   * @param {string} [brushOption.brushStyle.fill]\n   * @param {number} [brushOption.z]\n   */\n  enableBrush: function (brushOption) {\n    this._brushType && doDisableBrush(this);\n    brushOption.brushType && doEnableBrush(this, brushOption);\n    return this;\n  },\n\n  /**\n   * @param {Array.<Object>} panelOpts If not pass, it is global brush.\n   *        Each items: {\n   *            panelId, // mandatory.\n   *            clipPath, // mandatory. function.\n   *            isTargetByCursor, // mandatory. function.\n   *            defaultBrushType, // optional, only used when brushType is 'auto'.\n   *            getLinearBrushOtherExtent, // optional. function.\n   *        }\n   */\n  setPanels: function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels = this._panels = {};\n      zrUtil.each(panelOpts, function (panelOpts) {\n        panels[panelOpts.panelId] = zrUtil.clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param {Object} [opt]\n   * @return {boolean} [opt.enableGlobalPan=false]\n   */\n  mount: function (opt) {\n    opt = opt || {};\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n\n    this._zr.add(thisGroup);\n\n    thisGroup.attr({\n      position: opt.position || [0, 0],\n      rotation: opt.rotation || 0,\n      scale: opt.scale || [1, 1]\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  },\n  eachCover: function (cb, context) {\n    each(this._covers, cb, context);\n  },\n\n  /**\n   * Update covers.\n   * @param {Array.<Object>} brushOptionList Like:\n   *        [\n   *            {id: 'xx', brushType: 'line', range: [23, 44], brushStyle, transformable},\n   *            {id: 'yy', brushType: 'rect', range: [[23, 44], [23, 54]]},\n   *            ...\n   *        ]\n   *        `brushType` is required in each cover info. (can not be 'auto')\n   *        `id` is not mandatory.\n   *        `brushStyle`, `transformable` is not mandatory, use DEFAULT_BRUSH_OPT by default.\n   *        If brushOptionList is null/undefined, all covers removed.\n   */\n  updateCovers: function (brushOptionList) {\n    brushOptionList = zrUtil.map(brushOptionList, function (brushOption) {\n      return zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, brushOptionList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushOption = brushOptionList[newIndex]; // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbiden.\n\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushOption, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushOption));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  },\n  unmount: function () {\n    this.enableBrush(false); // container may 'removeAll' outside.\n\n    clearCovers(this);\n\n    this._zr.remove(this.group);\n\n    return this;\n  },\n  dispose: function () {\n    this.unmount();\n    this.off();\n  }\n};\nzrUtil.mixin(BrushController, Eventful);\n\nfunction doEnableBrush(controller, brushOption) {\n  var zr = controller._zr; // Consider roam, which takes globalPan too.\n\n  if (!controller._enableGlobalPan) {\n    interactionMutex.take(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  }\n\n  mountHandlers(zr, controller._handlers);\n  controller._brushType = brushOption.brushType;\n  controller._brushOption = zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n}\n\nfunction doDisableBrush(controller) {\n  var zr = controller._zr;\n  interactionMutex.release(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  unmountHandlers(zr, controller._handlers);\n  controller._brushType = controller._brushOption = null;\n}\n\nfunction mountHandlers(zr, handlers) {\n  each(handlers, function (handler, eventName) {\n    zr.on(eventName, handler);\n  });\n}\n\nfunction unmountHandlers(zr, handlers) {\n  each(handlers, function (handler, eventName) {\n    zr.off(eventName, handler);\n  });\n}\n\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n\n  return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\n\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n} // return target panel or `true` (means global panel)\n\n\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n} // Return a panel or true\n\n\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\n  // which is then treated as global panel.\n\n  return panelId != null ? panels[panelId] : true;\n}\n\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = zrUtil.clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', areas, {\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\n\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n\n  if (!track.length) {\n    return false;\n  }\n\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n\nfunction createBaseRectCover(doDrift, controller, brushOption, edgeNames) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(doDrift, controller, cover, 'nswe'),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNames, function (name) {\n    cover.add(new graphic.Rect({\n      name: name,\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(doDrift, controller, cover, name),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\n\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each(['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'], function (name) {\n    var el = cover.childOfName(name);\n    var globalDir = getGlobalDirection(controller, name);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\n\nfunction makeStyle(brushOption) {\n  return zrUtil.defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], // x range\n  [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\n\nfunction getGlobalDirection(controller, localDirection) {\n  if (localDirection.length > 1) {\n    localDirection = localDirection.split('');\n    var globalDir = [getGlobalDirection(controller, localDirection[0]), getGlobalDirection(controller, localDirection[1])];\n    (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n    return globalDir.join('');\n  } else {\n    var map = {\n      w: 'left',\n      e: 'right',\n      n: 'top',\n      s: 'bottom'\n    };\n    var inverseMap = {\n      left: 'w',\n      right: 'e',\n      top: 'n',\n      bottom: 's'\n    };\n    var globalDir = graphic.transformDirection(map[localDirection], getTransform(controller));\n    return inverseMap[globalDir];\n  }\n}\n\nfunction driftRect(toRectRange, fromRectRange, controller, cover, name, dx, dy, e) {\n  var brushOption = cover.__brushOption;\n  var rectRange = toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(name.split(''), function (namePart) {\n    var ind = DIRECTION_MAP[namePart];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction driftPolygon(controller, cover, dx, dy, e) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== true ? panel.clipPath(data, controller._transform) : zrUtil.clone(data);\n}\n\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n  if ( // Check active\n  !controller._brushType // resetCursor should be always called when mouse is in zr area,\n  // but not called when mouse is out of zr area to avoid bad influence\n  // if `mousemove`, `mouseup` are triggered from `document` event.\n  || isOutsideZrArea(controller, e)) {\n    return;\n  }\n\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\n\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n\n      if (currPanel && (currPanel === true || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n\n  currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n\n  controller._track.push(localCursorPoint.slice());\n\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = zrUtil.clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === true ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n\n      controller._covers.push(creatingCover);\n    }\n\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n\n  return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    return panel.defaultBrushType;\n  }\n\n  return brushType;\n}\n\nvar pointerHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mose out side the browser.\n      handleDragEnd(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = this.group.transformCoordToLocal(x, y);\n    resetCursor(this, e, localCursorPoint);\n\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: function (e) {\n    handleDragEnd(this, e);\n  }\n};\n\nfunction handleDragEnd(controller, e) {\n  if (controller._dragging) {\n    preventDefault(e);\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var localCursorPoint = controller.group.transformCoordToLocal(x, y);\n    var eventParams = updateCoverByMouse(controller, e, localCursorPoint, true);\n    controller._dragging = false;\n    controller._track = [];\n    controller._creatingCover = null; // trigger event shoule be at final, after procedure will be nested.\n\n    eventParams && trigger(controller, eventParams);\n  }\n}\n\nfunction isOutsideZrArea(controller, x, y) {\n  var zr = controller._zr;\n  return x < 0 || x > zr.getWidth() || y < 0 || y > zr.getHeight();\n}\n/**\n * key: brushType\n * @type {Object}\n */\n\n\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        return range;\n      }, function (range) {\n        return range;\n      }), controller, brushOption, ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\n\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\n\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        var rectRange = [range, [0, 100]];\n        xyIndex && rectRange.reverse();\n        return rectRange;\n      }, function (rectRange) {\n        return rectRange[xyIndex];\n      }), controller, brushOption, [['w', 'e'], ['n', 's']][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent; // If brushWidth not specified, fit the panel.\n\n      var panel = getPanelByCover(controller, cover);\n\n      if (panel !== true && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex, controller._transform);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\n\nvar _default = BrushController;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame, value) {\n  return Math.round(frame.length / 2);\n};\n\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n      if (coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n        var size = extent[1] - extent[0];\n        var rate = Math.round(data.count() / size);\n\n        if (rate > 1) {\n          var sampler;\n\n          if (typeof sampling === 'string') {\n            sampler = samplers[sampling];\n          } else if (typeof sampling === 'function') {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\n\n\nfunction buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get('label.precision'),\n    formatter: axisPointerModel.get('label.formatter')\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get('axisLine.lineStyle.color');\n  }\n\n  elOption.label = {\n    shape: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      r: labelModel.get('borderRadius')\n    },\n    position: position.slice(),\n    // TODO: rich\n    style: {\n      text: text,\n      textFont: font,\n      textFill: labelModel.getTextColor(),\n      textPosition: 'inside',\n      textPadding: paddings,\n      fill: bgColor,\n      stroke: labelModel.get('borderColor') || 'transparent',\n      lineWidth: labelModel.get('borderWidth') || 0,\n      shadowBlur: labelModel.get('shadowBlur'),\n      shadowColor: labelModel.get('shadowColor'),\n      shadowOffsetX: labelModel.get('shadowOffsetX'),\n      shadowOffsetY: labelModel.get('shadowOffsetY')\n    },\n    // Lable should be over axisPointer.\n    z2: 10\n  };\n} // Do not overflow ec container\n\n\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\n\n\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n  // helps to debounce when when moving label.\n  value, {\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n\n  if (formatter) {\n    var params = {\n      value: axisHelper.getAxisRawValue(axis, value),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params.seriesData.push(dataParams);\n    });\n\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params);\n    }\n  }\n\n  return text;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\n\n\nfunction getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}\n\nexports.buildElStyle = buildElStyle;\nexports.buildLabelElOption = buildLabelElOption;\nexports.getValueLabel = getValueLabel;\nexports.getTransformedPosition = getTransformedPosition;\nexports.buildCartesianSingleLabelElOption = buildCartesianSingleLabelElOption;\nexports.makeLineShape = makeLineShape;\nexports.makeRectShape = makeRectShape;\nexports.makeSectorShape = makeSectorShape;"],"sourceRoot":""}