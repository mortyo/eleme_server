{"version":3,"sources":["webpack:///./src/views/login/login.vue?991d","webpack:///./src/views/login/login.vue?f81e","webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?b0ba","webpack:///./src/views/login/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","userAccount","expression","passWord","codeNumber","directives","name","rawName","captchaCodeImg","on","getCaptchaCode","Login","staticRenderFns","component"],"mappings":"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","file":"js/login.948ac7c0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=2a197140&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=2a197140&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('form',{staticClass:\"loginForm\"},[_c('label',{attrs:{\"for\":\"account\"}},[_vm._v(\"请输入账号\")]),_c('el-input',{staticClass:\"input\",attrs:{\"id\":\"account\",\"tabindex\":\"1\",\"prefix-icon\":\"el-icon-user\",\"placeholder\":\"账号\",\"clearable\":\"\",\"autofocus\":\"\"},model:{value:(_vm.userAccount),callback:function ($$v) {_vm.userAccount=$$v},expression:\"userAccount\"}}),_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"请输入密码\")]),_c('router-link',{staticClass:\"forget\",attrs:{\"to\":\"/forget\"}},[_vm._v(\"忘记密码？\")]),_c('el-input',{staticClass:\"input\",attrs:{\"id\":\"password\",\"tabindex\":\"2\",\"prefix-icon\":\"el-icon-lock\",\"placeholder\":\"密码\",\"show-password\":\"\"},model:{value:(_vm.passWord),callback:function ($$v) {_vm.passWord=$$v},expression:\"passWord\"}}),_c('div',{staticClass:\"captchaCode\"},[_c('el-input',{staticClass:\"code_input\",attrs:{\"tabindex\":\"3\",\"placeholder\":\"验证码\"},model:{value:(_vm.codeNumber),callback:function ($$v) {_vm.codeNumber=$$v},expression:\"codeNumber\"}}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.captchaCodeImg),expression:\"captchaCodeImg\"}],attrs:{\"src\":_vm.captchaCodeImg},on:{\"click\":_vm.getCaptchaCode}}),_c('p',{on:{\"click\":_vm.getCaptchaCode}},[_vm._v(\"换一张\")])],1),_c('el-button',{attrs:{\"ba\":\"\",\"type\":\"primary\",\"id\":\"login\",\"tabindex\":\"4\",\"round\":\"\"},on:{\"click\":_vm.Login}},[_vm._v(\"登录\")])],1),_c('p',{staticClass:\"login_tips\"},[_vm._v(\"Tip：未注册过的账号，登录时将自动注册，注册过的用户可凭账号密码登录\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <form class=\"loginForm\">\r\n      <label for=\"account\">请输入账号</label>\r\n      <el-input\r\n        id=\"account\"\r\n        class=\"input\"\r\n        tabindex=\"1\"\r\n        v-model.lazy=\"userAccount\"\r\n        prefix-icon=\"el-icon-user\"\r\n        placeholder=\"账号\"\r\n        clearable\r\n        autofocus\r\n      ></el-input>\r\n      <label for=\"password\">请输入密码</label>\r\n      <router-link to=\"/forget\" class=\"forget\">忘记密码？</router-link>\r\n      <el-input\r\n        id=\"password\"\r\n        class=\"input\"\r\n        tabindex=\"2\"\r\n        v-model=\"passWord\"\r\n        prefix-icon=\"el-icon-lock\"\r\n        placeholder=\"密码\"\r\n        show-password\r\n      ></el-input>\r\n      <div class=\"captchaCode\">\r\n        <el-input v-model=\"codeNumber\" class=\"code_input\" tabindex=\"3\" placeholder=\"验证码\"></el-input>\r\n        <img v-show=\"captchaCodeImg\" :src=\"captchaCodeImg\" @click=\"getCaptchaCode\" />\r\n        <p @click=\"getCaptchaCode\">换一张</p>\r\n      </div>\r\n      <el-button ba type=\"primary\" id=\"login\" tabindex=\"4\" round @click=\"Login\">登录</el-button>\r\n    </form>\r\n    <p class=\"login_tips\">Tip：未注册过的账号，登录时将自动注册，注册过的用户可凭账号密码登录</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n    import { getStore } from '../../config/mUtils'\r\n    import { mapState,mapMutations } from 'vuex'\r\n    import { getcaptchas, accountLogin } from '../../api/getData'\r\n\r\n    export default {\r\n        data(){\r\n            return {\r\n                userInfoList: null, //获取到的用户信息\r\n                userAccount: null, //用户名\r\n                passWord: null, //密码\r\n                captchaCodeImg: null, //验证码地址\r\n                codeNumber: null, //验证码\r\n            }\r\n        },\r\n        computed:{\r\n            ...mapState([\r\n                'userInfo'\r\n            ])\r\n        },\r\n        created(){\r\n            this.getCaptchaCode();\r\n        },\r\n        beforeMount(){\r\n            // if(getStore('user_id')){\r\n            //     this.$router.push('/profile')   //当有用户登录时跳转到profile页面\r\n            // }\r\n        },\r\n        methods: {\r\n            ...mapMutations([\r\n                'RECORD_USERINFO',\r\n            ]),\r\n            //获取验证吗，线上环境使用固定的图片，生产环境使用真实的验证码\r\n            async getCaptchaCode(){\r\n                let res = await getcaptchas();\r\n                this.captchaCodeImg = res.data.code;\r\n            },\r\n            //发送登录信息\r\n            async Login() {\r\n                if (!this.userAccount) {\r\n                    //element 消息提示\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        showClose: true,\r\n                        message: '请输入：用户名 👇👇👇'\r\n                    });\r\n                    return  //重新开始\r\n                }else if(!this.passWord){\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        showClose: true,\r\n                        message: '请输入：密码 👇👇👇'\r\n                    });\r\n                    return\r\n                }else if(!this.codeNumber){\r\n                    this.$message({\r\n                        type: 'warning',\r\n                        showClose: true,\r\n                        message: '请输入：验证码 👇👇👇'\r\n                    });\r\n                    return\r\n                }\r\n                //用户名登录\r\n                accountLogin(this.userAccount, this.passWord, this.codeNumber).then((res) => {\r\n                    this.userInfoList = res.data\r\n                    console.log(res.data)\r\n                    //如果返回的值不正确，则弹出提示框，返回的值正确则返回上一页\r\n                    if (!this.userInfoList.user_id) {\r\n                        this.$message({\r\n                            type: 'error',\r\n                            showClose: true,\r\n                            message: this.userInfoList.message\r\n                        });\r\n                        this.getCaptchaCode();\r\n                    }else{\r\n                        this.$message({\r\n                            type: 'success',\r\n                            showClose: true,\r\n                            message: '密码正确，登录成功！',\r\n                        });\r\n                        this.RECORD_USERINFO(this.userInfoList);\r\n                        this.$router.go(-1);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../style/mixin\";\r\n.loginForm {\r\n  background-color: #fff;\r\n  width: 300px;\r\n  padding: 25px;\r\n  border: #d8dee2 solid 1px;\r\n  border-radius: 5px;\r\n  margin: 60px auto;\r\n  label {\r\n    margin: 5px;\r\n  }\r\n  .input {\r\n    display: block;\r\n    width: 300px;\r\n  }\r\n  .forget {\r\n    @include sc(0.6rem, #3b95e9);\r\n  }\r\n  .captchaCode {\r\n    width: 300px;\r\n    height: 40px;\r\n    margin-top: 21px;\r\n    .code_input {\r\n      width: 100px;\r\n      position: relative;\r\n      top: -15px;\r\n    }\r\n    img {\r\n      height: 40px;\r\n      cursor: pointer;\r\n    }\r\n    p {\r\n      color: #3b95e9;\r\n      float: right;\r\n      line-height: 200%;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  #login {\r\n    margin-top: 21px;\r\n    width: 100%;\r\n  }\r\n}\r\n.login_tips {\r\n  text-align: center;\r\n  color: #e6a23c;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=2a197140&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=2a197140&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a197140\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}