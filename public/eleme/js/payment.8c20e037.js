(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["payment"],{"0920":function(t,e,a){},"16eb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rating_page"},[a("div",{staticClass:"container"},[a("section",{staticClass:"show_time_amount"},[a("section",[a("header",{staticClass:"time_last"},[t._v("支付剩余时间")]),a("p",{staticClass:"time"},[t._v(t._s(t.remaining))]),t.payDetail.resultData?a("footer",{staticClass:"order_detail"},[a("span",[t._v("详情")]),a("span",[t._v("¥ "+t._s(t.cartPrice&&t.cartPrice.toFixed(2)||t.payDetail.resultData.orderInfo.orderAmount&&(t.payDetail.resultData.orderInfo.orderAmount/100).toFixed(2)))])]):t._e()])]),a("div",{staticClass:"pay_way"},[t._v("选择支付方式")]),a("section",{staticClass:"pay_way_list"},[t._m(0),a("section",{staticClass:"pay_item"},[a("div",{staticClass:"pay_icon_contaienr"},[a("svg",[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#weixin"}})]),a("span",[t._v("微信")])]),a("svg",{staticClass:"choose_icon",class:{choosed_way:2==t.payWay},on:{click:function(e){t.payWay=2}}},[a("use",{attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#select"}})])])]),a("el-button",{attrs:{type:"primary"},on:{click:t.confrimPay}},[t._v("确认支付")])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"pay_item"},[a("div",{staticClass:"pay_icon_contaienr"},[a("div",{staticClass:"zhifubao"}),a("span",[t._v("支付宝")])])])}],r=(a("96cf"),a("1da1")),n=a("5530"),o=a("2f62"),c=a("bdaa"),l={data:function(){return{payDetail:!1,showAlert:!1,alertText:null,payWay:1,countNum:900,gotoOrders:!1}},created:function(){this.initData(),this.shopid&&this.CLEAR_CART(this.shopid)},mounted:function(){this.remainingTime()},beforeDestroy:function(){clearInterval(this.timer)},props:[],computed:Object(n["a"])({},Object(o["d"])(["orderMessage","userInfo","shopid","cartPrice"]),{remaining:function(){var t=parseInt(this.countNum/60);t<10&&(t="0"+t);var e=parseInt(this.countNum%60);return e<10&&(e="0"+e),"00 : "+t+" : "+e}}),methods:Object(n["a"])({},Object(o["c"])(["CONFIRM_INVOICE","CLEAR_CART"]),{initData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])(t.orderMessage.order_id,t.userInfo.user_id);case 2:if(a=e.sent,t.payDetail=a,!t.payDetail.message){e.next=8;break}return t.showAlert=!0,t.alertText=t.payDetail.message,e.abrupt("return");case 8:case"end":return e.stop()}}),e)})))()},remainingTime:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.countNum--,0==t.countNum&&(clearInterval(t.timer),t.showAlert=!0,t.alertText="支付超时")}),1e3)},confrimPay:function(){this.showAlert=!0,this.alertText="当前环境无法支付，请打开官方APP进行付款",this.gotoOrders=!0},closeTipFun:function(){this.showAlert=!1,this.gotoOrders&&this.$router.push("/order")}})},u=l,p=(a("b729"),a("2877")),h=Object(p["a"])(u,s,i,!1,null,"2c7aff63",null);e["default"]=h.exports},b729:function(t,e,a){"use strict";var s=a("0920"),i=a.n(s);i.a}}]);
//# sourceMappingURL=payment.8c20e037.js.map