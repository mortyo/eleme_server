{"version":3,"sources":["webpack:///./src/views/profile/children/info.vue?417e","webpack:///src/views/profile/children/info.vue","webpack:///./src/views/profile/children/info.vue?e3c9","webpack:///./src/views/profile/children/info.vue","webpack:///./src/views/profile/children/info.vue?7274"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","_s","username","staticStyle","model","value","callback","$$v","resetname","expression","on","$event","reset_Name","imgBaseUrl","userInfo","avatar","uploadAvatar","add_address_btn","add_address_show","phone","addAddress","detailedaddress","add_address","_l","item","key","id","address","edit_address","delete_address","_e","oldPassWord","newPassWord","confirmPassWord","captchaCode","captchaCodeImg","getCaptchaCode","resetButton","staticRenderFns","component"],"mappings":"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","file":"js/info.05947a1d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info_page\"},[_c('el-tabs',{staticClass:\"tabs\",attrs:{\"type\":\"border-card\",\"tab-position\":\"left\"}},[_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" 用户信息\")]),_c('p',[_vm._v(\"当前用户名：\"+_vm._s(_vm.username))]),_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入新的用户名\",\"clearable\":\"\"},model:{value:(_vm.resetname),callback:function ($$v) {_vm.resetname=$$v},expression:\"resetname\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.reset_Name()}}},[_vm._v(\"确认修改\")])],1),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-s-custom\"}),_vm._v(\" 头像修改\")]),_c('img',{staticStyle:{\"width\":\"180px\",\"height\":\"180px\"},attrs:{\"src\":_vm.imgBaseUrl + this.userInfo.avatar}}),_c('input',{staticClass:\"profileinfopanel-upload\",staticStyle:{\"display\":\"block\"},attrs:{\"type\":\"file\"}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.uploadAvatar()}}},[_vm._v(\"确认上传\")])],1),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-map-location\"}),_vm._v(\" 收货地址\")]),_c('el-button',{staticStyle:{\"margin-bottom\":\"4px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.add_address_btn()}}},[_vm._v(\"增加地址\")]),_c('el-dialog',{attrs:{\"title\":\"添加地址\",\"visible\":_vm.add_address_show,\"modal-append-to-body\":false},on:{\"update:visible\":function($event){_vm.add_address_show=$event}}},[_c('el-form',[_vm._v(\" 收货人\"),_c('el-input',{attrs:{\"placeholder\":\"名字\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" 手机号码\"),_c('el-input',{attrs:{\"placeholder\":\"手机号码\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" 地址\"),_c('el-input',{attrs:{\"placeholder\":\"地址\"},model:{value:(_vm.addAddress),callback:function ($$v) {_vm.addAddress=$$v},expression:\"addAddress\"}}),_vm._v(\" 详细地址\"),_c('el-input',{attrs:{\"placeholder\":\"详细地址\"},model:{value:(_vm.detailedaddress),callback:function ($$v) {_vm.detailedaddress=$$v},expression:\"detailedaddress\"}})],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.add_address_show = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.add_address_show = false;_vm.add_address()}}},[_vm._v(\"确 定\")])],1)],1),_c('ul',_vm._l((_vm.addressList),function(item){return _c('li',{key:item.id,staticClass:\"addresslist\"},[_c('div',[_c('p',[_vm._v(\"地址：\"+_vm._s(item.address))]),_c('p',[_vm._v(\"电话：\"+_vm._s(item.phone))])]),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit_address()}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delete_address(item.id)}},slot:\"reference\"},[_vm._v(\"删除\")])],1)])}),0)],1),_c('el-tab-pane',[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_c('i',{staticClass:\"el-icon-unlock\"}),_vm._v(\" 修改密码\")]),_c('form',{staticClass:\"restForm\"},[(_vm.username)?_c('p',[_vm._v(\"当前账号：\"+_vm._s(_vm.username))]):_vm._e(),_c('el-input',{staticClass:\"input\",attrs:{\"show-password\":\"\",\"placeholder\":\"请输入旧密码\"},model:{value:(_vm.oldPassWord),callback:function ($$v) {_vm.oldPassWord=$$v},expression:\"oldPassWord\"}}),_c('el-input',{staticClass:\"input\",attrs:{\"show-password\":\"\",\"placeholder\":\"请输入新密码\"},model:{value:(_vm.newPassWord),callback:function ($$v) {_vm.newPassWord=$$v},expression:\"newPassWord\"}}),_c('el-input',{staticClass:\"input\",attrs:{\"show-password\":\"\",\"placeholder\":\"请确认新密码\"},model:{value:(_vm.confirmPassWord),callback:function ($$v) {_vm.confirmPassWord=$$v},expression:\"confirmPassWord\"}}),_c('div',{staticClass:\"captcha\"},[_c('el-input',{attrs:{\"maxlength\":\"4\",\"placeholder\":\"验证码\"},model:{value:(_vm.captchaCode),callback:function ($$v) {_vm.captchaCode=$$v},expression:\"captchaCode\"}}),_c('img',{attrs:{\"src\":_vm.captchaCodeImg,\"alt\":\"验证码\"},on:{\"click\":_vm.getCaptchaCode}})],1),_c('el-button',{attrs:{\"id\":\"resetbtn\",\"type\":\"primary\"},on:{\"click\":_vm.resetButton}},[_vm._v(\"确认修改\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\r\n    <div class=\"info_page\">\r\n        <el-tabs class=\"tabs\" type=\"border-card\" tab-position=\"left\">\r\n            <!-- 修改用户名 -->\r\n            <el-tab-pane>\r\n                <span slot=\"label\"><i class=\"el-icon-user\"></i> 用户信息</span>\r\n                <p>当前用户名：{{username}}</p>\r\n                <el-input v-model=\"resetname\" placeholder=\"请输入新的用户名\" clearable style=\"width:200px\"></el-input>\r\n                <el-button type=\"primary\" @click=\"reset_Name()\">确认修改</el-button>\r\n            </el-tab-pane>\r\n            <!-- 修改头像 -->\r\n            <el-tab-pane>\r\n                <span slot=\"label\"><i class=\"el-icon-s-custom\"></i> 头像修改</span>\r\n                <img :src=\"imgBaseUrl + this.userInfo.avatar\" style=\"width:180px;height:180px;\">\r\n                <input type=\"file\" class=\"profileinfopanel-upload\" style=\"display: block\">\r\n                <el-button type=\"primary\" @click=\"uploadAvatar()\">确认上传</el-button>\r\n            </el-tab-pane>\r\n            <!-- 收货地址 -->\r\n            <el-tab-pane>\r\n                <span slot=\"label\"><i class=\"el-icon-map-location\"></i> 收货地址</span>\r\n                <el-button @click=\"add_address_btn()\" type=\"primary\"  size=\"mini\" style=\"margin-bottom:4px\">增加地址</el-button>\r\n                    <!-- 添加地址对话框 -->\r\n                    <el-dialog title=\"添加地址\" :visible.sync=\"add_address_show\" :modal-append-to-body=\"false\">\r\n                        <el-form>\r\n                            收货人<el-input v-model=\"username\" placeholder=\"名字\"></el-input>\r\n                            手机号码<el-input v-model=\"phone\" placeholder=\"手机号码\"></el-input>\r\n                            地址<el-input v-model=\"addAddress\" placeholder=\"地址\"></el-input>\r\n                            详细地址<el-input v-model=\"detailedaddress\" placeholder=\"详细地址\"></el-input>                \r\n                        </el-form>\r\n                        <div slot=\"footer\" class=\"dialog-footer\">\r\n                            <el-button @click=\"add_address_show = false\">取 消</el-button>\r\n                            <el-button type=\"primary\" @click=\"add_address_show = false;add_address()\">确 定</el-button>\r\n                        </div>\r\n                    </el-dialog>\r\n                <ul>\r\n                    <li v-for=\"item in addressList\" :key=\"item.id\" class=\"addresslist\">\r\n                        <div>\r\n                            <p>地址：{{item.address}}</p>\r\n                            <!-- <p>详细地址：{{item.address_detail}}</p> -->\r\n                            <p>电话：{{item.phone}}</p>\r\n                            <!-- <p>tag:{{item.tag}}</p>\r\n                            <p>创建时间：{{item.created_at}}</p> -->\r\n                        </div>\r\n                        <div>\r\n                            <el-button type=\"primary\" @click=\"edit_address()\" size=\"mini\">编辑</el-button>\r\n                            <el-button slot=\"reference\" type=\"primary\" @click=\"delete_address(item.id)\" size=\"mini\">删除</el-button>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            </el-tab-pane>\r\n            <!-- 修改密码 -->\r\n            <el-tab-pane>\r\n                <span slot=\"label\"><i class=\"el-icon-unlock\"></i> 修改密码</span>\r\n                <form class=\"restForm\">\r\n                    <p v-if=\"username\">当前账号：{{username}}</p>\r\n                    <el-input class=\"input\" v-model=\"oldPassWord\" show-password placeholder=\"请输入旧密码\"></el-input>\r\n                    <el-input class=\"input\" v-model=\"newPassWord\" show-password placeholder=\"请输入新密码\"></el-input>\r\n                    <el-input class=\"input\" v-model=\"confirmPassWord\" show-password placeholder=\"请确认新密码\"></el-input>\r\n                    <div class=\"captcha\">\r\n                        <el-input v-model=\"captchaCode\" maxlength=\"4\" placeholder=\"验证码\"></el-input>\r\n                        <img :src=\"captchaCodeImg\" alt=\"验证码\" @click=\"getCaptchaCode\">\r\n                    </div>\r\n                    <el-button id=\"resetbtn\" type=\"primary\" @click=\"resetButton\">确认修改</el-button>\r\n                </form>\r\n            </el-tab-pane>\r\n        </el-tabs>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {mapState,mapMutations,mapActions} from 'vuex'\r\n    import { \r\n        changeAvatar, //改变头像\r\n        getAddressList,  //获取收货地址\r\n        postAddAddress,  //增加地址\r\n        deleteAddress,  //删除地址\r\n        getcaptchas,  //获取验证码\r\n        changePassword ,//修改密码\r\n    } from 'src/api/getData'\r\n    import axios from 'axios'\r\n    import {imgBaseUrl} from 'src/config/env'\r\n    import {removeStore} from 'src/config/mUtils'\r\n\r\n    export default {\r\n        data(){\r\n            return{\r\n                username:'',    //当前用户名\r\n                resetname:'', //要重置的用户名\r\n                imgBaseUrl,\r\n                //收货地址列表\r\n                addressList: [],  \r\n                add_address_show:false,\r\n                edit_address_show:false,\r\n                phone: '',\r\n                phone_bk:'', //备用手机号\r\n                addAddress: '',\r\n                detailedaddress: '',\r\n                message:'', //信息\r\n                // 修改密码\r\n                OldPassword: '',\r\n                NewPassword: '',\r\n                ConfirmPassword: '',\r\n                CaptchaCode: '',\r\n                captchaCodeImg: ''\r\n            }\r\n        },\r\n        computed:{\r\n            // 使用对象展开运算符将 mapState 混入 computed 对象中\r\n            ...mapState([\r\n                'userInfo','state_Address','geohash'\r\n            ]),\r\n        },\r\n        //生命周期\r\n        created(){\r\n            this.getCaptchaCode()\r\n        },\r\n        mounted(){\r\n            this.getAddress()\r\n        },\r\n        methods: {\r\n            ...mapActions([\r\n                'saveAddress'\r\n            ]),\r\n            //改用户名\r\n            reset_Name(){\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: '没有修改用户名这个接口，等我后面写服务器的时候再加，嘻嘻',\r\n                    type: 'success'\r\n                });\r\n            },\r\n            //改头像\r\n            async uploadAvatar(){\r\n                //上传头像\r\n                if (this.userInfo) {\r\n                    let input = document.querySelector('.profileinfopanel-upload')\r\n                    let data = new FormData();\r\n                    data.append('file', input.files[0]);\r\n                    try{\r\n                        //上传到服务器\r\n                        let response = await changeAvatar(this.userInfo.user_id,data)\r\n                        //解析响应成json格式\r\n                        let res = await response.json();\r\n                        if (res.status == 1) {\r\n                            this.userInfo.avatar = res.image_path;\r\n                        }\r\n                    }catch (error) {\r\n                        this.$message.error('上传失败，请重新上传');\r\n                        throw new Error(error);\r\n                    }\r\n                }\r\n            },\r\n            // 修改收货地址\r\n            getAddress(){\r\n                this.addressList = this.state_Address.data\r\n            },\r\n            add_address_btn(){\r\n                this.add_address_show = true\r\n            },\r\n            add_address(){\r\n                postAddAddress(\r\n                    this.userInfo.user_id, \r\n                    this.addAddress, \r\n                    this.detailedaddress, \r\n                    this.geohash='geohash', \r\n                    this.username,\r\n                    this.phone, \r\n                    this.phone_bk, \r\n                    0, 1, '公司', 4).then((res) => {\r\n                        console.log(res.data)\r\n                })\r\n            },\r\n            edit_address(){\r\n                alert('没有编辑地址的接口(～﹃～)~zZ')\r\n            },\r\n            delete_address(id){\r\n                this.$confirm('此操作将删除该地址信息, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then( async () => {\r\n                    await deleteAddress(this.userInfo.user_id,id).then((res) => {\r\n                        console.log(res.data)\r\n                    });\r\n                    this.saveAddress();\r\n                    this.addressList = this.state_Address.data;\r\n                    this.$nextTick(() => {\r\n                        console.log('数据更新了')\r\n                    })\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功!'\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消删除'\r\n                    });          \r\n                });\r\n            },\r\n            //修改密码\r\n            async getCaptchaCode(){\r\n                await getcaptchas().then((res) => {\r\n                    this.captchaCodeImg = res.data.code;\r\n                });\r\n            },\r\n            resetButton(){\r\n                changePassword(this.username, this.OldPassWord, this.NewPassWord, this.ConfirmPassWord, this.CaptchaCode).then((res) => {\r\n                    alert('改密码这个接口貌似不管用。。。')\r\n                });\r\n            },\r\n        },\r\n        watch: {\r\n            userInfo: function (value) {\r\n                if (value && value.user_id) {\r\n                    this.username = value.username;\r\n                    this.avatar = value.avatar;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import 'src/style/mixin.scss';\r\n\r\n    .info_page{\r\n        position: absolute;\r\n        top: 60px;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background-color: #f2f2f2;\r\n        z-index: 2;\r\n        .tabs {\r\n            margin: 24px auto 0 auto;\r\n            max-width: 980px;\r\n            height: 600px;\r\n            .restForm{\r\n                background-color: #fff;\r\n                width: 300px;\r\n                padding: 25px;\r\n                border: #d8dee2 solid 1px;\r\n                border-radius: 5px;\r\n                margin: 60px auto;\r\n                .input {\r\n                    margin-bottom: 8px;\r\n                }\r\n                .captcha {\r\n                    display: flex;\r\n                    margin-bottom: 8px;\r\n                    img {\r\n                        margin: 0 16px;\r\n                        cursor: pointer;\r\n                    }\r\n                }\r\n                #resetbtn {\r\n                    width: 100%;\r\n                }\r\n            }\r\n            .addresslist {\r\n                display: flex;\r\n                justify-content:space-between;\r\n                padding: 4px;\r\n                margin-bottom: 4px;\r\n                border: #d8dee2 1px solid;\r\n                border-radius: 5px;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    .profile-info{\r\n        margin: 0 35%;\r\n        \r\n        .headportrait{\r\n            padding:.5rem .4rem;\r\n            @include fj(space-between);         \r\n            align-items:center;\r\n            border-top:1px solid #ddd;\r\n            background:#fff;\r\n            .profileinfopanel-upload{\r\n                opacity: 0.9;\r\n                @include wh(auto,100%);\r\n            }\r\n        }\r\n        .exitlogin{\r\n            width:100%;\r\n            margin:1.3rem auto 0;\r\n            @include sc(.8rem,#fff);\r\n        }\r\n    }\r\n    .router-slid-enter-active, .router-slid-leave-active {\r\n        transition: all .4s;\r\n    }\r\n    .router-slid-enter, .router-slid-leave-active {\r\n        transform: translate3d(2rem, 0, 0);\r\n        opacity: 0;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./info.vue?vue&type=template&id=6325a562&scoped=true&\"\nimport script from \"./info.vue?vue&type=script&lang=js&\"\nexport * from \"./info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./info.vue?vue&type=style&index=0&id=6325a562&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6325a562\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=6325a562&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./info.vue?vue&type=style&index=0&id=6325a562&lang=scss&scoped=true&\""],"sourceRoot":""}